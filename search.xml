<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä¸ªäººç®€ä»‹é¡µé¢æ›´æ–°</title>
      <link href="/posts/9617.html"/>
      <url>/posts/9617.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ªäººç®€ä»‹é¡µé¢æ›´æ–°"><a href="#ä¸ªäººç®€ä»‹é¡µé¢æ›´æ–°" class="headerlink" title="ä¸ªäººç®€ä»‹é¡µé¢æ›´æ–°"></a>ä¸ªäººç®€ä»‹é¡µé¢æ›´æ–°</h2><p><a href="https://blog.dyfa.top/about/">å…³äº | itsNekoã€Œç”Ÿæ´»æ—¥å¿—ã€ (dyfa.top)</a></p><p><code>about.ejs</code></p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/bg-cover'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">.about-cover</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 75vh<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.sitemapss</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 27px auto<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">#switchspring</span> <span class="token punctuation">&#123;</span>      <span class="token property">bottom</span><span class="token punctuation">:</span> 178px <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">#sma</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 139.25px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.comment-scroll</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 79.25px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.bg-cover::before</span> <span class="token punctuation">&#123;</span>    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>https://cdn.jsdelivr.net/gh/moezx/cdn@3.1.9/img/Sakura/images/grid.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.about-cover</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 110vh<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.about-cover</span> <span class="token punctuation">&#123;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 64vh<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">iframe</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">body.dark iframe</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.7<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.swbk</span> <span class="token punctuation">&#123;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 26px 2px <span class="token important">!important</span><span class="token punctuation">;</span>      <span class="token property">margin</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.swbk ol</span> <span class="token punctuation">&#123;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 2px 10px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 26px 20px<span class="token punctuation">;</span>    <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 10px 0px<span class="token punctuation">;</span>    <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 14px 38px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .08<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 3px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .06<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 14px 38px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .08<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 3px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .06<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all .3s ease 0s<span class="token punctuation">,</span> -webkit-transform .6s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.6<span class="token punctuation">,</span> .2<span class="token punctuation">,</span> .1<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> 0s<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> all .3s ease 0s<span class="token punctuation">,</span> -webkit-transform .6s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.6<span class="token punctuation">,</span> .2<span class="token punctuation">,</span> .1<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> 0s<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> all .3s ease 0s<span class="token punctuation">,</span> transform .6s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.6<span class="token punctuation">,</span> .2<span class="token punctuation">,</span> .1<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> 0s<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> all .3s ease 0s<span class="token punctuation">,</span> transform .6s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.6<span class="token punctuation">,</span> .2<span class="token punctuation">,</span> .1<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> 0s<span class="token punctuation">,</span> -webkit-transform .6s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.6<span class="token punctuation">,</span> .2<span class="token punctuation">,</span> .1<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> 0s<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-4px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-4px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 14px 38px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .14<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 3px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .12<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 14px 38px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .14<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 3px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .12<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">" â€œ "</span><span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> -14px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk:after</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">" â€ "</span><span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk:after,  .swbk:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 42px<span class="token punctuation">;</span>    <span class="token property">text-decoration</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.biography .swbk:after,  .biography .swbk:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">body.dark .swbk:after,  body.dark .swbk:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #d2c9c9<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk p</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 19px <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 2.4rem<span class="token punctuation">;</span>    <span class="token property">text-indent</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>    <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Architects Daughter'</span><span class="token punctuation">,</span> cursive <span class="token important">!important</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk .label</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0 14px 0 32px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0 3px 3px 0<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk .label span</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.swbk .label:after</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border-style</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>    <span class="token property">border-width</span><span class="token punctuation">:</span> 0 16px 16px 0<span class="token punctuation">;</span>    <span class="token property">border-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border-right-color</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>    <span class="token property">-webkit-filter</span><span class="token punctuation">:</span> <span class="token function">brightness</span><span class="token punctuation">(</span>120%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">brightness</span><span class="token punctuation">(</span>120%<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.swbk .label</span> <span class="token punctuation">&#123;</span>      <span class="token property">left</span><span class="token punctuation">:</span> -37px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 767px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.swbk .label</span> <span class="token punctuation">&#123;</span>      <span class="token property">left</span><span class="token punctuation">:</span> -18px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.swbk p</span> <span class="token punctuation">&#123;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 2px 8px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aboutme<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container about-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post-statis col l4 hide-on-med-and-down<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/post-statis'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col s12 m12 l4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>profile center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>avatar toupic<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>avatar<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> config<span class="token punctuation">.</span>author </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span>                  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>circle responsive-img avatar-img<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post-statis hide-on-large-only<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                  <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/post-statis'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> config<span class="token punctuation">.</span>author </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>career<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>career </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>social-link hide-on-large-only<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                  <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/social-link'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col l4 hide-on-med-and-down<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>social-link<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/social-link'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>introduction center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>profile<span class="token punctuation">.</span>introduction </span><span class="token delimiter punctuation">%></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>biography<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aboutlist first_about<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ¡ å…³äºæˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>178<span class="token punctuation">,</span> 143<span class="token punctuation">,</span> 206<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åä¸‡ä¼ç‰¹çš®å¡ä¸˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>AKAåä¸‡ä¼ç‰¹çš®å¡ä¸˜ï¼Œæƒ³è¦æˆä¸ºä¼˜ç§€çš„Web Front-end Developerï¼Œæ¢¦æƒ³æ˜¯ä¸–ç•Œå’Œå¹³ï¼Œæƒ³è¦å‘å…‰å‘çƒ­ï¼Œä¸æ­¢äºæ­¤ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>å…³äºç½‘ç«™åç§°ï¼Œå–åä¸º â€œ NekoDeng â€ï¼ŒåŸå› æ˜¯å½“åˆæ³¨å†ŒGoogleé‚®ç®±çš„æ—¶å€™éœ€è¦ä¸€ä¸ªè‹±æ–‡åï¼Œæƒ³äº†å¥½ä¹…æ‰å–åå«nekoï¼Œç„¶åå†åŠ ä¸Šæˆ‘çš„å§“æ°ï¼Œå¾ˆåœŸå•¦ï¼Œå°±è¿™æ ·ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>å¤©èåº§ï¼Œå–œæ¬¢ç¯®çƒï¼Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io/lakers-championship/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>æ¹–äººæ€»å† å†›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>ï¼Œä»çƒ­ç«æ—¶æœŸå¼€å§‹å…³æ³¨Lebron                            Jamesï¼Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io/musics/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>å®è—æ­Œæ›²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>ã€Šè¾¾å°”æ–‡ã€‹ï¼Œ                            è¿˜å–œæ¬¢å¥½å¤šä¸œè¥¿ï¼Œå¶å°”ä¼šå‘ä¸€äº›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io/videos/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>vlog<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>ï¼Œ                            æˆ–è€…çµæ„Ÿæ¥äº†å†™å†™<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io/essay/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>éšç¬”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>å•¥çš„ï¼Œ                            ä¼šç”¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io/gallery/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>ç›¸å†Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>è®°å½•ç”Ÿæ´»ï¼Œå¾…ç»­...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">marginwidth</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">marginheight</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>330<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>86<span class="token punctuation">"</span></span>                            <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//music.163.com/outchain/player?type=2<span class="token entity named-entity" title="&amp;">&amp;amp;</span>id=5248060<span class="token entity named-entity" title="&amp;">&amp;amp;</span>height=66<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åšä¸»çš„å®è—æ­Œæ›²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token important">!important</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            ä»¥å‰æˆ‘ä¸æ‡‚ï¼Œç§ä¸€æ£µæ ‘æœ€å¥½çš„æ—¶é—´æ˜¯åå¹´å‰ï¼Œå…¶æ¬¡å‘¢å°±æ˜¯ç°åœ¨ï¼Œå°±å¥½æ¯”çº½çº¦çš„æ—¶é—´ï¼Œæ¯”åŠ å·å¿«äº†3ä¸ªå°æ—¶ï¼Œä½†åŠ å·å¹¶æ²¡æœ‰å˜æ…¢ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„æ—¶åŒºï¼Œæœ‰äº›äººçœ‹ä¼¼èµ°åœ¨ä½ çš„å‰é¢ï¼Œæœ‰äº›äººçœ‹ä¼¼èµ°åœ¨ä½ çš„åé¢ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„æ—¶åŒºå’Œè·¯ç¨‹ï¼Œæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥ä¸ç”¨å»ç¾¡æ…•æˆ–è€…å«‰å¦’ï¼Œçˆ±æƒ…é‡Œé¢ï¼Œå¹´é¾„ä¸æ˜¯é—®é¢˜ï¼Œå­¦ä¹ ä¹Ÿä¸æ˜¯ã€‚                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aboutlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ•› ä¸ºä»€ä¹ˆå†™åšå®¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>188<span class="token punctuation">,</span> 159<span class="token punctuation">,</span> 119<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>é£èŠ±é›ªæœˆä¹‹äº‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                            å¾ˆé•¿æ—¶é—´äº†ï¼Œæ€»æ˜¯æƒ³å†™ç‚¹ä»€ä¹ˆï¼Œæ— å…³é£æœˆï¼Œå°±æ˜¯æƒ³å†™ç‚¹ä»€ä¹ˆã€‚æ— è®ºæ˜¯è®°å½•çŸ¥è¯†ç‚¹ï¼Œæ€»ç»“æŠ€èƒ½æ ‘ï¼Œäººç”Ÿé•¿è°ˆï¼Œé£èŠ±é›ªæœˆä¹‹äº‹ï¼Œéƒ½å¯ä»¥æœ‰ä¸€ä¸ªå­˜æ¡£çš„åœ°æ–¹ï¼Œå¯¹äºå¤ç›˜ï¼Œå›å¿†ï¼Œéƒ½æ˜¯ä¸€ä¸ªæå¥½çš„æ–¹è°­ã€‚                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ“¬ æˆ‘çš„è”ç³»æ–¹å¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>251<span class="token punctuation">,</span> 150<span class="token punctuation">,</span> 110<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åœ¨è¿™é‡Œæ‰¾åˆ°æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>å¯åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œçœ‹åˆ°äº†ä¼šå°½å¿«å›å¤å“’~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>å¾®ä¿¡å…¬ä¼—å·: itsNeko<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>é‚® ç®±ï¼šnekodeng@qq.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ—³ æœ¬åšå®¢ä¸»é¢˜å¼€æºæŠ•ç¥¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>245<span class="token punctuation">,</span> 150<span class="token punctuation">,</span> 170<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>çƒ­çˆ±å¼€æºçš„Neko<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æœ€è¿‘åœ¨è€ƒè™‘æœ¬åšå®¢ä¸»é¢˜å¼€æºï¼Œå¤§å®¶å¯ä»¥åœ¨æŠ•ç¥¨é¡µé¢è¯„è®ºï¼ŒæŠ•ç¥¨é“¾æ¥ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vote/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hurens<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¼€æºvote<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span> ~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ’´ å…³äºèµ„åŠ©æœ¬åšä¸»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>178<span class="token punctuation">,</span> 143<span class="token punctuation">,</span> 206<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ä¹°ä¸ªé¦’å¤´åƒå§<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ç»´æŠ¤åšå®¢ä¸æ˜“ï¼Œæ†¨æ†¨å¹æ°”ï¼Œè€ƒè™‘åˆ°åç»­å¼€æºåšå®¢è¿˜æŒºè´¹æ—¶è´¹åŠ›çš„ï¼ŒæœåŠ¡å™¨è´¹ç”¨çœŸçš„ç´¯è®¡èµ·æ¥æŒºé«˜çš„ï¼Œæ‰€ä»¥å¯ä»¥ç»™åšä¸»ä¹°ä¸ªé¦’å¤´åƒå—ï¼ŒåŸåŸ ~                            è·¯äººç”²ï¼šå“ï¼Œåšä¸»å¥½å¯æ€œï¼Œä¸€å®šæ”¯æŒä¸€ä¸‹ã€‚é“¾æ¥ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/donate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>èµ„åŠ©åšä¸» ~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aboutlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ¨ æˆ‘çš„å…¶å®ƒç«™ç‚¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>134<span class="token punctuation">,</span> 193<span class="token punctuation">,</span> 102<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åœ¨è¿™é‡Œä¹Ÿå¯æ‰¾åˆ°æˆ‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>åŸŸåå·²è´­ä¹°ï¼šè…¾è®¯äº‘ï¼Œhttps://dyfa.top ~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ğŸ·ï¸ CSDNï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://blog.csdn.net/weixin_42529972<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>itsNekoDeng<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ğŸ·ï¸ æ˜é‡‘ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://juejin.im/user/3131038656901591/posts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>itsNekoDeng<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ğŸ·ï¸ giteeï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nekodeng.gitee.io<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>https://nekodeng.gitee.io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>ï¼ˆåŸï¼‰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>ğŸ·ï¸ å¾®ä¿¡å…¬ä¼—å·ï¼šåç§°" itsNekoDengåšå®¢ "ï¼Œæ‰«ä¸€æ‰«è®¢é˜…æˆ‘ï¼Œè¿™æ ·ä½ å°±èƒ½å‡†æ—¶æ”¶åˆ°æˆ‘çš„æ–‡ç« æ›´æ–°å•¦ã€‚                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/medias/qrcode_for_gh.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span>                                <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- å…³äºprogrammeræ­åšå®¢ --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>columnlist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ğŸ’ å…³äºprogrammeræ­åšå®¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swbk<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>label<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>249<span class="token punctuation">,</span> 191<span class="token punctuation">,</span> 69<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ä¸€ç§ç¥ç§˜ç”Ÿç‰©<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>                            ä¸ªäººç½‘ç«™åšä¸»æ˜¯ä¸€ç§æœ‰ç‚¹ç¥ç§˜çš„åŠ¨ç‰©ï¼Œå¤§éƒ¨åˆ†éšèº«åœ¨äº’è”ç½‘çš„ä¸›æ—ä¸­ï¼Œ                            å¾ˆå°‘æœ‰äººè§‚å¯Ÿåˆ°ã€‚                            å…¶ä»–æ²¡æœ‰ç»éªŒçš„ç”¨æˆ·å¯èƒ½ä¼šè®¤ä¸ºï¼Œä¸ªäººç½‘ç«™å·²ç»åƒæé¾™é‚£æ ·ç­ç»ã€‚                            äº‹å®æ˜¯é‡å¤–è¿˜å­˜åœ¨è®¸å¤šæ ‡æœ¬ï¼Œåªæœ‰äº†è§£è¯¥ç‰©ç§ä¹ æ€§çš„çŒäººæ‰èƒ½å‘ç°å®ƒä»¬ã€‚                            --<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cheapskatesguide.org/articles/personal-website-hunting.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ã€Šæœå¯»å‡ ä¹ä¸å¯è§çš„ä¸ªäººç½‘ç«™ã€‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- ä»¿èŠå¤©æ¡†æ¨¡å— --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">            <span class="token comment">/* æš—è‰²æ¨¡å¼ å’Œæ·»åŠ å°å±å¹•å“åº”å¼ */</span>            <span class="token selector">body.dark .triangle</span> <span class="token punctuation">&#123;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> #2e323b<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">body.dark .triangle .textLeft span</span> <span class="token punctuation">&#123;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">body.dark .triangle li.textLeft span:before</span> <span class="token punctuation">&#123;</span>                <span class="token property">border-right</span><span class="token punctuation">:</span> 8px solid black<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">body.dark .triangle .textRight span</span> <span class="token punctuation">&#123;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> #64982e<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">body.dark .triangle li.textRight span:after</span> <span class="token punctuation">&#123;</span>                <span class="token property">border-left</span><span class="token punctuation">:</span> 8px solid #64982e<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 322px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 450px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>                <span class="token selector">.triangle li:nth-last-of-type(1)</span> <span class="token punctuation">&#123;</span>                    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 60px <span class="token important">!important</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>                    <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 452px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 900px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>                <span class="token selector">.triangle li:nth-last-of-type(1)</span> <span class="token punctuation">&#123;</span>                    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 42px <span class="token important">!important</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>                    <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>                <span class="token selector">.triangle li span</span> <span class="token punctuation">&#123;</span>                    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px <span class="token important">!important</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>                    <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 321px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>                <span class="token selector">.triangle li:nth-last-of-type(1)</span> <span class="token punctuation">&#123;</span>                    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 80px <span class="token important">!important</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                        <span class="token selector">.triangle li:nth-last-of-type(2)</span> <span class="token punctuation">&#123;</span>                    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 42px <span class="token important">!important</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">            <span class="token selector">.triangle</span> <span class="token punctuation">&#123;</span>                <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> #ebebe9<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle ul</span> <span class="token punctuation">&#123;</span>                <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li</span> <span class="token punctuation">&#123;</span>                <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>                <span class="token property">padding</span><span class="token punctuation">:</span> 10px 15px<span class="token punctuation">;</span>                <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li span</span> <span class="token punctuation">&#123;</span>                <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>                <span class="token property">border-radius</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>                <span class="token property">padding</span><span class="token punctuation">:</span> 20px 15px 20px 15px<span class="token punctuation">;</span>                <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>                <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle .textLeft span</span> <span class="token punctuation">&#123;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>                <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>                <span class="token property">left</span><span class="token punctuation">:</span> 86px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle .textRight span</span> <span class="token punctuation">&#123;</span>                <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>                <span class="token property">background-color</span><span class="token punctuation">:</span> #a6e860<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>                <span class="token property">right</span><span class="token punctuation">:</span> 86px<span class="token punctuation">;</span>                <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li.textLeft:before</span> <span class="token punctuation">&#123;</span>                <span class="token property">content</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"/medias/itsneko.jpg"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>                <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>                <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>                <span class="token property">left</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 9px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li.textLeft span:before</span> <span class="token punctuation">&#123;</span>                <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>                <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">border</span><span class="token punctuation">:</span> 8px solid transparent<span class="token punctuation">;</span>                <span class="token property">border-right</span><span class="token punctuation">:</span> 8px solid white<span class="token punctuation">;</span>                <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>                <span class="token property">left</span><span class="token punctuation">:</span> -16px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li.textRight:after</span> <span class="token punctuation">&#123;</span>                <span class="token property">content</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"/medias/qqavatar.jpg"</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>                <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>                <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>                <span class="token property">right</span><span class="token punctuation">:</span> -10px<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 9px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.triangle li.textRight span:after</span> <span class="token punctuation">&#123;</span>                <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>                <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>                <span class="token property">border</span><span class="token punctuation">:</span> 8px solid transparent<span class="token punctuation">;</span>                <span class="token property">border-left</span><span class="token punctuation">:</span> 8px solid #a6e860<span class="token punctuation">;</span>                <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>                <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>                <span class="token property">right</span><span class="token punctuation">:</span> -16px<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">li</span> <span class="token punctuation">&#123;</span>                <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token selector">.textRight</span> <span class="token punctuation">&#123;</span>                <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>triangle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textLeft<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ ä½ ä¹°çš„ä»€ä¹ˆä¹¦ ï¼Ÿ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textRight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ ç¼–ç¨‹ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textLeft<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ C++è¿˜æ˜¯JAVA ï¼Ÿ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textRight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ æ²ˆä»æ–‡ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textLeft<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ å“ˆ ï¼Ÿ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textRight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ å®³ï¼Œè¿™å¤§æ¦‚å°±æ˜¯å¤äººäº‘æ–‡äººéªšå®¢å§ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>textLeft<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>â€œ æ›¾ç²—æµ…åœ°è®¤ä¸ºåªæœ‰programmeræ‰æ­åšå®¢ï¼Œåæ¥å‘ç°äº†ä»€ä¹ˆæ‰æ˜¯å¤§åƒä¸–ç•Œ â€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>livere <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>livere<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/livere'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>valine <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/valine'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>minivaline <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>minivaline<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/minivaline'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> about </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è™šæ‹Ÿæœºè®¾ç½®å…±äº«æ–‡ä»¶å¤¹</title>
      <link href="/posts/ebbb.html"/>
      <url>/posts/ebbb.html</url>
      
        <content type="html"><![CDATA[<h1 id="è™šæ‹Ÿæœºä¸win10æ–‡ä»¶å…±äº«"><a href="#è™šæ‹Ÿæœºä¸win10æ–‡ä»¶å…±äº«" class="headerlink" title="è™šæ‹Ÿæœºä¸win10æ–‡ä»¶å…±äº«"></a>è™šæ‹Ÿæœºä¸win10æ–‡ä»¶å…±äº«</h1><p><a href="https://blog.csdn.net/YiYeZhiNian/article/details/92700377">è™šæ‹Ÿæœºä¸win10ç³»ç»Ÿæ–‡ä»¶å…±äº«_vmware windows10å…±äº«æ–‡ä»¶æœ‰å‡ ç§æ–¹æ³•-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è™šæ‹Ÿæœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº’è”ç½‘ä¸‹è½½æŒ‡å—ï¼šBTã€ç£åŠ›ã€ç§å­ã€ç›´é“¾ä¸PTè¯¦è§£</title>
      <link href="/posts/1e4.html"/>
      <url>/posts/1e4.html</url>
      
        <content type="html"><![CDATA[<p>äº’è”ç½‘ä¸‹è½½æŒ‡å—ï¼šBTã€ç£åŠ›ã€ç§å­ã€ç›´é“¾ä¸PTè¯¦è§£</p><p>BTã€ç£åŠ›ã€ç§å­ã€ç›´é“¾ã€PTåœ¨äº’è”ç½‘ä¸‹è½½é¢†åŸŸä¸­å„æœ‰å…¶ç‰¹å®šå«ä¹‰ï¼š</p><ol><li><p><strong>BT (BitTorrent)</strong>:<br>BTæ˜¯ä¸€ç§ç‚¹å¯¹ç‚¹æ–‡ä»¶å…±äº«åè®®ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡äº’è”ç½‘ä¸‹è½½å¤§ä½“ç§¯æ–‡ä»¶ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯å°†æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå°å—ï¼Œä¸‹è½½è€…å¯ä»¥ä»å¤šä¸ªæ‹¥æœ‰è¯¥æ–‡ä»¶ä¸åŒéƒ¨åˆ†çš„ç”¨æˆ·é‚£é‡ŒåŒæ—¶ä¸‹è½½ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿä½œä¸ºâ€œç§å­â€ä¸Šä¼ å·²ä¸‹è½½çš„éƒ¨åˆ†ç»™å…¶ä»–ç”¨æˆ·ï¼Œä»è€Œå®ç°é«˜æ•ˆåˆ†å‘ã€‚</p></li><li><p><strong>ç£åŠ›é“¾æ¥ (Magnet URI)</strong>:<br>ç£åŠ›é“¾æ¥æ˜¯ä¸€ç§åŸºäºURIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰çš„è¶…é“¾æ¥å½¢å¼ï¼Œå®ƒä¸ç›´æ¥é“¾æ¥åˆ°æ–‡ä»¶ï¼Œè€Œæ˜¯åŒ…å«äº†è§£æå’Œä¸‹è½½æ–‡ä»¶æ‰€éœ€çš„æ•£åˆ—å€¼ã€ trackersä¿¡æ¯ç­‰å…ƒæ•°æ®ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç‚¹å‡»ç£åŠ›é“¾æ¥å¼€å§‹ä½¿ç”¨æ”¯æŒæ­¤åè®®çš„å®¢æˆ·ç«¯è½¯ä»¶ï¼ˆå¦‚BitTorrentå®¢æˆ·ç«¯ï¼‰ä¸‹è½½æ–‡ä»¶ï¼Œæ— éœ€å…ˆä¸‹è½½ä¸€ä¸ª.torrentæ–‡ä»¶ã€‚</p></li><li><p><strong>ç§å­ (Torrent Seed)</strong>:<br>åœ¨BitTorrentä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œç§å­â€æŒ‡çš„æ˜¯æ‹¥æœ‰å®Œæ•´æ–‡ä»¶å¹¶æ­£åœ¨ä¸Šä¼ æ–‡ä»¶ç‰‡æ®µç»™å…¶ä»–ç”¨æˆ·çš„å®¢æˆ·ç«¯ã€‚ä¸€ä¸ªå¥åº·çš„BTä¸‹è½½ç¯å¢ƒä¾èµ–äºè¶³å¤Ÿçš„ç§å­æ¥ä¿è¯æ–‡ä»¶çš„å¯è·å–æ€§ã€‚ç§å­ä¹Ÿå¯ä»¥æŒ‡ä»£åŒ…å«æ–‡ä»¶å…ƒæ•°æ®çš„.torrentæ–‡ä»¶ï¼Œç”¨æˆ·éœ€è¦å…ˆä¸‹è½½è¿™ä¸ªå°æ–‡ä»¶æ¥å¼€å§‹ä¸‹è½½å®é™…çš„å†…å®¹ã€‚</p></li><li><p><strong>ç›´é“¾ (Direct Link &#x2F; Direct Download Link)</strong>:<br>ç›´é“¾æ˜¯æŒ‡ç›´æ¥æŒ‡å‘å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶çš„é“¾æ¥ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡å‡†çš„HTTPæˆ–HTTPSåè®®ç›´æ¥ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„è½¯ä»¶æˆ–åè®®æ”¯æŒã€‚è¿™æ˜¯æœ€ç®€å•ç›´æ¥çš„ä¸‹è½½æ–¹å¼ã€‚</p></li><li><p><strong>PT (Private Tracker)</strong>:<br>PTå³ç§äººTrackerï¼Œæ˜¯ç›¸å¯¹äºå…¬æœ‰Trackerè€Œè¨€çš„ã€‚ç§äººTrackerç«™ç‚¹é€šå¸¸éœ€è¦æ³¨å†Œå’Œé‚€è¯·æ‰èƒ½åŠ å…¥ï¼Œæä¾›æ›´ç¨³å®šçš„ä¸‹è½½é€Ÿåº¦ã€æ›´é«˜çš„æ–‡ä»¶å®Œæ•´æ€§ä»¥åŠæ›´ä¸¥æ ¼çš„ç”¨æˆ·ç®¡ç†è§„åˆ™ã€‚PTç«™ç‚¹é€šå¸¸ä¼šå¯¹ç”¨æˆ·çš„ä¸Šä¼ å’Œä¸‹è½½è¿›è¡Œä¸¥æ ¼çš„æ¯”ä¾‹æ§åˆ¶ï¼Œä»¥ç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½ç§¯æåœ°è´¡çŒ®ä¸Šä¼ é‡ï¼Œç»´æŠ¤ç«™ç‚¹çš„å¥åº·è¿è¡Œã€‚</p></li></ol><p>è¿™äº›æ¦‚å¿µæ¶µç›–äº†äº’è”ç½‘ä¸Šå¸¸è§çš„å‡ ç§æ–‡ä»¶åˆ†äº«å’Œä¸‹è½½æ–¹å¼ï¼Œæ¯ç§éƒ½æœ‰å…¶ç‰¹å®šçš„é€‚ç”¨åœºæ™¯å’Œç‰¹ç‚¹ã€‚</p><p><a href="https://www.bilibili.com/video/BV1tm421W7Fv/">https://www.bilibili.com/video/BV1tm421W7Fv/</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PCDN</title>
      <link href="/posts/e053.html"/>
      <url>/posts/e053.html</url>
      
        <content type="html"><![CDATA[<h1 id="PSDN"><a href="#PSDN" class="headerlink" title="PSDN"></a>PSDN</h1><p>è¿è¥å•†å‘æ–‡ä¸¥æ ¼æ’æŸ¥ PCDN çš„æ–°é—»ï¼Œå¼•èµ·äº†è¡Œä¸šå†…å¤–çš„å¹¿æ³›å…³æ³¨ã€‚</p><p>è¯¥è¿è¥å•†è¡¨ç¤ºï¼šå½“ç”¨æˆ·å®½å¸¦è´¦æˆ·å­˜åœ¨â€œå¼‚å¸¸å¤§æµé‡ä¸Šè¡Œå®½å¸¦å ç”¨â€æƒ…å†µæ—¶ï¼Œå¯èƒ½ä¼šå¯¹è´¦æˆ·è¿›è¡Œå°ç¦ã€‚å¦‚æœç”¨æˆ·ç”³è¯‰ï¼Œåˆ™å®¢æœå°†ä¼šå®‰æ’å®½å¸¦å¸ˆå‚…ï¼Œä¸Šé—¨è¿›è¡Œ â€œå–è¯â€ï¼Œå†æ ¹æ®æƒ…å†µäºˆä»¥è§£å°ã€‚æœ¬æ¬¡æ ¸æŸ¥è¡ŒåŠ¨ï¼Œè¦åšåˆ° â€”â€”â€œåº”æŸ¥å°½æŸ¥ã€åº”åœå°½åœã€åº”æ‹†å°½æ‹†â€ã€‚</p><p>ç©¶ç«Ÿæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„â€œå¼‚å¸¸å¤§æµé‡ä¸Šè¡Œå®½å¸¦å ç”¨â€ï¼Œä¼šè®©è¿è¥å•†å¦‚æ­¤å…´å¸ˆåŠ¨ä¼—ï¼Ÿ</p><p>ç­”æ¡ˆå°±æ˜¯ â€”â€”PCDNã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-PCDN"><a href="#ä»€ä¹ˆæ˜¯-PCDN" class="headerlink" title="ä»€ä¹ˆæ˜¯ PCDN"></a>ä»€ä¹ˆæ˜¯ PCDN</h2><p>PCDN åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿä¸ºä»€ä¹ˆä¼šè¢«è¿è¥å•†å°æ€ï¼Ÿ</p><p>ç®€å•æ¥è¯´ï¼ŒPCDN å°±æ˜¯ P2P+CDNã€‚è‹±æ–‡å…¨ç§°ï¼šPeer to Peer Content Delivery Networkï¼Œä¸­æ–‡å…¨ç§°ï¼šç‚¹å¯¹ç‚¹å†…å®¹åˆ†å‘ç½‘ç»œã€‚</p><p>P2Pï¼Œå¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰ã€‚å‰å‡ å¹´è‡­åæ˜­è‘—çš„ P2P ç†è´¢ï¼Œè¿˜æœ‰æ›´æ—©æ—¶å€™ç«éå…¨ç½‘çš„ P2P ä¸‹è½½ï¼Œéƒ½æ˜¯åŸºäº P2Pã€‚</p><p>P2P æ˜¯ä¸€ç§å…¸å‹çš„å»ä¸­å¿ƒåŒ–ç†å¿µã€‚å®ƒè®²ç©¶çš„æ˜¯ä¸ªä½“ä¸ä¸ªä½“ä¹‹é—´çš„ä¸šåŠ¡å…³ç³»ã€‚</p><p>ä»¥ P2P ä¸‹è½½ä¸ºä¾‹ã€‚</p><p>ä¼ ç»Ÿä¸‹è½½ï¼Œéƒ½æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼ŒN ä¸ªå®¢æˆ·ç«¯ã€‚æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œéƒ½å»æœåŠ¡å™¨ä¸‹è½½æ•°æ®ï¼ˆç”µå½±ï¼‰ã€‚</p><p><a href="https://www.ithome.com/0/748/924.htm">è¿è¥å•†æ‹¼å‘½å°æ€çš„ PCDNï¼Œåˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿ - ITä¹‹å®¶ (ithome.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> PCDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”³è¯·å…è´¹æ°¸ä¹…åŸŸå</title>
      <link href="/posts/45c5.html"/>
      <url>/posts/45c5.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç”³è¯·å…è´¹æ°¸ä¹…åŸŸå"><a href="#ç”³è¯·å…è´¹æ°¸ä¹…åŸŸå" class="headerlink" title="ç”³è¯·å…è´¹æ°¸ä¹…åŸŸå"></a>ç”³è¯·å…è´¹æ°¸ä¹…åŸŸå</h1><h2 id="freenom"><a href="#freenom" class="headerlink" title="freenom"></a>freenom</h2><p>æä¾›å…è´¹åŸŸåçš„æœºæ„å¾ˆå¤šï¼Œæ¯”è¾ƒè‘—åçš„æ˜¯freenomï¼Œä½†å¯æƒœçš„æ˜¯freenomç”±äºå› ä¸ºé¡¶çº§åŸŸåè¢«æ»¥ç”¨æˆä¸ºé’“é±¼å’Œè¯ˆéª—ç½‘ç«™è€Œè¢«èµ·è¯‰ï¼Œæ‰€ä»¥ç°åœ¨åŸºæœ¬æ˜¯å¾ˆéš¾ç”³è¯·äº†ã€‚æ‰€ä»¥å°±åªå‰©eu.orgæ¯”è¾ƒæ¨èäº†ã€‚</p><h2 id="euorg"><a href="#euorg" class="headerlink" title="euorg"></a>euorg</h2><p><a href="https://link.zhihu.com/?target=http://EU.org">EU.org</a>æ˜¯ä¸€ä¸ªä»1996å¼€å§‹æä¾›å…è´¹åŸŸåçš„ç»„ç»‡, å¸®åŠ©å­¦ç”Ÿã€çˆ±å¥½è€…æˆ–è€…éè¥åˆ©ç»„ç»‡ä¸ç”¨èŠ±è´¹è´­ä¹°åŸŸåå°±å¯èƒ½æ‹¥æœ‰è‡ªå·±çš„å…è´¹åŸŸåï¼Œè™½ç„¶åˆ‡ç¡®æ¥è¯´è¿™æ˜¯ä¸€ä¸ªäºŒçº§åŸŸåï¼Œä½†æ˜¯æ ¹æ®ä¸€äº›ç½‘ç«™çš„èµ„è®¯ï¼Œæœ‰è®¸å¤šå¤§å‹äº’è”ç½‘å…¬å¸ï¼Œåƒæ˜¯ Google, Cloudflare, Bing ç­‰å‚å•†éƒ½å·²ç»å°†å…¶å½“æˆæ˜¯ä¸€ä¸ªé¡¶çº§ç½‘åŸŸäº†ã€‚</p><p>è™½ç„¶å¯ä»¥è¿›è¡Œå…è´¹ç”³è¯·ï¼Œä½†æ˜¯ä¸è¦æ»¥ç”¨ç”³è¯·ï¼Œç”³è¯·è€…å¿…é¡»éµå®ˆäº’è”ç½‘æ ‡å‡†(Rfc)ï¼Œä¸è¦åˆ©ç”¨å…¶æ¥å‘é€åƒåœ¾é‚®ä»¶æˆ–ç½‘ç»œé’“é±¼ä»¥åŠåˆ†å‘æ¶æ„è½¯ä»¶ï¼Œæ¯•ç«Ÿæä¾›å…è´¹çš„åŸŸåçš„ç»„ç»‡ï¼Œè°ä¹Ÿä¸æƒ³å…¶å–æ¶ˆå…è´¹æœåŠ¡ï¼Œå…¶æ¬¡ä¸è¦å¤šæ¬¡æ³¨å†Œç”³è¯·å ç”¨åŸŸåï¼Œå°½é‡åªæ˜¯æ³¨å†Œéœ€è¦çš„åŸŸåï¼Œé€šå¸¸æ¥è¯´æ³¨å†Œä¸¤ä¸ªåŸŸååŸºæœ¬å°±æ»¡è¶³æ—¥å¸¸ä½¿ç”¨ï¼Œä¸€ä¸ªæ­£å¼ç«™ç‚¹åŸŸåå’Œä¸€ä¸ªæµ‹è¯•ç«™ç‚¹åŸŸåã€‚</p><p><a href="https://nic.eu.org/opendomains.html">EUORGå¼€åŸŸå’Œæ”¿ç­–</a>å‚è€ƒåœ°å€</p><p>å»å¹´7æœˆç”³è¯·äº†ä¸€æ¬¡ï¼Œåˆ°ç°åœ¨éƒ½è¿˜æ²¡é€šè¿‡ï¼Œæ‚²&#96;(<em>&gt;ï¹&lt;</em>)â€²ã€‚æ‰€ä»¥å†³å®šé‡æ–°å†ç”³è¯·ä¸€ä¸ªã€‚</p><h2 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h2><p>æ³¨å†Œå‰ï¼Œéœ€äº‹å…ˆå‡†å¤‡<code>é‚®ç®±</code>å’Œ<code>ä¸€ä¸ªHostryè´¦å·</code></p><ul><li>é‚®ç®±: google Gmail ã€foxmailã€QQ éƒ½å¯ä»¥</li><li>æ³¨å†ŒHostryè´¦å·ä»¥è·å–å…è´¹DNSè§£ææœåŠ¡ï¼ˆä¸å»ºè®®é‡‡ç”¨ dnspod ï¼‰</li></ul><h3 id="Hostry"><a href="#Hostry" class="headerlink" title="Hostry"></a>Hostry</h3><p>HOSTRY ä½œä¸ºä¸€å®¶å¯é ä¸”æˆç†Ÿçš„æ‰˜ç®¡æœåŠ¡æä¾›å•†ï¼ŒHOSTRYä¸ºåœ¨çº¿ä¼ä¸šæä¾›äº†å¤§é‡ä¸åŒçš„æ‰˜ç®¡é€‰é¡¹ï¼Œä¸“æ³¨äºå†…å®¹äº¤ä»˜ç½‘ç»œï¼ˆCDNï¼‰ã€è™šæ‹Ÿä¸“ç”¨æœåŠ¡å™¨ï¼ˆVPSï¼‰ã€ä¸“ç”¨æœåŠ¡å™¨å’Œå…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œä»¥ç¡®ä¿ä¸ºå®¢æˆ·æä¾›é«˜è´¨é‡çš„webæ‰˜ç®¡æœåŠ¡ã€‚<br>æ­¤å¤„æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ HOSTRY å…¶ DNS è§£ææœåŠ¡æ¥åŠ å¿«åŸŸåç”³è¯·æ‰€å ç”¨å®¡æ ¸çš„æ—¶é—´ï¼Œæ²¡æœ‰é€‰æ‹© dnspod æ˜¯å› ä¸ºæœ‰å¯èƒ½åœ¨ç”³è¯·å…è´¹åŸŸåéªŒè¯è§£ææ—¶ä¼šäº§ç”Ÿé”™è¯¯ä»è€Œå¢åŠ å®¡æ ¸æ—¶é—´ï¼Œå…¶æ¬¡æ˜¯ä½¿ç”¨ dnspod éœ€è¦è¿›è¡Œå®åè®¤è¯ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ HOSTRY åœ¨åŸŸåå®¡æ‰¹é€šè¿‡åå†ä½¿ç”¨ dnspod æ¥è¿›è¡Œè§£æã€‚</p><ol><li><a href="https://hostry.com/register/">ç‚¹å‡»æ³¨å†Œ</a>ï¼Œè¾“å…¥æ³¨å†Œé‚®ç®±ä»¥åŠç›¸å…³çš„æ³¨å†Œä¿¡æ¯ï¼ˆåæ­£åªç”¨ä¸€æ¬¡ä¿¡æ¯ä¸ä¸€å®šå¡«çœŸçš„ï¼‰ï¼Œç„¶åä½ å†é‚®ç®±ä¸­ä¼šæ”¶åˆ°ä¸€æ¡æ¿€æ´»ä¿¡æ¯è¿›è¡Œï¼ˆ<code>ACTIVATE ACCOUNT</code>ï¼‰ï¼Œæ³¨å†Œåœ°å€é‚®ç¼–è‡ªè¡ŒGoogleã€ç™¾åº¦å³å¯ã€‚</li><li>éœ€è¦éªŒè¯è¦æ³¨å†Œçš„åŸŸåæ˜¯å¦è¢«æ³¨å†Œè¿‡ï¼Œ<a href="https://tool.dnspod.cn/">ç‚¹å‡»æ£€æµ‹</a>ï¼Œå¦‚æœå‡ºç°å¦‚ä¸‹å›¾ç‰‡ä¸­çš„æƒ…å†µè¡¨ç¤ºå·²æ³¨å†Œ</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291945808.png" alt="æ£€æµ‹" style="zoom:67%;" /><ol start="3"><li><a href="https://hostry.com/products/dns/">ç‚¹å‡»åˆ›å»ºå…è´¹çš„DNSè§£æ</a>ï¼Œå…¶æ— ä¸»æœºDNSæ›´å¿«ã€æ›´å®‰å…¨ï¼Œå¹¶ä¸”å¯¹æ¡ç›®æˆ–è¯·æ±‚çš„æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291945622.png" alt="åˆ›å»ºDNSè§£æ" style="zoom:67%;" /><ol start="4"><li><a href="https://nic.eu.org/">æ³¨å†Œeu.orgåŸŸå</a>ï¼Œ(âŠ™oâŠ™)â€¦å› ä¸ºæˆ‘æ˜¯å»å¹´æ³¨å†Œçš„ï¼Œé‚®ç®±æ”¶åˆ°çš„é‚®ä»¶ä¹Ÿæ²¡æœ‰ä¿å­˜&#96;(<em>&gt;ï¹&lt;</em>)â€²ï¼Œè¿™é‡Œå°±æ‹¿ä¸å‡ºæ¼”ç¤ºå›¾ç‰‡äº†ã€‚å¸Œæœ›å¤§å®¶èƒ½å¸å–åšä¸»çš„æ•™è®­ï¼Œé‚®ä»¶é‡Œå­˜æ”¾çš„æ˜¯ç™»å½•å¿…é¡»çš„å¥æŸ„ï¼Œåšä¸»èƒ½é‡æ–°ç™»å½•ä¸Šè¿™ä¸ªç½‘ç«™ä¹Ÿçº¯å±è¿æ°”ã€‚æ³¨æ„ï¼šè¾“å…¥Nameæ—¶å§“å<strong>é¦–å­—æ¯å¤§å†™</strong>ï¼Œå¹¶ä¸”<strong>ä¸­é—´æœ‰ç©ºæ ¼</strong>ï¼Œåœ°å€éšæ„åœ¨ç™¾åº¦ä¸­æ‰¾å¯»ä¸€ä¸ªè‹±æ–‡åœ°å€å³å¯ã€‚</li><li>æ³¨å†ŒæˆåŠŸç™»å½•åï¼Œç‚¹å‡» <code>new Domain</code> åˆ›å»ºè‡ªå®šä¹‰çš„åŸŸåï¼Œå¡«å†™å¦‚ä¸‹ä¿¡æ¯ä»¥åŠNameServersä¿¡æ¯ï¼Œå¡«å†™å®Œæ¯•åç‚¹å‡»submitè¿›è¡Œæäº¤ã€‚</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291945587.png" alt="New1" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291945790.png" alt="New2" style="zoom: 50%;" /><ol start="6"><li>æäº¤åå°†è¿›è¡ŒåŸŸåè®¤è¯è®°å½•ï¼Œå¦‚å‡ºç°ä¸‹å›¾æ‰€ç¤ºåˆ™è¡¨ç¤ºæˆåŠŸå®¡æ ¸ï¼Œåé¢è®°å¾—ç»å¸¸æŸ¥çœ‹é‚®ç®±æ˜¯å¦æ”¶åˆ°ä¿¡æ¯ï¼ˆå¯èƒ½ä¼šå‡ºç°åœ¨åƒåœ¾é‚®ä»¶ä¸­ï¼‰</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291945974.png" alt="æˆåŠŸï¼" style="zoom: 80%;" /><h2 id="åŸŸåè§£ææ”¹ä¸ºCloudflareå¹¶æŒ‡å‘GithubPages"><a href="#åŸŸåè§£ææ”¹ä¸ºCloudflareå¹¶æŒ‡å‘GithubPages" class="headerlink" title="åŸŸåè§£ææ”¹ä¸ºCloudflareå¹¶æŒ‡å‘GithubPages"></a>åŸŸåè§£ææ”¹ä¸ºCloudflareå¹¶æŒ‡å‘GithubPages</h2><p>æè¿°ï¼šæ­¤å¤„dnspodå®åè®¤è¯ä¸åœ¨ç´¯è¿°ï¼Œä½ ä¸ä¸€å®šè¦é€‰æ‹©dnspodä½ ä¹Ÿå¯ä»¥ç»§ç»­ä½¿ç”¨HOSTRYæä¾›çš„å…è´¹DNSæœåŠ¡ï¼Œæˆ–è€…é€‰æ‹©Cloudflareæä¾›çš„DNSè§£ææœåŠ¡éƒ½æ˜¯å¯ä»¥çš„ï¼Œæ­¤å¤„ä»¥Cloudflareä¸ºä¾‹ï¼ˆæ­¤å¤„å‡è®¾ä½ å·²ç»æœ‰äº†Cloudflareè´¦å·ï¼Œæ²¡æœ‰çš„æœ‹å‹å»æ³¨å†Œä¸€ä¸ªå³å¯ï¼‰ã€‚</p><ol><li>è®¿é—®å¹¶ç™»å½• cloudflare é¢æ¿ï¼Œåœ°å€ï¼š<a href="https://link.zhihu.com/?target=https://dash.cloudflare.com/login">https://dash.cloudflare.com/login</a>, ç„¶åæ·»åŠ åˆšæ‰æ³¨å†Œçš„ç«™ç‚¹ï¼Œé€‰æ‹© Free å¥—é¤å³å¯ï¼Œç‚¹å‡»ç»§ç»­ã€‚</li></ol><p>å‚è€ƒæ–‡ç« </p><p><a href="https://zhuanlan.zhihu.com/p/571929772">å…è´¹æ³¨å†Œç”³è¯·æ°¸ä¹…çš„eu.orgåŸŸååˆ›å»ºå±äºè‡ªå·±çš„åŸŸå</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> euorg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sublimeé…ç½®</title>
      <link href="/posts/cd41.html"/>
      <url>/posts/cd41.html</url>
      
        <content type="html"><![CDATA[<h1 id="sublimeé…ç½®"><a href="#sublimeé…ç½®" class="headerlink" title="sublimeé…ç½®"></a>sublimeé…ç½®</h1>]]></content>
      
      
      
        <tags>
            
            <tag> sublime </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WireSharkæŠ“åŒ…å¾®ä¿¡è§†é¢‘</title>
      <link href="/posts/d70a.html"/>
      <url>/posts/d70a.html</url>
      
        <content type="html"><![CDATA[<h1 id="WireSharkæŠ“åŒ…å¾®ä¿¡è§†é¢‘"><a href="#WireSharkæŠ“åŒ…å¾®ä¿¡è§†é¢‘" class="headerlink" title="WireSharkæŠ“åŒ…å¾®ä¿¡è§†é¢‘"></a>WireSharkæŠ“åŒ…å¾®ä¿¡è§†é¢‘</h1><p>å¾®ä¿¡è§†é¢‘ç”±äºâ€¦â€¦ï¼Œä½¿å¾—å…¶ä¸‹è½½ä¸€ç›´æ˜¯ä¸€ä¸ªé—®é¢˜</p><h2 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="headerlink" title="å…¶ä»–æ–¹æ³•"></a>å…¶ä»–æ–¹æ³•</h2><p><a href="https://mp.weixin.qq.com/s/qyUGT-1wBFuZNrm8_48S2w">å¥½ç”¨çš„å¾®ä¿¡è§†é¢‘å·è§†é¢‘ä¸‹è½½æ–¹æ³•ï¼ˆ2024å¹´ï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ“åŒ… </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡è§†é¢‘ä¸‹è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ¸©çŒç¯®</title>
      <link href="/posts/d827.html"/>
      <url>/posts/d827.html</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©é‡æ¸©äº†ç«¥å¹´ç»å…¸â€”â€”çŒç¯®é«˜æ‰‹ï¼Œç»ˆäºç­‰æ¥äº†æœ€åçš„æ—¶åˆ»ï¼šç§°éœ¸å…¨å›½ï¼</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>npmæŸåä¿®å¤</title>
      <link href="/posts/88ea.html"/>
      <url>/posts/88ea.html</url>
      
        <content type="html"><![CDATA[<h1 id="npmæŸåä¿®å¤"><a href="#npmæŸåä¿®å¤" class="headerlink" title="npmæŸåä¿®å¤"></a>npmæŸåä¿®å¤</h1><p>æœ€è¿‘æˆ‘hexoé¡¹ç›®é‡Œçš„npmå‡ºç°äº†é—®é¢˜ï¼Œå…·ä½“é—®é¢˜æ˜¯ï¼šä½¿ç”¨npmä¸‹è½½ç»„ä»¶çš„æ—¶å€™çªç„¶å°±å‡ºç°äº†<code>Cannot find module &#39;E:\nodejs\node_modules\npm\bin\npm-cli.js&#39;</code>ï¼Œ</p><p>æ‰¾è¿‡å¾ˆå¤šæ•™ç¨‹ï¼Œå‘ç°ä½¿ç”¨npmå‘½ä»¤å…¨éƒ¨æ— æ•ˆï¼Œä¾ç„¶ä¼šæŠ¥é”™ã€‚</p><p>æœ€åå‘ç°è¿˜æ˜¯å®˜æ–¹ä¿®å¤æœ€ç®¡ç”¨ï¼Œç‚¹å‡»ä¹‹å‰ä¸‹è½½çš„å®‰è£…åŒ…<code>.msi</code>æ–‡ä»¶ï¼Œç„¶åé€‰æ‹©é‡Œé¢çš„repairé€‰é¡¹ï¼Œç­‰å¾…ä¿®å¤å®Œæˆï¼Œå¤§åŠŸå‘Šæˆï¼</p><blockquote><p>å¦å¤–ï¼š</p><p>ä»æœç´¢æ¡†æœç´¢â€œç¯å¢ƒå˜é‡â€è¿›å…¥ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œæ˜¯ä¸èƒ½å¯¹ç³»ç»Ÿå˜é‡è¿›è¡Œè®¾ç½®çš„ï¼Œç›´æ¥æœç´¢è¿›å…¥çš„è¯æ˜¯ä»¥<code>user</code>èº«ä»½è¿›å…¥çš„ï¼Œæ‰€ä»¥åªèƒ½è®¾ç½®ç”¨æˆ·ç¯å¢ƒå˜é‡ã€‚</p><p>win+iâ†’ç³»ç»Ÿâ†’é«˜çº§ç³»ç»Ÿè®¾ç½®â†’ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·æ˜¯ä»¥ç®¡ç†å‘˜èº«ä»½è¿›å…¥çš„ï¼Œå°±å¯ä»¥è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡äº†</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®æ¬§è·¯è¯å…¸</title>
      <link href="/posts/159f.html"/>
      <url>/posts/159f.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³è‡ªå®šä¹‰æ¨¡æ¿ä¸èƒ½ç”Ÿæˆabbrlink</title>
      <link href="/posts/50a6.html"/>
      <url>/posts/50a6.html</url>
      
        <content type="html"><![CDATA[<h1 id="è§£å†³è‡ªå®šä¹‰æ¨¡æ¿ä¸èƒ½ç”Ÿæˆabbrlink"><a href="#è§£å†³è‡ªå®šä¹‰æ¨¡æ¿ä¸èƒ½ç”Ÿæˆabbrlink" class="headerlink" title="è§£å†³è‡ªå®šä¹‰æ¨¡æ¿ä¸èƒ½ç”Ÿæˆabbrlink"></a>è§£å†³è‡ªå®šä¹‰æ¨¡æ¿ä¸èƒ½ç”Ÿæˆabbrlink</h1><p>hexoåšå®¢å¯ä»¥åœ¨ç«™ç‚¹ç›®å½•çš„<code>scaffolds</code>ä¸‹è‡ªå®šä¹‰æ–‡ç« æ¨¡ç‰ˆï¼Œä¸ºæ–‡ç« æ’°å†™æä¾›æ–¹ä¾¿ã€‚</p><p><code>scaffolds</code>ä¸‹é»˜è®¤æœ‰ä¸‰ç§æ¨¡ç‰ˆï¼š</p><ul><li>draft</li><li>post</li><li>page</li></ul><p>ä½†æ˜¯ç«™ä¸»åœ¨ä½¿ç”¨è‡ªå®šä¹‰çš„æ¨¡ç‰ˆæ–°å»ºæ–‡ç« æ—¶ï¼Œå´å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼šä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿æ–°å»ºæ–‡ç« ä¸èƒ½è‡ªåŠ¨ç”ŸæˆabbrlinkçŸ­é“¾ã€‚</p><blockquote><p>è¿™é‡Œè¡¥å……ä¸€ä¸‹çŸ­é“¾ç›¸å…³çŸ¥è¯†ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŸ­é“¾ã€‚</p></blockquote><p>Hexoé»˜è®¤çš„é™æ€URLæ ¼å¼æ˜¯ <code>:year/:month/:day/:title</code>ï¼Œå³æŒ‰å¹´ã€æœˆã€æ—¥ã€æ ‡é¢˜çš„å½¢å¼ç”Ÿæˆå›ºå®šé“¾æ¥ã€‚ä¾‹å¦‚ï¼š<code>http://www.xxx.com/2022/11/11/hello-world</code></p><p>é»˜è®¤URLçš„æ ¼å¼ä¼šäº§ç”Ÿå¾ˆå¤šæ–œæ ï¼Œç™¾åº¦èœ˜è››åœ¨æŠ“å–ç½‘é¡µæ—¶ä¼šæ ¹æ®ç½‘é¡µæƒé‡æŠ“å–ç½‘é¡µï¼Œæ¯”å¦‚æœ€å…ˆæŠ“å–çš„é¦–é¡µï¼ˆä¸€èˆ¬éƒ½æ˜¯è‡ªå·±çš„åŸŸåï¼Œæ¯”è¾ƒç®€çŸ­ï¼‰ï¼Œå› æ­¤åœ¨é“¾æ¥é‡Œä¸å®œå‡ºç°è¿‡å¤šçš„æ–œæ ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡ä¸¤ä¸ªã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚æœæ–‡ç« çš„æ ‡é¢˜ä½¿ç”¨äº†ä¸­æ–‡ï¼Œç»è¿‡è½¬ç åï¼ŒURLä¼šå˜å¾—ç‰¹åˆ«é•¿ã€‚</p><p>ä½¿ç”¨<code>hexo-abbrlink</code>æˆ–<code>hexo-abbrlink2</code>æ’ä»¶ä¾¿å¯è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œä»¥å¾€ä¿®æ”¹æ ‡é¢˜ä¼šå¯¼è‡´åŸå§‹é“¾æ¥å¤±æ•ˆï¼Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ååªè¦ä¸æ›´æ”¹æ–‡ç« ä¸­çš„abbrlinkå€¼ï¼Œæ–‡ç« çš„é“¾æ¥å°±ä¼šæ˜¯æŒä¹…çš„ã€‚</p><p>ç›¸è¾ƒäº<code>hexo-abbrlink</code>ï¼Œ<code>hexo-abbrlink2</code>å¯ä»¥ä»1å¼€å§‹ä¾æ¬¡å¢é•¿ã€‚</p><p>å›å½’æ­£é¢˜ï¼Œä¸Šç½‘æŸ¥æ‰¾èµ„æ–™åå‘ç°ï¼šä¸€äº›æ’ä»¶é»˜è®¤åªé’ˆå¯¹<code>post</code>æ¨¡ç‰ˆï¼Œå¦‚<code>hexo-abbrlink</code>ï¼Œè€Œæˆ‘ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰æ¨¡æ¿<code>essay</code>åˆ›å»ºæ–‡ç« ï¼Œä¸è¢«<code>hexo-abbrlink</code>æ‰€æ”¯æŒï¼Œæ‰€ä»¥ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆabbrlinkã€‚</p><p>æœ¬æƒ³è‡ªå·±è¯•è¯•åŸºäº<code>hexo-abbrlink</code>æ’ä»¶ä¿®æ”¹åŸä»£ç é€»è¾‘ï¼Œä½¿ä¹‹æ”¯æŒæ›´å¤šçš„æ¨¡ç‰ˆï¼Œä½†æ˜¯ä¸Šç½‘çœ‹åˆ°å·²ç»æœ‰å¤§ä½¬é‡åˆ°äº†è¿™ä¸ªé—®é¢˜å¹¶ç»™å‡ºè§£å†³æ–¹æ³•ï¼Œå¤§ä½¬å·²ç»åŸºäºåŸæ’ä»¶å¼€å‘äº†[hexo-abbrlink3](<a href="https://github.com/JunKuangKuang/hexo-abbrlink3">JunKuangKuang&#x2F;hexo-abbrlink3: create one and only link for every post for hexo (github.com)</a>)ï¼Œæ‰€ä»¥å°±ä¸é‡å¤é€ è½®å­äº†ã€‚</p><p>åç»­å°±æ˜¯è·Ÿç€å¤§ä½¬çš„<a href="%5BHexo%E5%8E%86%E9%99%A9%E8%AE%B0%E4%B9%8B%E5%8D%81%E4%BA%8C%E5%BC%80%E5%8F%91hexo-abbrlink3%E6%8F%92%E4%BB%B6_hexo-abbrlink%E4%B8%8D%E7%94%9F%E6%95%88-CSDN%E5%8D%9A%E5%AE%A2%5D(https://blog.csdn.net/qq_41461536/article/details/126456286)">åšå®¢</a>æ“ä½œå°±è¡Œã€‚</p><blockquote><p>æ³¨æ„ï¼šåœ¨æ–°å»ºæ–‡ç« æ—¶ï¼Œhexo-abbrlinkæ’ä»¶ä¸ä¼šç«‹å³ç»™æ–‡ç« è‡ªåŠ¨å¡«å……abbrlinkï¼Œåªæœ‰åœ¨ä½ ä½¿ç”¨hexo gå‘½ä»¤åï¼Œå°±ä¼šå‘ç°æ–‡ç« çš„abbrlinkå·²ç»è¢«è‡ªåŠ¨å¡«å……äº†ã€‚</p></blockquote><p>å‡çº§ï¼š</p><ol><li>æ–°å»ºæ–‡ç« å¥½åƒä¸èƒ½åŒ…å«front-matterçš„å…³é”®è¯ï¼Œå¦åˆ™ä¼šå‡ºé—®é¢˜ï¼Ÿ</li><li>èƒ½å¦è®¾ç½®æ’ä»¶ä»£ç è‡ªåŠ¨è¯†åˆ«scaffoldsä¸‹çš„æ‰€æœ‰æ¨¡ç‰ˆï¼Ÿ</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ—¶æ¥å¤©åœ°çš†åŒåŠ›</title>
      <link href="/posts/sltdjtl.html"/>
      <url>/posts/sltdjtl.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ—¶æ¥å¤©åœ°çš†åŒåŠ›"><a href="#æ—¶æ¥å¤©åœ°çš†åŒåŠ›" class="headerlink" title="æ—¶æ¥å¤©åœ°çš†åŒåŠ›"></a>æ—¶æ¥å¤©åœ°çš†åŒåŠ›</h1><div class="ipage">   <div class="ititle"> </div>   <div class="izhengwen">     <p>      å¤©ä¸å¾—æ—¶ï¼Œæ—¥æœˆæ— å…‰ï¼›<br>      åœ°ä¸å¾—æ—¶ï¼Œè‰æœ¨ä¸ç”Ÿï¼›<br>      æ°´ä¸å¾—æ—¶ï¼Œé£æµªä¸å¹³ï¼›<br>      äººä¸å¾—æ—¶ï¼Œåˆ©è¿ä¸é€šã€‚<br>      æ—¶ä¹Ÿï¼Œè¿ä¹Ÿï¼Œå‘½ä¹Ÿã€‚<br>      äººæœ‰å†²å¤©ä¹‹å¿—ï¼Œéè¿ä¸å¯è‡ªé€šã€‚<br>      æ—¶æ¥å¤©åœ°çš†åŒåŠ›ï¼Œè¿åˆ°ä¸‡ç‰©çš†åŒè¡Œã€‚<br>      åå¹´è¿åˆ°é¾™å›°äº•ï¼Œä¸€æœå¾—åŠ¿å…¥é’äº‘ã€‚<br>      æ‹©ä¸€ä¸šä»¥è°‹æ—¶å…»å‘½ï¼Œç­‰ä¸€è¿ä»¥æ‰­è½¬ä¹¾å¤ã€‚<br>    </p>   </div> </div>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AlistæŒ‚è½½</title>
      <link href="/posts/6c3d.html"/>
      <url>/posts/6c3d.html</url>
      
        <content type="html"><![CDATA[<h1 id="AlistæŒ‚è½½ç½‘ç›˜"><a href="#AlistæŒ‚è½½ç½‘ç›˜" class="headerlink" title="AlistæŒ‚è½½ç½‘ç›˜"></a>AlistæŒ‚è½½ç½‘ç›˜</h1><p>[<a href="https://xyzbz.cn/archives/803/">ä¿å§†çº§æ•™ç¨‹]ä½¿ç”¨å®å¡”æ­å»ºAlistæ–‡ä»¶åˆ—è¡¨ç¨‹åº - ç½‘å‹å°å®‹ (xyzbz.cn)</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Alist </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘åŸŸåè´­ä¹°åŠè§£æ</title>
      <link href="/posts/52cd.html"/>
      <url>/posts/52cd.html</url>
      
        <content type="html"><![CDATA[<p> å¸‚é¢ä¸Šæœ‰å¾ˆå¤šåŸŸåæä¾›å•†å¯ä¾›é€‰æ‹©ï¼Œä»·æ ¼ä¸å°½ç›¸åŒï¼Œç»­è´¹æœåŠ¡ä¹Ÿä¸åŒâ€¦â€¦ ç”±äºæˆ‘çš„æœåŠ¡å™¨æ˜¯åœ¨é˜¿é‡Œäº‘è´­ä¹°çš„ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†é˜¿é‡Œäº‘è´­ä¹°åŸŸåã€‚æœåŠ¡å™¨ä¹°äº†è¿™ä¹ˆä¹…äº†ï¼Œç»ˆäºå¼€å§‹é…ç½®åŸŸåäº†(pâ‰§wâ‰¦q)</p><h2 id="åŸŸåè´­ä¹°"><a href="#åŸŸåè´­ä¹°" class="headerlink" title="åŸŸåè´­ä¹°"></a>åŸŸåè´­ä¹°</h2><p>ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>æ ¡éªŒåŸŸåæ˜¯å¦å·²è¢«æ³¨å†Œï¼ˆé˜¿é‡Œäº‘åŸŸåæ³¨å†Œåœ°å€ï¼š<a href="https://www.aliyun.com/minisite/goods?userCode=rjqh3xdh">https://wanwang.aliyun.com/</a>ï¼‰</li><li>é€‰æ‹©é’Ÿæ„çš„åŸŸåï¼Œæ·»åŠ åˆ°è´­ç‰©è½¦</li><li>è´­ä¹°åŸŸåå‰**å¿…é¡»å¿…é¡»å¿…é¡»**è¦çœ‹æ¸…æ¥šé‡è¦æé†’ï¼Œå› ä¸ºåŸŸååé¢æ¶‰åŠåˆ°ç½‘ç«™å¤‡æ¡ˆï¼Œå°½é‡é€‰æ‹©æ‰€åœ¨åœ°å¯å¤‡æ¡ˆï¼Œ</li><li>åˆ›å»ºä¿¡æ¯æ¨¡æ¿<br><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291942375.png" alt="åˆ›å»ºæ¨¡ç‰ˆ"></li><li></li></ol><h2 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h2><p>å‚è€ƒæ–‡æ¡£</p><p><a href="https://blog.csdn.net/pang_ping/article/details/101279960">å¦‚ä½•è´­ä¹°é˜¿é‡Œäº‘åŸŸåæ•™ç¨‹ï¼ˆåŸŸåè´­ä¹°+é…ç½®ï¼‰~_é˜¿é‡Œäº‘è´­ä¹°åŸŸåçš„æ­¥éª¤-CSDNåšå®¢</a></p><p><a href="https://developer.aliyun.com/article/771535">é˜¿é‡Œäº‘åŸŸåç”³è¯·+æœåŠ¡å™¨è´­ä¹°+å¤‡æ¡ˆæ•™ç¨‹ï¼ˆå›¾æ–‡è®²è§£ç‰ˆï¼‰-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p><p><a href="https://developer.aliyun.com/article/768090?spm=5176.21213303.J_qCOwPWspKEuWcmp8qiZNQ.27.247f2f3dhxwyba&scm=20140722.S_community@@%E6%96%87%E7%AB%A0@@768090._.ID_community@@%E6%96%87%E7%AB%A0@@768090-RL_%E5%9F%9F%E5%90%8D%E8%B4%AD%E4%B9%B0%E5%92%8C%E8%A7%A3%E6%9E%90-LOC_llm-OR_ser-V_3-RE_new3-P0_1">é˜¿é‡Œäº‘åŸŸåè´­ä¹°å’ŒåŸŸåè§£ææ•™ç¨‹-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> é˜¿é‡Œäº‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸŸåè§£æ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨å¹³å°äº’è”å·¥å…·</title>
      <link href="/posts/3296.html"/>
      <url>/posts/3296.html</url>
      
        <content type="html"><![CDATA[<h1 id="è·¨å¹³å°äº’è”å·¥å…·"><a href="#è·¨å¹³å°äº’è”å·¥å…·" class="headerlink" title="è·¨å¹³å°äº’è”å·¥å…·"></a>è·¨å¹³å°äº’è”å·¥å…·</h1><p>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¤§å®¶éƒ½ä¼šä½¿ç”¨åˆ°æ‰‹æœºã€ç”µè„‘ã€å¹³æ¿ä¹‹ç±»çš„äº§å“ï¼Œé‚£ä¹ˆä¸‰ç«¯äº§å“çš„äº’åŠ¨å’ŒååŒå°±æ˜¯ä¸€ä¸ªè®©äººå¤´ç—›çš„é—®é¢˜ã€‚å½“ç„¶å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå“ç‰Œçš„æ‰‹æœºã€ç”µè„‘å’Œå“ç‰Œçš„è¯ï¼Œä¸€èˆ¬ä¾é è¯¥å“ç‰Œæä¾›çš„ç”Ÿæ€ï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸‰ç«¯è·¨å±äº’åŠ¨çš„é—®é¢˜ã€‚ä½†æ˜¯ä¸‰ç«¯ä¸æ˜¯åŒä¸€ä¸ªå“ç‰Œçš„æƒ…å†µæ‰æ˜¯å¸¸æ€&#96;(<em>&gt;ï¹&lt;</em>)â€²ã€‚è™½ç„¶å¸‚é¢ä¸Šæœ‰å¾ˆå¤šç”¨æ¥å®ç°è·¨å±äº’åŠ¨çš„è½¯ä»¶ï¼Œä½†å¤§å¤šæ•°æ•ˆæœä¸æ˜¯å¾ˆå¥½ã€‚æœ€åæˆ‘æ‰¾åˆ°äº†ä¸€æ¬¾ä¸ªäººè®¤ä¸ºè¡¨ç°æœ€å¥½çš„ä¸€æ¬¾è½¯ä»¶â€”â€”KDE Connectï¼ŒLinuxï¼ŒWindowsï¼ŒMacOSï¼ŒAndroidï¼ŒiOSä¹‹é—´çš„éƒ½å¯ä»¥å¾—åˆ°æ”¯æŒã€‚</p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote><p>KDE connectæ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p><a href="https://link.zhihu.com/?target=https://kdeconnect.kde.org/">KDE Connect</a> æ˜¯ç”± KDE æ¡Œé¢å›¢é˜Ÿå¼€å‘çš„ï¼Œæä¾›äº† Linux ç³»ç»Ÿä¸å…¶ä»–ç³»ç»Ÿï¼Œå¦‚ Windowsã€MacOSã€Android åŠ Linuxï¼Œçš„æ— ç¼è¿æ¥ã€‚</p><p>KDE Connect å®‰è£…åä¼šä½¿ä½ æ‹¥æœ‰æ¥æ”¶ç”µè¯çš„é€šçŸ¥ã€å‘é€æˆ–æ¥å—çŸ­ä¿¡ã€æµè§ˆæ–‡ä»¶ã€å‘é€æˆ–æ¥å—æ–‡ä»¶ç­‰è®¸å¤šåŠŸèƒ½ã€‚</p><p>æ­¤å¤–ï¼ŒKDE Connect åœ¨æ— çº¿ç½‘ç»œä¸Šéµå¾ªå®‰å…¨åè®®ï¼Œä»¥é˜²æ­¢ä»»ä½•éšç§æ³„éœ²ã€‚å®ƒæ˜¯è‡ªç”±å¼€æºçš„è½¯ä»¶ï¼Œå‡ºç°ä»»ä½•éšæ‚£çš„å¯èƒ½æ€§å¾®ä¹å…¶å¾®ã€‚ç»„åˆäº†è¿™äº›ä¼˜è‰¯ç‰¹æ€§ï¼ŒKDE Connect æ˜¯ä¸€æ¬¾å‡ºè‰²çš„å·¥å…·ã€‚</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p><a href="https://sspai.com/post/68779">é€šçŸ¥æ¨é€ã€æ–‡ä»¶äº’ä¼ â€¦â€¦ å…è´¹å¥½ç”¨çš„æ¡Œé¢ &#x2F; ç§»åŠ¨ç«¯ååŒå·¥å…·ï¼šKDE Connect - å°‘æ•°æ´¾ (sspai.com)</a></p><p><a href="https://sspai.com/post/59508#!">KDE Connect : Linux ä¸‹çš„è®¾å¤‡äº’è” - å°‘æ•°æ´¾ (sspai.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> KDE Connect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯ç¼€pan-</title>
      <link href="/posts/fdde.html"/>
      <url>/posts/fdde.html</url>
      
        <content type="html"><![CDATA[<p> ä»Šæ—¥å•è¯å­¦ä¹ ä¹‹panorama(å…¨æ™¯)ï¼Œpanï¼ˆå…¨éƒ¨ï¼‰-oramaï¼ˆçœ‹è§ï¼‰â†’å…¨éƒ¨çœ‹è§â†’å…¨æ™¯</p><h2 id="pan"><a href="#pan" class="headerlink" title="pan-"></a>pan-</h2><p>pan-è¿™ä¸ªè¯æ ¹æºäº</p><h2 id="orama"><a href="#orama" class="headerlink" title="-orama"></a>-orama</h2>]]></content>
      
      
      <categories>
          
          <category> è‹±è¯­ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯ç¼€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«™é•¿å¿…ä¼š</title>
      <link href="/posts/3338.html"/>
      <url>/posts/3338.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç«™é•¿å¿…ä¼š"><a href="#ç«™é•¿å¿…ä¼š" class="headerlink" title="ç«™é•¿å¿…ä¼š"></a>ç«™é•¿å¿…ä¼š</h1><p>ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ç«™é•¿éœ€è¦ä¼šé‚£äº›ä¸œè¥¿ï¼Ÿ</p><p>ä¸€ä¸ªç«™é•¿éœ€è¦å­¦ä¹ çš„ä¸œè¥¿éå¸¸å¹¿æ³›ä¸”å¤šæ ·åŒ–ï¼Œè¿™åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><p><strong>ä¸€ã€ç½‘ç«™è®¾è®¡ä¸å¼€å‘åŸºç¡€</strong></p><ol><li>HTMLã€CSSå’ŒJavaScriptç­‰å‰ç«¯æŠ€æœ¯ï¼Œç”¨äºæ„å»ºå’Œä¼˜åŒ–ç½‘é¡µã€‚</li><li>åç«¯å¼€å‘æŠ€æœ¯ï¼Œå¦‚PHPã€Pythonã€Javaç­‰ï¼Œç”¨äºå®ç°ç½‘ç«™çš„åŠŸèƒ½å’Œæ•°æ®å¤„ç†ã€‚</li><li>æ•°æ®åº“ç®¡ç†çŸ¥è¯†ï¼Œå¦‚MySQLã€MongoDBç­‰ï¼Œç”¨äºå­˜å‚¨å’Œæ£€ç´¢ç½‘ç«™æ•°æ®ã€‚</li></ol><p><strong>äºŒã€å†…å®¹åˆ›ä½œä¸ç¼–è¾‘</strong></p><ol><li>å­¦ä¹ å¦‚ä½•æ’°å†™é«˜è´¨é‡ã€ç¬¦åˆSEOè§„èŒƒçš„å†…å®¹ï¼Œæå‡ç½‘ç«™çš„å†…å®¹è´¨é‡ã€‚</li><li>æŒæ¡å†…å®¹ç­–åˆ’ã€ç¼–è¾‘å’Œå‘å¸ƒæµç¨‹ï¼Œç¡®ä¿å†…å®¹ç¬¦åˆç½‘ç«™å®šä½å’Œç”¨æˆ·éœ€æ±‚ã€‚</li></ol><p><strong>ä¸‰ã€ç½‘ç«™è¿è¥ä¸ç®¡ç†</strong></p><ol><li>ç½‘ç«™æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ï¼Œå¦‚æå‡åŠ è½½é€Ÿåº¦ã€ç¡®ä¿ç¨³å®šæ€§ç­‰ã€‚</li><li>ç½‘ç«™å®‰å…¨çŸ¥è¯†ï¼ŒåŒ…æ‹¬é˜²ç«å¢™è®¾ç½®ã€æ•°æ®åŠ å¯†ç­‰ï¼Œç¡®ä¿ç½‘ç«™å®‰å…¨æ— è™ã€‚</li><li>ä½¿ç”¨ç½‘ç«™æ•°æ®åˆ†æå·¥å…·ï¼Œåˆ†æç”¨æˆ·è¡Œä¸ºã€æµé‡æ¥æºç­‰æ•°æ®ï¼ŒæŒ‡å¯¼ç½‘ç«™ä¼˜åŒ–ã€‚</li></ol><p><strong>å››ã€SEOä¼˜åŒ–ä¸å¸‚åœºæ¨å¹¿</strong></p><ol><li>SEOæŠ€æœ¯ï¼ŒåŒ…æ‹¬å…³é”®è¯ä¼˜åŒ–ã€é“¾æ¥å»ºè®¾ã€å†…å®¹ä¼˜åŒ–ç­‰ï¼Œæé«˜ç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’åã€‚</li><li>ç¤¾äº¤åª’ä½“è¥é”€ç­–ç•¥ï¼Œåˆ©ç”¨ç¤¾äº¤åª’ä½“å¹³å°æ¨å¹¿ç½‘ç«™å†…å®¹ï¼Œå¢åŠ ç½‘ç«™æ›å…‰åº¦å’Œæµé‡ã€‚</li><li>å­¦ä¹ ä½¿ç”¨å¹¿å‘Šå¹³å°ï¼Œå¦‚Google Adsç­‰ï¼Œè¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„å¹¿å‘ŠæŠ•æ”¾ã€‚</li></ol><p><strong>äº”ã€æ³•å¾‹æ³•è§„ä¸åˆè§„æ€§</strong></p><ol><li>äº†è§£äº’è”ç½‘ç›¸å…³æ³•å¾‹æ³•è§„ï¼Œç¡®ä¿ç½‘ç«™å†…å®¹åˆæ³•åˆè§„ã€‚</li><li>å­¦ä¹ æ•°æ®ä¿æŠ¤çŸ¥è¯†ï¼Œä¿æŠ¤ç”¨æˆ·éšç§å’Œæ•°æ®å®‰å…¨ã€‚</li><li>çŸ¥è¯†äº§æƒé—®é¢˜ï¼Œé¿å…ä¾µçŠ¯ä»–äººç‰ˆæƒæˆ–å•†æ ‡æƒã€‚</li></ol><p><strong>å…­ã€ç”¨æˆ·ä½“éªŒä¸äº¤äº’è®¾è®¡</strong></p><ol><li>ç”¨æˆ·è¡Œä¸ºå¿ƒç†å­¦å’Œäº¤äº’è®¾è®¡åŸåˆ™ï¼Œè®¾è®¡æ˜“äºä½¿ç”¨ä¸”å¸å¼•äººçš„ç½‘ç«™ç•Œé¢ã€‚</li><li>ä¼˜åŒ–ç½‘ç«™å¯¼èˆªã€å¸ƒå±€å’ŒæŒ‰é’®è®¾è®¡ï¼Œæé«˜ç”¨æˆ·çš„æµè§ˆä½“éªŒã€‚</li></ol><p><strong>ä¸ƒã€æ•°æ®åˆ†æä¸æŒ–æ˜</strong></p><ol><li>ä½¿ç”¨æ•°æ®åˆ†æå·¥å…·æ”¶é›†å¹¶åˆ†æç½‘ç«™æ•°æ®ï¼Œäº†è§£ç”¨æˆ·è¡Œä¸ºã€æµé‡æ¥æºç­‰å…³é”®æŒ‡æ ‡ã€‚</li><li>è§£è¯»æ•°æ®æŠ¥å‘Šï¼Œä¸ºç½‘ç«™çš„å†³ç­–æä¾›æ”¯æŒã€‚</li></ol><p><strong>å…«ã€æŒç»­å­¦ä¹ ä¸åˆ›æ–°èƒ½åŠ›</strong></p><ol><li>ç«™é•¿éœ€è¦å…·å¤‡æŒç»­å­¦ä¹ çš„èƒ½åŠ›ï¼Œä¸æ–­å…³æ³¨äº’è”ç½‘è¡Œä¸šçš„æ–°åŠ¨æ€å’Œè¶‹åŠ¿ã€‚</li><li>åŸ¹å…»åˆ›æ–°æ€ç»´ï¼Œæ¢ç´¢æ–°çš„ç½‘ç«™è¿è¥ç­–ç•¥å’Œä¼˜åŒ–æ–¹æ³•ã€‚</li></ol><p>é€šè¿‡ä¸æ–­å­¦ä¹ å’Œå®è·µï¼Œç«™é•¿å¯ä»¥é€æ­¥æå‡è‡ªå·±çš„ä¸“ä¸šç´ å…»å’Œç»¼åˆèƒ½åŠ›ï¼Œä¸ºç½‘ç«™çš„æˆåŠŸè¿è¥æä¾›æœ‰åŠ›ä¿éšœã€‚åŒæ—¶ï¼Œç«™é•¿è¿˜éœ€è¦å…·å¤‡å›¢é˜Ÿåä½œå’Œæ²Ÿé€šèƒ½åŠ›ï¼Œä»¥ä¾¿æ›´å¥½åœ°åè°ƒå„æ–¹é¢èµ„æºï¼Œæ¨åŠ¨ç½‘ç«™çš„å‘å±•ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/91507285">ï¼ˆ1ï¼‰è¦æˆä¸ºä¸€ä¸ªåˆæ ¼çš„ç«™é•¿å’±ä»¬åº”è¯¥æ‡‚è¿™äº› - çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç«™é•¿å¿…ä¼š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç«™é•¿å¿…ä¼š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™å®‰å…¨</title>
      <link href="/posts/bd47.html"/>
      <url>/posts/bd47.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç½‘ç«™å®‰å…¨"><a href="#ç½‘ç«™å®‰å…¨" class="headerlink" title="ç½‘ç«™å®‰å…¨"></a>ç½‘ç«™å®‰å…¨</h1><p>DDoS é˜²æŠ¤ï¼ŒCC é˜²æŠ¤ï¼Œç½‘ç«™å®‰å…¨é˜²æŠ¤ï¼ŒSQL æ³¨å…¥é˜²æŠ¤ï¼ŒXSS æ”»å‡»é˜²æŠ¤ç­‰</p><p><a href="https://help.aliyun.com/document_detail/153593.html?spm=5176.28426678.J_HeJR_wZokYt378dwP-lLl.577.405f5181hvjEeB&scm=20140722.S_help@@%E6%96%87%E6%A1%A3@@153593.S_BB1@bl+BB2@bl+RQW@ag0+os0.ID_153593-RL_%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8-LOC_search~UND~helpdoc~UND~item-OR_ser-V_3-P0_17">äº‘æ•ˆ2020æœ‰å“ªäº›å®‰å…¨ç±»å¸¸è§é—®é¢˜_äº‘æ•ˆ(Apsara Devops)-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ (aliyun.com)</a></p><p><a href="https://help.aliyun.com/zh/govcloud/getting-started/ecs-security-configurations?spm=5176.28426678.J_HeJR_wZokYt378dwP-lLl.589.405f5181hvjEeB&scm=20140722.S_help@@%E6%96%87%E6%A1%A3@@98822.S_os0.ID_98822-RL_%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8-LOC_search~UND~helpdoc~UND~item-OR_ser-V_3-P0_19">æ”¿åŠ¡äº‘ECSæœ‰å“ªäº›å®‰å…¨é…ç½®_é˜¿é‡Œäº‘ç”µå­æ”¿åŠ¡äº‘-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ (aliyun.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç«™é•¿å¿…ä¼š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™å®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹è±¡å­˜å‚¨</title>
      <link href="/posts/ce5b.html"/>
      <url>/posts/ce5b.html</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¹è±¡å­˜å‚¨"><a href="#å¯¹è±¡å­˜å‚¨" class="headerlink" title="å¯¹è±¡å­˜å‚¨"></a>å¯¹è±¡å­˜å‚¨</h1><p><a href="https://juejin.cn/post/7132672752963551239">ä»€ä¹ˆæ˜¯å¯¹è±¡å­˜å‚¨ï¼Ÿ3000å­—ç»™ä½ æ•´æ˜æ˜ç™½ç™½ï¼ - æ˜é‡‘ (juejin.cn)</a></p><p><a href="https://help.aliyun.com/zh/oss/product-overview/what-is-oss">ä»€ä¹ˆæ˜¯å¯¹è±¡å­˜å‚¨OSS_å¯¹è±¡å­˜å‚¨(OSS)-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ (aliyun.com)</a></p><p><a href="https://blog.csdn.net/DecadeLive/article/details/105094939">å¯¹è±¡å­˜å‚¨3ï¼šå¯¹è±¡å­˜å‚¨çš„åŸç†ã€æ„é€ å’Œè¯¦è§£-CSDNåšå®¢</a></p><p><a href="https://aws.amazon.com/cn/what-is/object-storage/">ä»€ä¹ˆæ˜¯å¯¹è±¡å­˜å‚¨ï¼Ÿ- å¯¹è±¡å­˜å‚¨ç®€ä»‹ - AWS (amazon.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç«™é•¿å¿…ä¼š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¯¹è±¡å­˜å‚¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SEO</title>
      <link href="/posts/7583.html"/>
      <url>/posts/7583.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç«™é•¿å¿…ä¼šä¹‹SEO"><a href="#ç«™é•¿å¿…ä¼šä¹‹SEO" class="headerlink" title="ç«™é•¿å¿…ä¼šä¹‹SEO"></a>ç«™é•¿å¿…ä¼šä¹‹SEO</h1><h2 id="ä»€ä¹ˆæ˜¯SEO"><a href="#ä»€ä¹ˆæ˜¯SEO" class="headerlink" title="ä»€ä¹ˆæ˜¯SEO"></a>ä»€ä¹ˆæ˜¯SEO</h2><h2 id="SEOæœ‰ä»€ä¹ˆç”¨"><a href="#SEOæœ‰ä»€ä¹ˆç”¨" class="headerlink" title="SEOæœ‰ä»€ä¹ˆç”¨"></a>SEOæœ‰ä»€ä¹ˆç”¨</h2><h2 id="æ€ä¹ˆåšSEO"><a href="#æ€ä¹ˆåšSEO" class="headerlink" title="æ€ä¹ˆåšSEO"></a>æ€ä¹ˆåšSEO</h2><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.csdn.net/weixin_46653360/article/details/129549920">å‰ç«¯å¼€å‘ä¹‹SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰_å‰ç«¯seoä¼˜åŒ–-CSDNåšå®¢</a></p><p><a href="https://zhuanlan.zhihu.com/p/210428775">ä»€ä¹ˆæ˜¯SEOï¼Ÿå¦‚ä½•è¿›è¡ŒSEOä¼˜åŒ–ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://help.aliyun.com/document_detail/157011.html?spm=5176.28426678.J_HeJR_wZokYt378dwP-lLl.7.405f5181hvjEeB&scm=20140722.S_help@@%E6%96%87%E6%A1%A3@@157011.S_BB1@bl+BB2@bl+RQW@ag0+hot+os0.ID_157011-RL_seo-LOC_search~UND~helpdoc~UND~item-OR_ser-V_3-P0_1">è§£ç­”SEOç›¸å…³é—®é¢˜_äº‘Â·é€Ÿæˆç¾ç«™-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ (aliyun.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç«™é•¿å¿…ä¼š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SEO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç½‘62é—®</title>
      <link href="/posts/a329.html"/>
      <url>/posts/a329.html</url>
      
        <content type="html"><![CDATA[<h1 id="è®¡ç½‘62é—®"><a href="#è®¡ç½‘62é—®" class="headerlink" title="è®¡ç½‘62é—®"></a>è®¡ç½‘62é—®</h1><p><a href="https://mp.weixin.qq.com/s/yAlErlC09GnjaVvwUo3Acg">é¢æ¸£é€†è¢­ï¼šè®¡ç®—æœºç½‘ç»œå…­åäºŒé—®ï¼Œä¸‰ä¸‡å­—å›¾æ–‡è¯¦è§£ï¼é€Ÿæ”¶è—ï¼ (qq.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢ç» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®å¡”å®‰è£…dockerå’Œé’é¾™é¢æ¿</title>
      <link href="/posts/aa4a.html"/>
      <url>/posts/aa4a.html</url>
      
        <content type="html"><![CDATA[<h1 id="å®å¡”å®‰è£…dockerå’Œé’é¾™é¢æ¿"><a href="#å®å¡”å®‰è£…dockerå’Œé’é¾™é¢æ¿" class="headerlink" title="å®å¡”å®‰è£…dockerå’Œé’é¾™é¢æ¿"></a>å®å¡”å®‰è£…dockerå’Œé’é¾™é¢æ¿</h1><h2 id="å‡†å¤‡å·¥å…·"><a href="#å‡†å¤‡å·¥å…·" class="headerlink" title="å‡†å¤‡å·¥å…·"></a>å‡†å¤‡å·¥å…·</h2><p>ä¸€å°æœåŠ¡å™¨ï¼šåä¸ºäº‘ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰</p><p>shellè¿æ¥å·¥å…·ï¼š[Xshell](<a href="https://pan.baidu.com/share/init?surl=HWXsGGQIK8Hlor0fJTK84Q&pwd=vcur">ç™¾åº¦ç½‘ç›˜ è¯·è¾“å…¥æå–ç  (baidu.com)</a>)ã€Xtermç­‰</p><h2 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h2><p>æˆ‘è¿™é‡Œä»¥centos7.9ä¸ºä¾‹ï¼Œç”±äºå®å¡”é¢æ¿å·²ç»å®‰è£…å¥½ï¼Œå°±ä¸å†èµ˜è¿°</p><h3 id="dockerå®‰è£…"><a href="#dockerå®‰è£…" class="headerlink" title="dockerå®‰è£…"></a>dockerå®‰è£…</h3><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032032919.png" alt="dockerå®‰è£…" style="zoom: 67%;" /><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤å®‰è£…</p><p>ä½¿ç”¨å‘½ä»¤å®‰è£…docker ï¼ˆå«Œéº»çƒ¦çš„ç›´æ¥åœ¨å®å¡”ä¸Šå®‰è£…å°±è¡Œï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-sSL</span> https://linuxmirrors.cn/docker.sh<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹dockerç‰ˆæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹dockeræ˜¯å¦å®‰è£…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum list installed <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">docker</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®‰è£…é’é¾™é¢æ¿"><a href="#å®‰è£…é’é¾™é¢æ¿" class="headerlink" title="å®‰è£…é’é¾™é¢æ¿"></a>å®‰è£…é’é¾™é¢æ¿</h3><p>å®‰è£…å‘½ä»¤ï¼ˆæ³¨æ„å¦‚æœä¸æ˜¯ä»¥rootç™»é™†éœ€è¦åœ¨å‰é¢åŠ ä¸Š<code>sudo</code>ï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> <span class="token parameter variable">-q</span> https://git.metauniverse-cn.com/https://raw.githubusercontent.com/yanyuwangluo/VIP/main/Scripts/sh/ql.sh <span class="token parameter variable">-O</span> ql.sh <span class="token operator">&amp;&amp;</span> <span class="token function">bash</span> ql.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032043494.png" alt="qlå®‰è£…"></p><p><strong>é’é¾™è·¯å¾„ ï¼ˆä¸å»ºè®®æ”¾åœ¨rootä¸‹ï¼‰ï¼Œä»¥é˜²åè¾¹å‡ºé—®é¢˜æ‰¾ä¸åˆ°</strong></p><p><strong>dockerå®¹å™¨å ï¼šql  ï¼ˆä¸€è·¯å›è½¦é»˜è®¤ï¼åˆ«å¤ªå¿«ï¼ç­‰ä¸‹ç«¯å£è®¾ç½®ï¼‰</strong></p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032102665.png" alt="è¿‡ç¨‹1" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032107012.png" alt="è¿‡ç¨‹2" style="zoom:80%;" /><blockquote><p>è¾“å…¥ä½ çš„å…¬ç½‘IP:5711ç™»å½•é’é¾™é¢æ¿</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032106691.png" alt="è¿‡ç¨‹3"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>æœ¬æ–‡åªæ˜¯ç®€è¦è®°å½•é’é¾™é¢æ¿çš„å®‰è£…è¿‡ç¨‹ï¼Œå¦‚æœæƒ³äº†è§£é€šè¿‡vmwareã€å®‰è£…å®å¡”é¢æ¿ã€xshellä½¿ç”¨ç­‰è¯¦è§<a href="https://blog.csdn.net/xiaoquanz/article/details/136713365">æ­å»ºå®å¡”ã€dockerã€é’é¾™ï¼ˆ2024 3&#x2F;14æ›´æ–°ï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é’é¾™é¢æ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºxshellä½¿ç”¨çš„ç³»åˆ—é—®é¢˜åŠè§£å†³</title>
      <link href="/posts/4fdb.html"/>
      <url>/posts/4fdb.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸èƒ½ä½¿ç”¨é€€æ ¼é”®"><a href="#ä¸èƒ½ä½¿ç”¨é€€æ ¼é”®" class="headerlink" title="ä¸èƒ½ä½¿ç”¨é€€æ ¼é”®"></a>ä¸èƒ½ä½¿ç”¨é€€æ ¼é”®</h2><p>xshellåœ¨è¾“å…¥å‘½ä»¤æ—¶ï¼Œæ•²é”™å­—æ¯äº†ï¼Œæƒ³é€šè¿‡æŒ‰é€€æ ¼é”®åˆ é™¤æ•²é”™çš„å­—æ¯ï¼Œå´åœ¨å±å¹•æ˜¾ç¤ºå‡º<code>^H</code>ï¼Œé€€æ ¼ä¸è¡Œï¼Œå†æŒ‰åˆ é™¤é”®ï¼Œå´æ˜¾ç¤ºå‡º<code>^[[3~</code>ï¼Œå°±æ˜¯åˆ é™¤ä¸äº†è¾“é”™çš„å­—æ¯ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ALT+Pæ‰“å¼€xshellå±æ€§è®¾ç½®ï¼Œé€‰æ‹©<code>ç»ˆç«¯-é”®ç›˜</code>ï¼ŒæŠŠ<code>delete</code>å’Œ<code>backspace</code>åºåˆ—æ”¹ä¸º ASCII 127å³å¯</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404031742271.png" alt="xshellè®¾ç½®"></p><h2 id="è®¾ç½®å·¦é”®å¤åˆ¶ï¼Œå³é”®ç²˜è´´"><a href="#è®¾ç½®å·¦é”®å¤åˆ¶ï¼Œå³é”®ç²˜è´´" class="headerlink" title="è®¾ç½®å·¦é”®å¤åˆ¶ï¼Œå³é”®ç²˜è´´"></a>è®¾ç½®å·¦é”®å¤åˆ¶ï¼Œå³é”®ç²˜è´´</h2><ol><li>æ‰“å¼€ Xshell çš„èœå•æ ï¼ˆå¦‚æœæ²¡æœ‰æ˜¾ç¤ºèœå•æ åˆ™æŒ‰ä¸‹Alté”®ï¼‰ï¼Œç‚¹å‡»å·¥å…·â€“é€‰é¡¹ã€‚</li><li>æ‰“å¼€é€‰é¡¹ä¸­çš„é”®ç›˜å’Œé¼ æ ‡ã€‚é€‰æ‹©å‘å³æŒ‰é’®ä¸­çš„<code>Paste the clipboard contents</code>ï¼Œå¹¶ä¸”å‹¾ä¸Š<code>å°†é€‰å®šçš„æ–‡æœ¬è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿</code>ï¼Œæœ€åç‚¹å‡»ç¡®å®šå³å¯ã€‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404032002459.png" alt="ç²˜è´´è®¾ç½®"></p><h2 id="æŒ‰æ–¹å‘é”®å‡ºç°-A-B-C-D"><a href="#æŒ‰æ–¹å‘é”®å‡ºç°-A-B-C-D" class="headerlink" title="æŒ‰æ–¹å‘é”®å‡ºç°^[[A^[[B^[[C^[[D"></a>æŒ‰æ–¹å‘é”®å‡ºç°<code>^[[A^[[B^[[C^[[D</code></h2><p>å½“æˆ‘ä»¬ç‚¹å‡»<code>â†‘</code>ã€<code>â†“</code>  æƒ³è¦æ‰¾åˆ°ä¹‹é—´è¾“å…¥çš„æŒ‡ä»¤æ—¶ï¼Œå´å‡ºç°äº†<code>^[[A</code>å’Œ<code>[[B</code>ï¼Œç‚¹å‡»<code>â†</code>ã€<code>â†’</code>  å´å‡ºç°äº†<code>^[[C</code>å’Œ<code>[[D</code></p><p>å³ï¼šæ— æ³•æŒ‰ä¸Šä¸‹é”®æ¥æ‰¾åˆ°ä¹‹é—´è¾“å…¥çš„æŒ‡ä»¤ï¼Œæ— æ³•æŒ‰å·¦å³é”®æ¥è°ƒæ•´å…‰æ ‡ä½ç½®</p><p>è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¯èƒ½ï¼š</p><ol><li><p>ä¸€ç§æ˜¯ç”±äºå½“å‰ç”¨æˆ·ä½¿ç”¨çš„shellæ˜¯&#x2F;bin&#x2F;shçš„åŸå› ã€‚åœ¨æ·»åŠ ç”¨æˆ·çš„æ—¶å€™æ²¡æœ‰æ·»åŠ ç”¨æˆ·çš„æŒ‡å®šshellç±»å‹ï¼Œå› æ­¤é»˜è®¤ä¸º&#x2F;bin&#x2F;shã€‚ å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„shellç±»å‹ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">echo  $SHELL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ˜¾ç¤ºæ˜¯&#x2F;bin&#x2F;shï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥ä¿®æ”¹shellç±»å‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">chsh  <span class="token parameter variable">-s</span>  /bin/bash  usernameæˆ–<span class="token function">usermod</span>  <span class="token parameter variable">-s</span>  /bin/bash  username<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>å¦ä¸€ç§æ˜¯å½“å‰ç”¨æˆ·çš„shellç±»å‹æ˜¯&#x2F;bin&#x2F;bashä½†æ˜¯è¿˜æ˜¯ä¼šæœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ—¶å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥ï¼šexport TERM&#x3D;linuxã€‚è¿™ä¸ªå¥½åƒæ˜¯å› ä¸ºubuntuçš„ç‰ˆæœ¬çš„TERMçš„é—®é¢˜ã€‚</p></li></ol><h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><ol><li><p>è®¾ç½®å¤–è§‚ï¼šALT+Pâ€”â€”&gt;é€‰æ‹©<code>å¤–è§‚</code></p></li><li><p>é˜²æ­¢ä¹±ç ï¼šALT+Pâ€”â€”&gt;é€‰æ‹©<code>ç»ˆç«¯</code>â€”â€”&gt;<code>è½¬æ¢</code>ï¼Œè®¾ç½®è½¬æ¢ä¸º<code>UTF-8</code></p></li><li><p>è¿œç¨‹è¿æ¥ä¸æ–­å¼€ï¼šALT+Pâ€”â€”&gt;é€‰æ‹©<code>è¿æ¥</code>ä¸‹çš„<code>ä¿æŒæ´»è·ƒçŠ¶æ€</code>ï¼Œè®¾ç½®é—´éš”æ—¶é—´</p></li><li><p>æ•°æ®ä¼ è¾“ï¼šæœ¬åœ°ä¸æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸æœåŠ¡å™¨ï¼Œæœ¬åœ°ä¸è·³æ¿æœºä»£ç†æœåŠ¡å™¨ä¹‹é—´ä¼ è¾“æ•°æ®çš„é—®é¢˜ï¼Œå°äº4Gçš„æ–‡ä»¶éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡rzæˆ–è€…szè¿›è¡Œä¼ è¾“çš„ï¼Œä½†æ˜¯æ–‡ä»¶è¿‡å¤§å°±æ²¡åŠæ³•ä¼ è¾“äº†ï¼Œéœ€è¦å®‰è£…<code>xftp</code>ä¹‹ç±»çš„ä¼ è¾“æ–‡ä»¶çš„è½¯ä»¶</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> xshell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†…ç½‘ç©¿é€</title>
      <link href="/posts/1b14.html"/>
      <url>/posts/1b14.html</url>
      
        <content type="html"><![CDATA[<h1 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h1>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†…ç½‘ç©¿é€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡¯åˆ©å…¬å¼</title>
      <link href="/posts/8617.html"/>
      <url>/posts/8617.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‡¯åˆ©å…¬å¼"><a href="#å‡¯åˆ©å…¬å¼" class="headerlink" title="å‡¯åˆ©å…¬å¼"></a>å‡¯åˆ©å…¬å¼</h1><blockquote><p><strong>å‡¯åˆ©ï¼Œæ˜¯è°ï¼Ÿ</strong></p></blockquote><p>çº¦ç¿°Â·æ‹‰é‡ŒÂ·å‡¯åˆ©ï¼ˆJohn larry  Kelly 1923-1965ï¼‰1923 å¹´å‡ºç”Ÿäºç¾å›½å¾·å…‹è¨æ–¯å·ï¼Œåœ¨ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜ä¸­åŠ å…¥ç¾å›½æµ·å†›å½“äº†ä¸€åé£è¡Œå‘˜ã€‚</p><p>é€€å½¹åï¼Œè¿›å…¥å¾—å…‹è¨æ–¯å·å¥¥æ–¯æ±€åˆ†æ ¡å¿µç‰©ç†å­¦ã€‚1953å¹´è·å¾—ç‰©ç†å­¦åšå£«å­¦ä½ï¼Œæ¯•ä¸šåå»äº†å·ç§°è¯ºå¥–æ‰¹å‘éƒ¨çš„è´å°”å®éªŒå®¤å·¥ä½œã€‚</p><p>åœ¨è´å°”å®éªŒå®¤ä¸­ï¼Œä»–è®¤è¯†äº†å¥½å‹å…¼åŒäº‹ï¼Œè‘—åä¿¡æ¯è®ºåˆ›å§‹äººçš„å…‹åŠ³å¾·Â·é¦™å†œã€‚1956å¹´å‡¯åˆ©å—åˆ°é¦™å†œä¿¡æ¯è®ºçš„å¯å‘ï¼Œåœ¨å†…éƒ¨æœŸåˆŠã€Šè´å°”æŠ€æœ¯ç³»ç»ŸæœŸåˆŠã€‹ä¸­å‘è¡¨äº†ä¸€ç¯‡åä¸ºã€Šå¯¹ä¿¡æ¯ä¼ è¾“é€Ÿç‡çš„æ–°è§£é‡Šã€‹çš„è®ºæ–‡ã€‚</p><p>ç„¶è€Œè¿™å¹¶ä¸æ˜¯è®ºæ–‡åŸæ¥çš„æ ‡é¢˜ï¼ŒåŸæ ‡é¢˜æ›´æœ‰æ„æ€ï¼Œå«ã€Šä¿¡æ¯è®ºä¸èµŒåšã€‹ã€‚å› ä¸ºå…¬å¸é«˜å±‚è§‰å¾—è¿™æ ·çš„æ ‡é¢˜æœ‰æŸå…¬å¸é“å¾·å½¢è±¡ï¼Œæ‰è¢«è¿«ä»–æ¢äº†ä¸€ä¸ªæ–°åå­—ã€‚</p><p>ä½†å‡¯åˆ©çš„åˆè¡·ç¡®å®æ˜¯ä»¥ä¸€ä¸ªæ£’çƒæ¯”èµ›çš„èµŒå¾’è§†è§’ï¼Œå»æ€è€ƒå¦‚ä½•åˆç†æŠ¼æ³¨æ‰èƒ½è®©èµ„äº§å¾—åˆ°æœ€å¤§æŒ‡æ•°çš„å¢é•¿ã€‚è™½ç„¶æ ‡é¢˜ä¸ä¸¥è‚ƒï¼Œä½†è®ºæ–‡çš„è¯æ˜è¿‡ç¨‹å´ç›¸å½“ä¸¥è°¨ã€‚åæ¥ï¼Œé¦™å†œæŒ‡å¯¼å¦ä¸€ä¸ªæ•°å­¦å¤§ç¥åº”ç”¨å‡¯åˆ©çš„ç ”ç©¶ï¼ŒåŠæ‰“æ‹‰æ–¯ç»´åŠ æ–¯çš„å„ä¸ªèµŒåœºã€‚</p><p>è¿™ä¸ªæ•°å­¦å¤§ç¥å°±æ˜¯çˆ±å¾·åÂ·ç´¢æ™®ã€‚</p><p>çˆ±å¾·åÂ·ç´¢æ™®ï¼Œä¸€ä¸ªæ•°å­¦æ€ªæ‰ï¼Œä½œä¸ºåŠ å·å¤§å­¦æ´›æ‰çŸ¶åˆ†æ ¡çš„ç‰©ç†ç³»ç ”ç©¶ç”Ÿï¼Œå´å¯¹è½®ç›˜æ¸¸æˆå¿µå¿µä¸å¿˜ã€‚ä»–ä¸€ç›´è®¤ä¸ºæ ¹æ®å°çƒçš„æŠ•å…¥è§’åº¦å’Œè¿åŠ¨è½¨è¿¹å¯ä»¥é¢„æµ‹å°çƒçš„è½ç‚¹ï¼Œæ‰€ä»¥ä»–æƒ³è®¾è®¡ä¸€ä¸ªåŸºäºå˜é‡è®¡ç®—çš„è½®ç›˜é¢„æµ‹ç³»ç»Ÿã€‚</p><p>ä½†ç°å®æ¡ä»¶å´åˆ¶æ­¢äº†ä»–ï¼Œç”±äºæ‰‹ä¸Šçš„è½®ç›˜æ¨¡å‹å¤ªç®€å•ï¼Œåˆæ°å·§é©¬ä¸Šè¦æ¯•ä¸šäº†è®ºæ–‡è¿˜æ²¡å†™å®Œï¼Œäºæ˜¯å¯¹è½®ç›˜çš„ç ”ç©¶å°±åœæ­¢äº†ã€‚</p><p>æ¯•ä¸šåï¼Œç´¢æ™®å¯¹è½®ç›˜å¿µå¿µä¸å¿˜ï¼Œäºæ˜¯åŠ¨èº«å»äº†æ‹‰æ–¯ç»´åŠ æ–¯ã€‚å‡ºå‘å‰ï¼Œä»–åœ¨ã€Šç¾å›½ç»Ÿè®¡å­¦ä¼šä¼šåˆŠã€‹ä¸Šè¯»åˆ°äº†ä¸€ç¯‡å…³äºå¦‚ä½•èµ¢å¾— ã€Œ21 ç‚¹ã€æ¸¸æˆçš„è®ºæ–‡ã€‚</p><p>æ­¤æ—¶ï¼Œç´¢æ™®è§‰å¾— 21ç‚¹ è¿™ä¸ªçœ‹ä¼¼æ¯”è½®ç›˜æ›´æœ‰æ„æ€ï¼Œè‡ªå·±ä¹Ÿæœ‰å¿…è¦å°è¯•éªŒè¯ä¸€ä¸‹è¿™ä¸ªè®ºæ–‡é‡Œçš„å†…å®¹ã€‚äºæ˜¯ï¼Œç´¢æ™®åº”ç”¨è®ºæ–‡ä¸­çš„ç†è®ºå»äº†èµŒåœºï¼Œå¯ç»“æœè¾“å¾—å¾ˆæƒ¨ã€‚</p><p>äºæ˜¯ç´¢æ™®å¼€å§‹è‡ªå·±ç ”ç©¶ã€Œ21ç‚¹ã€æ¸¸æˆï¼Œä¸ä¹…ä¹ŸåŸåˆ›äº†è‡ªå·±çš„ä¸€å¥—ç†è®ºï¼ŒåŸºäºæ­¤ç†è®ºå†™äº†ä¸€ç¯‡è®ºæ–‡å«ã€Š21ç‚¹çš„å¸¸èƒœç­–ç•¥ã€‹ã€‚ä¸ºäº†é¡ºåˆ©å‘è¡¨è®ºæ–‡ï¼Œä»–æ±‚åŠ©äº†é¦™å†œï¼Œè€Œé¦™å†œä¸ä½†åŒæ„å¸®åŠ©ç´¢æ™®å‘è¡¨è®ºæ–‡ï¼Œè¿˜å»ºè®®ä»–æŠŠé¢˜ç›®æ”¹æˆã€Š21ç‚¹çš„æœ‰åˆ©ç­–ç•¥ã€‹ï¼Œä»–è¡¨ç¤ºï¼šã€Œç§‘å­¦é™¢çš„é‚£äº›äººéƒ½å¾ˆä¼ ç»Ÿï¼Œæ‰€ä»¥ï¼Œè¦ä½è°ƒã€‚ã€</p><p>ä½†è®ºæ–‡æœ‰ä¸ªä¸å®Œå–„çš„åœ°æ–¹ï¼Œå› ä¸ºåªæ˜¯æ€è€ƒã€Œ21ç‚¹ã€æ¸¸æˆæœ¬èº«çš„ç­–ç•¥ï¼Œå´æ²¡æœ‰æ¶‰åŠåˆ°å¦‚ä½•åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å¦‚ä½•ä¸‹æ³¨çš„é—®é¢˜ã€‚è¿™æ—¶å·§åˆæ¥äº†ï¼Œé¦™å†œå‘Šè¯‰ä»–ä¹‹å‰æœ‰ä¸ªå«çº¦ç¿°Â·å‡¯åˆ©çš„åŒäº‹æ—©å°±ç ”ç©¶å®Œäº†ã€‚</p><p>ä¸¤ä¸ªæ•°å­¦å¤§ç¥çš„æ€æƒ³ç¢°æ’åœ¨äº†ä¸€èµ·ï¼Œä¸€ä¸ªç ”ç©¶æ€ä¹ˆã€Œèµ¢å¾—å¤šã€ï¼Œä¸€ä¸ªç ”ç©¶æ€ä¹ˆã€Œè¾“å¾—å°‘ã€ã€‚</p><p>äºæ˜¯ç´¢æ™®åˆ©ç”¨å‡¯åˆ©å…¬å¼ï¼Œå¯¹ã€Œ21ç‚¹ã€æ¸¸æˆè¿›è¡Œé‡åŒ–è®¡ç®—ï¼Œé€šä¿—çš„è§£é‡Šå°±æ˜¯ï¼šèƒœç®—å¤§çš„é€‚åˆå¤šä¸‹æ³¨ï¼Œèƒœç®—å°çš„æ—¶å€™å°‘ä¸‹æ³¨ã€‚å‡­æ­¤ç†è®ºï¼Œç´¢æ™®ã€Œè¡€æ´—ã€æ‹‰æ–¯ç»´åŠ æ–¯å„å¤§èµŒåœºï¼ŒåˆæŠŠæ‰€æœ‰åˆ¶èƒœæ‰‹æ³•å†™å…¥äº†ã€Šæˆ˜èƒœåº„å®¶ã€‹è¿™æœ¬ä¹¦é‡Œï¼Œæœ€ç»ˆè¢«èµŒåœºæ‰€å°æ€ã€‚ä¹‹åç´¢æ™®ä¸æ–­å®Œå–„ç†è®ºï¼Œåœ¨é‡‘èå¸‚åœºåšé‡åŒ–äº¤æ˜“ï¼Œè¿™æ˜¯åè¯ã€‚</p><p>å‡¯åˆ©å‘¢ï¼Ÿå¾ˆé—æ†¾ï¼Œä¹Ÿè®¸æ˜¯å¤©å¦’è‹±æ‰ï¼Œå‡¯åˆ©çªå‘è„‘æº¢è¡€è€Œäº¡ï¼Œäº«å¹´41å²ï¼Œä»–è‡³æ­»ä¹Ÿæ²¡èƒ½è¢«å¤§ä¼—ç†ŸçŸ¥ã€‚</p><p>ä½†å‡¯åˆ©å…¬å¼ï¼Œå´åœ¨æœªæ¥æ…¢æ…¢çš„å±•ç°äº†å¨åŠ›ï¼Œåœ¨ 60 å¤šå¹´çš„å‘å±•ä¸­ï¼Œå‡¯åˆ©å…¬å¼è¢«æŠ•èµ„ç•Œå’Œåšå½©ç•Œå¥‰ä¸ºç»å…¸ã€‚</p><blockquote><p><strong>é‚£å‡¯åˆ©åˆ°åº•æ€ä¹ˆç”¨å‘¢ï¼Ÿ</strong></p></blockquote><p>F &#x3D; (bp - q) &#x2F; b</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>å­¦ä¹ è‡ª</p><p><a href="https://mp.weixin.qq.com/s/0hvjfGUyADoRZrnkUCgwwQ">å¯¹å­¦æ¸£æœ€å‹å¥½çš„å…¬å¼ï¼šå‡¯åˆ©å…¬å¼ (qq.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/417515601">æ·±åº¦ç†è§£å‡¯åˆ©å…¬å¼ï¼ˆäº¤æ˜“å‘˜å¿…è¯» - çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ä»Šæ—¥å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¯åˆ©å…¬å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç•™è¨€æ¿æ›´æ–°</title>
      <link href="/posts/7f1d.html"/>
      <url>/posts/7f1d.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç•™è¨€æ¿æ›´æ–°"><a href="#ç•™è¨€æ¿æ›´æ–°" class="headerlink" title="ç•™è¨€æ¿æ›´æ–°"></a>ç•™è¨€æ¿æ›´æ–°</h1><p>åŸæ¥çš„ç•™è¨€æ¿å®å±ä¸€äº›ç®€é™‹ï¼Œäºæ˜¯å†³å®šæ›´æ–°ä¸€ä¸‹ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æ›´æ–°çš„è¿‡ç¨‹ã€‚</p><h2 id="æ•ˆæœæ˜¾ç¤º"><a href="#æ•ˆæœæ˜¾ç¤º" class="headerlink" title="æ•ˆæœæ˜¾ç¤º"></a>æ•ˆæœæ˜¾ç¤º</h2><p>åŸæ ·å¼</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404051129915.png" alt="åŸæ ·å¼" style="zoom: 33%;" /><p>æ–°æ ·å¼</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/new_contact.png" alt="æ–°æ ·å¼" style="zoom: 33%;" /><p>ç•™è¨€æ¿</p><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><p>ä¿®æ”¹<code>valine.ejs</code></p><p>åŸä»£ç ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">.valine-card</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 1.5rem auto<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.valine-card .card-content</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 20px 20px 5px 20px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments textarea</span> <span class="token punctuation">&#123;</span>        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>        <span class="token comment">/* valineè¯„è®ºèƒŒæ™¯å›¾ */</span>        <span class="token comment">/* background: url("https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202310020019240.gif") 100% 100% no-repeat; */</span>        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>background<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>"</span><span class="token punctuation">)</span></span> 100% 100% no-repeat<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments p</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 2px 2px 10px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.78rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments blockquote p</span> <span class="token punctuation">&#123;</span>        <span class="token property">text-indent</span><span class="token punctuation">:</span> 0.2rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments a</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 2px<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #4cbf30<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments img</span> <span class="token punctuation">&#123;</span>        <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ol li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> decimal<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ol,    ul</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>        <span class="token property">padding-left</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>        <span class="token property">word-spacing</span><span class="token punctuation">:</span> 0.05rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul li,    ol li</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> list-item<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> disc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul ul li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> circle<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 12px 13px<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dfe2e5<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">table tr:nth-child(2n),    thead</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fafafa<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table th</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table td</span> <span class="token punctuation">&#123;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h1</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.85rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 2.2rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h2</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.65rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.9rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h3</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.45rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.7rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h4</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h5</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h6</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.3rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments p</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments hr</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 12px 0<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments blockquote</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 15px 0<span class="token punctuation">;</span>        <span class="token property">border-left</span><span class="token punctuation">:</span> 5px solid #42b983<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1rem 0.8rem 0.3rem 0.8rem<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>66<span class="token punctuation">,</span> 185<span class="token punctuation">,</span> 131<span class="token punctuation">,</span> .1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> .5em 0<span class="token punctuation">;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #272822<span class="token punctuation">;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.3em<span class="token punctuation">;</span>        <span class="token property">tab-size</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments code</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1px 3px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 0.92rem<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e96900<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre code</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e8eaf6<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #272822<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre[class*="language-"]</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> .5em 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments code[class*="language-"],    pre[class*="language-"]</span> <span class="token punctuation">&#123;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e8eaf6<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments [type="checkbox"]:not(:checked),    [type="checkbox"]:checked</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -1.3rem<span class="token punctuation">;</span>        <span class="token property">margin-right</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>        <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments b,    strong</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments dfn</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments small</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 85%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments cite</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments mark</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fcf8e3<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> .2em<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 12px 13px<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dfe2e5<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">table tr:nth-child(2n),    thead</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fafafa<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table th</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table td</span> <span class="token punctuation">&#123;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments [type="checkbox"]:not(:checked),    [type="checkbox"]:checked</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -1.3rem<span class="token punctuation">;</span>        <span class="token property">margin-right</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>        <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card valine-card<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fade-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment_headling<span class="token punctuation">"</span></span>        <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-comments fa-fw<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>è¯„è®º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcomments<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> grid</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span><span class="token string">'/libs/valine/av-min.js'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>libs<span class="token punctuation">.</span>js<span class="token punctuation">.</span>valine<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#vcomments'</span><span class="token punctuation">,</span>        <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>appId </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">appKey</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>appKey </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">notify</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>notify </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>        <span class="token literal-property property">verify</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>verify </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>        <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>visitor </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>        <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>avatar </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>pageSize </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>language <span class="token operator">==</span> <span class="token string">"zh-CN"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  </span><span class="token delimiter punctuation">%></span></span>zh-cn<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>en<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>placeholder </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>        <span class="token literal-property property">enableQQ</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token literal-property property">serverURLs</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>serverURLs </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>  <span class="token comment">// å¢åŠ è¿™ä¸€è¡Œï¼ï¼ï¼</span>        <span class="token literal-property property">emojiCDN</span><span class="token operator">:</span> <span class="token string">'//i0.hdslb.com/bfs/emote/'</span><span class="token punctuation">,</span>        <span class="token comment">// è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„</span>        <span class="token literal-property property">requiredFields</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'nick'</span><span class="token punctuation">,</span> <span class="token string">'mail'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//è®¾ç½®å¿…å¡«é¡¹</span>        <span class="token literal-property property">emojiMaps</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token string-property property">"tv_doge"</span><span class="token operator">:</span> <span class="token string">"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_äº²äº²"</span><span class="token operator">:</span> <span class="token string">"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å·ç¬‘"</span><span class="token operator">:</span> <span class="token string">"bb690d4107620f1c15cff29509db529a73aee261.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å†è§"</span><span class="token operator">:</span> <span class="token string">"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å†·æ¼ "</span><span class="token operator">:</span> <span class="token string">"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å‘æ€’"</span><span class="token operator">:</span> <span class="token string">"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å‘è´¢"</span><span class="token operator">:</span> <span class="token string">"34db290afd2963723c6eb3c4560667db7253a21a.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å¯çˆ±"</span><span class="token operator">:</span> <span class="token string">"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_åè¡€"</span><span class="token operator">:</span> <span class="token string">"09dd16a7aa59b77baa1155d47484409624470c77.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å‘†"</span><span class="token operator">:</span> <span class="token string">"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å‘•å"</span><span class="token operator">:</span> <span class="token string">"9f996894a39e282ccf5e66856af49483f81870f3.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å›°"</span><span class="token operator">:</span> <span class="token string">"241ee304e44c0af029adceb294399391e4737ef2.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_åç¬‘"</span><span class="token operator">:</span> <span class="token string">"1f0b87f731a671079842116e0991c91c2c88645a.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å¤§ä½¬"</span><span class="token operator">:</span> <span class="token string">"093c1e2c490161aca397afc45573c877cdead616.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å¤§å“­"</span><span class="token operator">:</span> <span class="token string">"23269aeb35f99daee28dda129676f6e9ea87934f.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å§”å±ˆ"</span><span class="token operator">:</span> <span class="token string">"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å®³ç¾"</span><span class="token operator">:</span> <span class="token string">"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å°´å°¬"</span><span class="token operator">:</span> <span class="token string">"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_å¾®ç¬‘"</span><span class="token operator">:</span> <span class="token string">"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æ€è€ƒ"</span><span class="token operator">:</span> <span class="token string">"90cf159733e558137ed20aa04d09964436f618a1.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æƒŠå“"</span><span class="token operator">:</span> <span class="token string">"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æ‰“è„¸"</span><span class="token operator">:</span> <span class="token string">"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æŠ“ç‹‚"</span><span class="token operator">:</span> <span class="token string">"fe31c08edad661d63762b04e17b8d5ae3c71a757.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æŠ é¼»"</span><span class="token operator">:</span> <span class="token string">"c666f55e88d471e51bbd9fab9bb308110824a6eb.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æ–œçœ¼ç¬‘"</span><span class="token operator">:</span> <span class="token string">"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æ— å¥ˆ"</span><span class="token operator">:</span> <span class="token string">"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æ™•"</span><span class="token operator">:</span> <span class="token string">"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æµæ±—"</span><span class="token operator">:</span> <span class="token string">"cead1c351ab8d79e9f369605beb90148db0fbed3.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æµæ³ª"</span><span class="token operator">:</span> <span class="token string">"7e71cde7858f0cd50d74b0264aa26db612a8a167.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_æµé¼»è¡€"</span><span class="token operator">:</span> <span class="token string">"c32d39db2737f89b904ca32700d140a9241b0767.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç‚¹èµ"</span><span class="token operator">:</span> <span class="token string">"f85c354995bd99e28fc76c869bfe42ba6438eff4.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç”Ÿæ°”"</span><span class="token operator">:</span> <span class="token string">"26702dcafdab5e8225b43ffd23c94ac1ff932654.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç”Ÿç—…"</span><span class="token operator">:</span> <span class="token string">"8b0ec90e6b86771092a498c54f09fc94621c1900.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç–‘é—®"</span><span class="token operator">:</span> <span class="token string">"0793d949b18d7be716078349c202c15ff166f314.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç™½çœ¼"</span><span class="token operator">:</span> <span class="token string">"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_çš±çœ‰"</span><span class="token operator">:</span> <span class="token string">"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç›®çªå£å‘†"</span><span class="token operator">:</span> <span class="token string">"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç¡ç€"</span><span class="token operator">:</span> <span class="token string">"8b196675b53af58264f383c50ad0945048290b33.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_ç¬‘å“­"</span><span class="token operator">:</span> <span class="token string">"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_è…¼è…†"</span><span class="token operator">:</span> <span class="token string">"89712c0d4af73e67f89e35cbc518420380a7f6f4.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_è‰²"</span><span class="token operator">:</span> <span class="token string">"61822c7e9aae5da76475e7892534545336b23a6f.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_è°ƒä¾ƒ"</span><span class="token operator">:</span> <span class="token string">"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_è°ƒçš®"</span><span class="token operator">:</span> <span class="token string">"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é„™è§†"</span><span class="token operator">:</span> <span class="token string">"6e72339f346a692a495b123174b49e4e8e781303.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é—­å˜´"</span><span class="token operator">:</span> <span class="token string">"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_éš¾è¿‡"</span><span class="token operator">:</span> <span class="token string">"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é¦‹"</span><span class="token operator">:</span> <span class="token string">"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é¬¼è„¸"</span><span class="token operator">:</span> <span class="token string">"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é»‘äººé—®å·"</span><span class="token operator">:</span> <span class="token string">"45821a01f51bc867da9edbaa2e070410819a95b2.png"</span><span class="token punctuation">,</span>            <span class="token string-property property">"tv_é¼“æŒ"</span><span class="token operator">:</span> <span class="token string">"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ç›´è¾¾è¯„è®º --></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/back-comment.ejs'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹ä¸ºï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">.valine-card</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 1.5rem auto<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .emoji,    .v[data-class=v] .vemoji</span> <span class="token punctuation">&#123;</span>        <span class="token property">max-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>        <span class="token property">max-width</span><span class="token punctuation">:</span> 30px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vwrap .vemojis</span> <span class="token punctuation">&#123;</span>        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token property">padding-top</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments .vemoji:hover</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.3<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">body.dark .v[data-class=v] .vwrap .vemojis i</span> <span class="token punctuation">&#123;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #312f2f<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vwrap .vemojis i</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 4px 8px<span class="token punctuation">;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #f7f7f7<span class="token punctuation">;</span>        <span class="token property">padding-top</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.roboterbb</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 87px<span class="token punctuation">;</span>        <span class="token property">padding-top</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.robot-check-text:hover</span> <span class="token punctuation">&#123;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #26a69a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.roboter:hover .robot-check-text::before</span> <span class="token punctuation">&#123;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #5a5a5a<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.robotxian</span> <span class="token punctuation">&#123;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #5a5a5a<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 21px<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 11px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 50% -17px<span class="token punctuation">;</span>        <span class="token property">animation</span><span class="token punctuation">:</span> swing 3.5s infinite ease-in-out<span class="token punctuation">;</span>        <span class="token property">-webkit-transform-origin</span><span class="token punctuation">:</span> 50% -17px<span class="token punctuation">;</span>        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> swing 2.85s infinite ease-in-out<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vwrap</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 23px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.robotimg</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 28px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 28px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 14px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> -13px <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">max-width</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span>        <span class="token property">cursor</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vbtn:disabled</span> <span class="token punctuation">&#123;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #b2b2b5<span class="token punctuation">;</span>        <span class="token property">border-color</span><span class="token punctuation">:</span> #b2b2b5<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vbtn:disabled</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.valine-card .card-content</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 20px 20px 5px 20px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.v[data-class=v] .vwrap</span> <span class="token punctuation">&#123;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/* #vcomments textarea &#123;                box-sizing: border-box;                background: url("/medias/comment_bg1.webp") 100% 100% no-repeat;            &#125; */</span>    <span class="token selector">#vcomments textarea</span> <span class="token punctuation">&#123;</span>        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/medias/comment_bg.png<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>        <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>        <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>        <span class="token property">background-position</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token property">resize</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments p</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 2px 2px 10px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.05rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.78rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments blockquote p</span> <span class="token punctuation">&#123;</span>        <span class="token property">text-indent</span><span class="token punctuation">:</span> 0.2rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments a</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 2px<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #4cbf30<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments img</span> <span class="token punctuation">&#123;</span>        <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ol li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> decimal<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ol,    ul</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>        <span class="token property">padding-left</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>        <span class="token property">word-spacing</span><span class="token punctuation">:</span> 0.05rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul li,    ol li</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> list-item<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> disc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments ul ul li</span> <span class="token punctuation">&#123;</span>        <span class="token property">list-style-type</span><span class="token punctuation">:</span> circle<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 12px 13px<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dfe2e5<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">table tr:nth-child(2n),    thead</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fafafa<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table th</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table td</span> <span class="token punctuation">&#123;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h1</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.85rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 2.2rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h2</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.65rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.9rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h3</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.45rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.7rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h4</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.25rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h5</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments h6</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.3rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments p</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments hr</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 12px 0<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments blockquote</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 15px 0<span class="token punctuation">;</span>        <span class="token property">border-left</span><span class="token punctuation">:</span> 5px solid #42b983<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1rem 0.8rem 0.3rem 0.8rem<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>66<span class="token punctuation">,</span> 185<span class="token punctuation">,</span> 131<span class="token punctuation">,</span> .1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> .5em 0<span class="token punctuation">;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #272822<span class="token punctuation">;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.3em<span class="token punctuation">;</span>        <span class="token property">tab-size</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments code</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1px 3px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 0.92rem<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e96900<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre code</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> monospace<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e8eaf6<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #272822<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments pre[class*="language-"]</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> .5em 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments code[class*="language-"],    pre[class*="language-"]</span> <span class="token punctuation">&#123;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #e8eaf6<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments [type="checkbox"]:not(:checked),    [type="checkbox"]:checked</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -1.3rem<span class="token punctuation">;</span>        <span class="token property">margin-right</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>        <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments b,    strong</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments dfn</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-style</span><span class="token punctuation">:</span> italic<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments small</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 85%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments cite</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments mark</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fcf8e3<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> .2em<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table,    th,    td</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 12px 13px<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dfe2e5<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">table tr:nth-child(2n),    thead</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #fafafa<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table th</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #f2f2f2<span class="token punctuation">;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments table td</span> <span class="token punctuation">&#123;</span>        <span class="token property">min-width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#vcomments [type="checkbox"]:not(:checked),    [type="checkbox"]:checked</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -1.3rem<span class="token punctuation">;</span>        <span class="token property">margin-right</span><span class="token punctuation">:</span> 0.4rem<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>        <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card valine-card<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcomments-top<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment_headling<span class="token punctuation">"</span></span>            <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span> <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token property">padding-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token property">top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span> <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-comments fa-fw<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>è¯„ è®º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcomments<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content v<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> grid</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">data-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>v<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vpanel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vwrap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cancel-reply text-right<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å–æ¶ˆå›å¤<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>                            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vicon cancel-reply-btn<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 1024 1024<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>                            <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4220<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z<span class="token punctuation">"</span></span>                                <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4221<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z<span class="token punctuation">"</span></span>                                <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4222<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vheader item3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nick<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ˜µç§°/QQå·<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vnick vinput<span class="token punctuation">"</span></span>                            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mail<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é‚®ç®±<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vmail vinput<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>                            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>link<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç½‘å€(https://)<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vlink vinput<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vedit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>veditor<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>veditor vinput<span class="token punctuation">"</span></span>                            <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯„è®ºå‰è®°å¾—ç‚¹å‡»ä¸‹æ–¹æœºå™¨äººéªŒè¯æŒ‰é’®~ ï¼ˆå®¢å®˜ç•™ä¸‹QQé‚®ç®±å¯å¥½ï¼Œä¼šå¾—åˆ°åŠæ—¶å›å¤å“¦~ï¼‰<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vrow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcol vcol-60 status-bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcol vcol-40 vctrl text-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¡¨æƒ…<span class="token punctuation">"</span></span>                                    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vicon vemoji-btn actived<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 1024 1024<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span>                                        <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16172<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16173<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16174<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16175<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16176<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é¢„è§ˆ<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vicon vpreview-btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span>                                        <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 1024 1024<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span>                                        <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17688<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17689<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17690<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17691<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span>                                            <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z<span class="token punctuation">"</span></span>                                            <span class="token attr-name">p-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>17692<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vrow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcol vcol-30<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Markdown is supported<span class="token punctuation">"</span></span>                                <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://guides.github.com/features/mastering-markdown/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vicon<span class="token punctuation">"</span></span>                                <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>markdown<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 16 16<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span>                                    <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>evenodd<span class="token punctuation">"</span></span>                                        <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcol vcol-70 text-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roboterbb<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>caishenxian fudaixian robotxian<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>caishenpic fudao robotimg<span class="token punctuation">"</span></span>                                            <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/robot.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roboter<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯„è®ºå‰è®°å¾—ç‚¹å‡»éªŒè¯<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>robot-check<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span>                                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-robot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>                                        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>robot-check-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Â·<span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span>ç‚¹å‡»éªŒè¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯„è®ºå‰å‹¾é€‰æœºå™¨äººéªŒè¯æŒ‰é’®<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vsubmit vbtn<span class="token punctuation">"</span></span>                                <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>disabled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æäº¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemojis<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å‘²ç‰™<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å‘²ç‰™<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span>                                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/ciya.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åƒç“œ<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åƒç“œ<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/chigua.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å†·é…·<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å†·é…·<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/cool.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‰“è„¸<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‰“è„¸<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/fface.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æŠ é¼»<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æŠ é¼»<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/picknoce.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç¬‘å“­<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç¬‘å“­<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/smilecry.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åè¡€<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åè¡€<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/tuxue.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç‰›å•Š<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç‰›å•Š<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/niua.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç‹—å¤´<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç‹—å¤´<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/goutou1.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ok<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ok<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/ok.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ»‘ç¨½<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ»‘ç¨½<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/huaji.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‰“å’©<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‰“å’©<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/dame.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é€èŠ±<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é€èŠ±<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/songhua.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŠ ç­<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŠ ç­<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/jiaban.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çˆ†ç‚¸<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çˆ†ç‚¸<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/baozha.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çˆ±äº†<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çˆ±äº†<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/aile.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å±<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å±<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/wei.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å°ä¸‘<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å°ä¸‘<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/xiaochou.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çŒªå¤´<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çŒªå¤´<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/zhutou.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çš±çœ‰<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çš±çœ‰<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/zhoumei.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å‡ºå®¶äºº<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å‡ºå®¶äºº<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/chujiaren.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åœŸåŒª<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åœŸåŒª<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/tufei.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‹œæ‰˜æ‹œæ‰˜<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ‹œæ‰˜æ‹œæ‰˜<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/baituo.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é€ç¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é€ç¦<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/songfu.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span>                            <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çº¢åŒ…æ‹¿æ¥<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>çº¢åŒ…æ‹¿æ¥<span class="token punctuation">"</span></span> <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span>                                <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/hongbao.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æˆ˜æœ¯å–æ°´<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æˆ˜æœ¯å–æ°´<span class="token punctuation">"</span></span>                                <span class="token attr-name">referrerpolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-referrer<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vemoji<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../medias/emoji_img/drink.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vinput vpreview<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vmark<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcount<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>å…±è®¡ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vnum<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>è¯„è®º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vload-top text-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vspinner<span class="token punctuation">"</span></span>                    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vcards<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vload-bottom text-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vspinner<span class="token punctuation">"</span></span>                    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>30px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vempty<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>æ¥å‘è¯„è®ºå§~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vpage txt-center<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vmore vbtn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>åŠ è½½æ›´å¤š...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vpower txt-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Powered By <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://valine.js.org<span class="token punctuation">"</span></span>                    <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Valine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>v1.4.14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- &lt;script src="libs/valine/av-min.js">&lt;/script>    &lt;script src="libs/valine/Valine.min.js">&lt;/script> --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span><span class="token string">'/libs/valine/av-min.js'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>libs<span class="token punctuation">.</span>js<span class="token punctuation">.</span>valine<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#vcomments'</span><span class="token punctuation">,</span>            <span class="token literal-property property">enableQQ</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token literal-property property">boolean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>appId </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">appKey</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>appKey </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">notify</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>notify </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>            <span class="token literal-property property">verify</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>verify </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>            <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>visitor </span><span class="token delimiter punctuation">%></span></span>'</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">,</span>            <span class="token comment">// avatar: '<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>avatar </span><span class="token delimiter punctuation">%></span></span>',</span>            <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">'/medias/robot.png'</span><span class="token punctuation">,</span>            <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>pageSize </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>language <span class="token operator">==</span> <span class="token string">"zh-CN"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  </span><span class="token delimiter punctuation">%></span></span>zh-cn<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>en<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>placeholder </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">adminEmailMd5</span><span class="token operator">:</span> <span class="token string">'<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>adminEmailMd5 </span><span class="token delimiter punctuation">%></span></span>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">master</span><span class="token operator">:</span> <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token operator">-</span> <span class="token string">'["'</span> <span class="token operator">+</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>master<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'", "'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">,</span>            <span class="token literal-property property">friends</span><span class="token operator">:</span> <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token operator">-</span> <span class="token string">'["'</span> <span class="token operator">+</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'", "'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">,</span>            <span class="token literal-property property">tagMeta</span><span class="token operator">:</span> <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token operator">-</span> <span class="token string">'["'</span> <span class="token operator">+</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>tagMeta<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'", "'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">,</span>            <span class="token comment">// tagMeta: ["æƒ³åƒğŸ¦çš„åšä¸»", "å°ä¼™ä¼´ğŸ–", "è®¿ å®¢"],</span>            <span class="token comment">// tagMeta: '<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>tagMeta </span><span class="token delimiter punctuation">%></span></span>',</span>            <span class="token comment">// master: '<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>master </span><span class="token delimiter punctuation">%></span></span>',</span>            <span class="token comment">// friends: '<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>friends </span><span class="token delimiter punctuation">%></span></span>',</span>            <span class="token literal-property property">emoticonUrl</span><span class="token operator">:</span> <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token operator">-</span> <span class="token string">'["'</span> <span class="token operator">+</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>emoticonUrl<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'", "'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span> </span><span class="token delimiter punctuation">%></span></span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- ç›´è¾¾è¯„è®º --></span>    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/back-comment.ejs'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>    <span class="token comment">&lt;!-- è¯„è®ºæœºå™¨äººéªŒè¯ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.roboter'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robot-check-text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'Â·&amp;nbsp;&amp;nbsp;&amp;nbsp;éªŒè¯æˆåŠŸï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.roboter:hover .robot-check-text::before'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'border'</span><span class="token punctuation">,</span> <span class="token string">'2px solid #26a69a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robotxian'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> <span class="token string">'#26a69a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robotimg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> <span class="token string">'/medias/robot1.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robot-check-text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'#26a69a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robot-check'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.vsubmit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'è¯„è®ºå‰å‹¾é€‰æœºå™¨äººéªŒè¯æŒ‰é’®'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.robot-check'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.vsubmit'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'æ¬¢è¿ç•…æ‰€æ¬²è¨€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç•™è¨€æ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sakuriroç¾åŒ–</title>
      <link href="/posts/d197.html"/>
      <url>/posts/d197.html</url>
      
        <content type="html"><![CDATA[<h1 id="Sakuriroç¾åŒ–"><a href="#Sakuriroç¾åŒ–" class="headerlink" title="Sakuriroç¾åŒ–"></a>Sakuriroç¾åŒ–</h1>]]></content>
      
      
      <categories>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sakuriro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‚è°ˆ</title>
      <link href="/posts/3026.html"/>
      <url>/posts/3026.html</url>
      
        <content type="html"><![CDATA[<h2 id="min-css-å’Œ-css"><a href="#min-css-å’Œ-css" class="headerlink" title="min.css å’Œ.css"></a>min.css å’Œ.css</h2><p>ä¸¤è€…ä»…ä»…æ˜¯æ–‡ä»¶å¤§å°ã€æœ‰æ— æ³¨é‡Šã€æ ¼å¼ç¾åŒ–ï¼ˆå¯è¯»æ€§ï¼‰ä¸Šçš„åŒºåˆ«ï¼Œä½¿ç”¨ä¸Šï¼ˆä½œç”¨æ•ˆæœï¼‰å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å‹ç¼©å’Œæœªå‹ç¼©çš„åŒºåˆ«ï¼Œ.min æ˜¯å‹ç¼©ç‰ˆçš„ï¼ˆå»æ‰å¤šä½™çš„æ³¨é‡Šã€ç©ºæ ¼ç­‰ï¼‰æ–‡ä»¶è¾ƒå°ï¼Œæ˜“äºåŠ è½½ï¼Œå¦å¤–çš„å°±æ˜¯æœªå‹ç¼©çš„äº†æ–‡ä»¶ç¨å¤§ï¼Œä¿ç•™å®Œæ•´çš„æ³¨é‡Šã€å¯è¯»æ€§å¼ºçš„æ ‡å‡†æ ¼å¼åŒ–æ–‡ä»¶ã€‚ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒç”¨.min.cssï¼ˆåŠ è½½é€Ÿåº¦å¿«ï¼Œæå‡ä½“éªŒï¼‰ , å¼€å‘è¯•éªŒé˜¶æ®µç”¨.cssï¼ˆä¾¿äºç†è§£ï¼‰ã€‚</p><p>å‚è€ƒè‡ª <a href="https://www.cnblogs.com/Renyi-Fan/p/12163246.html">min.css å’Œæ™®é€š css æœ‰ä»€ä¹ˆä¸åŒ â€“ èŒƒä»ä¹‰ â€“ åšå®¢å›­ (cnblogs.com)</a></p><h2 id="å…³äºä¿®æ”¹æ ·å¼"><a href="#å…³äºä¿®æ”¹æ ·å¼" class="headerlink" title="å…³äºä¿®æ”¹æ ·å¼"></a>å…³äºä¿®æ”¹æ ·å¼</h2><p>ç›´æ¥åœ¨ä¸»é¢˜ç¼–è¾‘å™¨ä¸­åšå‡ºçš„çš„ä¿®æ”¹æ˜¯æ— æ³•åœ¨æ›´æ–°æ—¶ä¿ç•™çš„ï¼Œå¯ä»¥åœ¨ä¸»é¢˜ â€“ è‡ªå®šä¹‰ â€“ é¢å¤– CSS è¿›è¡Œä½ æƒ³è¦çš„ä¿®æ”¹ï¼Œåªéœ€å¯¹ä½ æƒ³è¦ä¿®æ”¹çš„æŸä¸ªå…ƒç´ è¿›è¡Œä¿®æ”¹å°±è¡Œäº†ï¼Œåœ¨è¿™é‡Œä¿®æ”¹çš„æ ·å¼åœ¨æ›´æ–°æ—¶æ˜¯å¯ä»¥ä¿ç•™çš„ã€‚è€Œä¸”é€šè¿‡å†…ç½®çš„ css ç¼–è¾‘å™¨æ˜¯å¯ä»¥è¿›è¡Œæ•ˆæœå®æ—¶é¢„è§ˆçš„ã€‚</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="å¤šå›¾åƒåŒè¡Œæ˜¾ç¤ºå±…ä¸­"><a href="#å¤šå›¾åƒåŒè¡Œæ˜¾ç¤ºå±…ä¸­" class="headerlink" title="å¤šå›¾åƒåŒè¡Œæ˜¾ç¤ºå±…ä¸­"></a>å¤šå›¾åƒåŒè¡Œæ˜¾ç¤ºå±…ä¸­</h3><pre class="line-numbers language-none"><code class="language-none">&lt;p class&#x3D;&quot;has-text-align-center&quot;&gt;&lt;img width&#x3D;&quot;30%&quot; src&#x3D;&quot;https:&#x2F;&#x2F;img.crowya.com&#x2F;media&#x2F;cut_2020041000193919SS.png?x-oss-process&#x3D;style&#x2F;compress&quot;&gt;&lt;img width&#x3D;&quot;30%&quot; src&#x3D;&quot;https:&#x2F;&#x2F;img.crowya.com&#x2F;media&#x2F;cut_2020041000413941SS.png?x-oss-process&#x3D;style&#x2F;compress&quot;&gt;&lt;img width&#x3D;&quot;30%&quot; src&#x3D;&quot;https:&#x2F;&#x2F;img.crowya.com&#x2F;media&#x2F;cut_2020041000424042SS.png?x-oss-process&#x3D;style&#x2F;compress&quot;&gt;&lt;p&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–°çª—å£æ‰“å¼€"><a href="#æ–°çª—å£æ‰“å¼€" class="headerlink" title="æ–°çª—å£æ‰“å¼€"></a>æ–°çª—å£æ‰“å¼€</h3><pre class="line-numbers language-none"><code class="language-none">&lt;a href&#x3D;&quot;é“¾æ¥çš„é¡µé¢&quot; target&#x3D;&quot;_blank&quot;&gt;æ–°çª—å£æ‰“å¼€&lt;&#x2F;a&gt;&lt;a href&#x3D;&quot;é“¾æ¥çš„é¡µé¢&quot; target&#x3D;&quot;_parent&quot;&gt;åŸçª—å£æ‰“å¼€&lt;&#x2F;a&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="çº¯æ–‡æœ¬ç²˜è´´"><a href="#çº¯æ–‡æœ¬ç²˜è´´" class="headerlink" title="çº¯æ–‡æœ¬ç²˜è´´"></a>çº¯æ–‡æœ¬ç²˜è´´</h3><p>ä¼—æ‰€å‘¨çŸ¥ç²˜è´´æ˜¯ <code>Ctrl</code> + <code>V</code>ï¼Œä½†æ˜¯è¿™ç§ç²˜è´´æ˜¯å¸¦æ ¼å¼çš„ã€‚å¦‚æœæƒ³è¦æ¸…é™¤æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯çº¯æ–‡æœ¬ç²˜è´´ï¼Œåªéœ€æŒ‰ä¸‹ <code>Ctrl</code> + <code>Shift</code> + <code>V</code> ã€‚</p><h3 id="æµ‹è¯•åŸŸåè§£ææ˜¯å¦ç”Ÿæ•ˆ"><a href="#æµ‹è¯•åŸŸåè§£ææ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="æµ‹è¯•åŸŸåè§£ææ˜¯å¦ç”Ÿæ•ˆ"></a>æµ‹è¯•åŸŸåè§£ææ˜¯å¦ç”Ÿæ•ˆ</h3><p>Windows å‘½ä»¤çª—å£ä¸­è¾“å…¥ <code>nslookup åŸŸå</code>ï¼Œä¾‹å¦‚</p><pre class="line-numbers language-none"><code class="language-none">nslookup crowya.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://crowya.com/803">é‡åˆ°çš„ä¸€äº› CSS â€“ é¸¦é¸¦çš„å·¢ç©´ (crowya.com)</a></p><p><a href="https://crowya.com/293">è®¡ç®—æœºæŠ€å·§ &amp; å¿«æ·é”® | ç›¸è§æ¨æ™š â€“ é¸¦é¸¦çš„å·¢ç©´ (crowya.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾ç½®é¡µé¢æ¨¡ç‰ˆ</title>
      <link href="/posts/8e30.html"/>
      <url>/posts/8e30.html</url>
      
        <content type="html"><![CDATA[<h2 id="è¯´è¯´"><a href="#è¯´è¯´" class="headerlink" title="è¯´è¯´"></a>è¯´è¯´</h2><ol><li>ä»ªè¡¨ç›˜å·¦ä¾§èœå•æ é‡Œé€‰æ‹©é¡µé¢ï¼Œç„¶åæ–°å»ºä¸€ä¸ªé¡µé¢ â€œè¯´è¯´â€</li><li>ç‚¹å‡»å¿«é€Ÿç¼–è¾‘</li><li>é€‰æ‹©é¡µé¢æ¨¡æ¿ä¸º â€œè¯´è¯´â€</li></ol><p><img src="http://47.108.179.73/wp-content/uploads/2024/03/image-5-1024x329.png" alt="img"></p><h2 id="ç•™è¨€æ¿"><a href="#ç•™è¨€æ¿" class="headerlink" title="ç•™è¨€æ¿"></a>ç•™è¨€æ¿</h2><p>åŒä¸Šï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ â€œç•™è¨€æ¿â€ï¼Œåœ¨å¿«é€Ÿç¼–è¾‘ä¸­å°†å…¶é¡µé¢æ¨¡æ¿è®¾ä¸º â€œç•™è¨€æ¿â€ï¼Œå¹¶å¼€å¯è¿™ä¸ªé¡µé¢çš„è¯„è®ºåŠŸèƒ½ï¼Œå³å¯è®©è¿™ä¸ªé¡µé¢æˆä¸ºç•™è¨€æ¿ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦æ‰“å¼€è¯„è®ºåŠŸèƒ½ï¼</p></blockquote><h2 id="æ—¶é—´è½´"><a href="#æ—¶é—´è½´" class="headerlink" title="æ—¶é—´è½´"></a>æ—¶é—´è½´</h2><p>åŒç†ï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå°†å…¶é¡µé¢æ¨¡æ¿è®¾ä¸º â€œå½’æ¡£æ—¶é—´è½´â€ï¼Œå³å¯è®©è¿™ä¸ªé¡µé¢æˆä¸ºå½’æ¡£æ—¶é—´è½´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çœ‹æ¿å¨˜åˆå¹¶éŸ³ä¹æ’­æ”¾å™¨</title>
      <link href="/posts/c149.html"/>
      <url>/posts/c149.html</url>
      
        <content type="html"><![CDATA[<h1 id="çœ‹æ¿å¨˜åˆå¹¶éŸ³ä¹æ’­æ”¾å™¨"><a href="#çœ‹æ¿å¨˜åˆå¹¶éŸ³ä¹æ’­æ”¾å™¨" class="headerlink" title="çœ‹æ¿å¨˜åˆå¹¶éŸ³ä¹æ’­æ”¾å™¨"></a>çœ‹æ¿å¨˜åˆå¹¶éŸ³ä¹æ’­æ”¾å™¨</h1><p>ç›¸ä¿¡ä¸å°‘å°ä¼™ä¼´çš„åšå®¢éƒ½é›†æˆäº†éŸ³ä¹æ’­æ”¾å™¨å’Œ Live2D çœ‹æ¿å¨˜ï¼Œä½†æ˜¯ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œçœ‹æ¿å¨˜å’ŒéŸ³ä¹æ’­æ”¾å™¨éƒ½åœ¨å·¦ä¸‹è§’ï¼Œç›¸äº’é®ç›–ä¸”å¾ˆå åœ°æ–¹ï¼Œä¸€ç‚¹ä¹Ÿä¸ç¾è§‚ã€‚æ‰€ä»¥å¦‚æœå¯ä»¥æŠŠéŸ³ä¹æ’­æ”¾å™¨é›†æˆåˆ°çœ‹æ¿å¨˜é‡Œï¼Œæ—¢ç¾è§‚åˆå¢åŠ äº†çœ‹æ¿å¨˜çš„åŠŸèƒ½ã€‚</p><p>ç„¶è€Œä¸€ä»‹å°ç™½åªæ˜¯å¿ƒæœ‰ä½™è€ŒåŠ›ä¸è¶³ï¼Œå¹¸è¿çš„æ˜¯æˆ‘å¶ç„¶å‘ç°äº†è¿™ä½å¤§ä½¬ï¼š<a href="https://crowya.com/">é¸¦é¸¦</a></p><blockquote><p>wordpress æ’å…¥è·³è½¬é“¾æ¥</p><p>å†™å‡ºè·³è½¬é“¾æ¥çš„æ–‡æœ¬ï¼Œç„¶åé€‰ä¸­æ–‡æœ¬ï¼Œç‚¹å‡»ä¸Šæ–¹çš„é“¾æ¥ï¼Œå¡«å†™é“¾æ¥çš„ç½‘å€å³å¯</p></blockquote><p><img src="http://47.108.179.73/wp-content/uploads/2024/03/image-1.png" alt="img"></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>å…·ä½“åšæ³•å°±æ˜¯åœ¨å® ç‰©çš„å·¥å…·æ æ·»åŠ ä¸€ä¸ª <code>&lt;span class=&quot;fa fa-lg fa-music&quot;&gt;&lt;/span&gt;</code> éŸ³ä¹å›¾æ ‡ï¼Œæ§åˆ¶éŸ³ä¹çš„æ’­æ”¾å’Œæš‚åœï¼Œéšè—å…¶ä»–ç´¯èµ˜çš„ç•Œé¢ã€‚è¿™å¯ä»¥é€šè¿‡ APlayer æä¾›çš„ <a href="https://aplayer.js.org/#/zh-Hans/?id=api">API æ¥å£</a>åšåˆ°ã€‚åˆ‡æ¢æ’­æ”¾ &#x2F; æš‚åœçš„å‡½æ•°ä¸º <code>xxx.toggle();</code></p><p>ä½†æ˜¯ä¸ºäº†åŠŸèƒ½çš„å®Œæ•´æ€§æˆ‘åœ¨å® ç‰©çš„å³é”®èœå•é‡Œä¿ç•™äº†æ˜¾ç¤º &#x2F; éšè—éŸ³ä¹æ’­æ”¾å™¨ç•Œé¢çš„åŠŸèƒ½æŒ‰é’®ã€‚è¿™å¯ä»¥é€šè¿‡å¢åŠ  &#x2F; åˆ é™¤ç±»ååšåˆ°ã€‚ç›¸å…³å‡½æ•°ä¸º <code>xxx.addClass();</code> å’Œ <code>xxx.removeClass();</code></p><p>è™½ç„¶éšè—äº†æ’­æ”¾å™¨ç•Œé¢ï¼Œä½†æ˜¯æ˜¾ç¤ºæ­Œè¯è¿˜æ˜¯ä¸é”™çš„ã€‚å› æ­¤éœ€è¦ä¸ºæ’­æ”¾ &#x2F; æš‚åœäº‹ä»¶æ·»åŠ <a href="https://aplayer.js.org/#/zh-Hans/?id=%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A">äº‹ä»¶ç»‘å®š</a>ã€‚å½“éŸ³ä¹å¼€å§‹æ’­æ”¾æ—¶è‡ªåŠ¨æ˜¾ç¤ºæ­Œè¯ï¼Œå½“éŸ³ä¹åœæ­¢æ—¶è‡ªåŠ¨éšè—æ­Œè¯ã€‚å¥½åœ¨ APlayer ä¾ç„¶æä¾›äº†æ­¤ç¼–ç¨‹æ¥å£ã€‚ç›¸å…³å‡½æ•°ä¸º <code>xxx.on(event, function);</code></p><p>é¡µå°¾è„šæœ¬ä¸€å…±éœ€è¦æ·»åŠ è¿™äº›ä¸œè¥¿ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!--å® ç‰©æ’­æ”¾å™¨--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">const</span> live2d_path <span class="token operator">=</span> <span class="token string">"https://cdn.jsdelivr.net/gh/crowya/live2d/live2d/"</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meting-js</span> <span class="token attr-name">server</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tencent<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>playlist<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8559460487<span class="token punctuation">"</span></span> <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#339981<span class="token punctuation">"</span></span> <span class="token attr-name">fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">preload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">autoplay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">loop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>random<span class="token punctuation">"</span></span> <span class="token attr-name">volume</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>meting-js</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token comment">//å°è£…å¼‚æ­¥åŠ è½½èµ„æºçš„æ–¹æ³•</span><span class="token keyword">function</span> <span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token keyword">let</span> tag<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"css"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>tag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"link"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tag<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">"stylesheet"</span><span class="token punctuation">;</span>tag<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"js"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>tag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tag<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>tag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>tag<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>tag<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">reject</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>screen<span class="token punctuation">.</span>width <span class="token operator">>=</span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/gh/crowya/live2d/live2d/waifu.min.css"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/gh/crowya/live2d/live2d/live2d.min.js"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/gh/crowya/live2d/live2d/waifu-tips.min.js"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"</span><span class="token punctuation">,</span> <span class="token string">"css"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span><span class="token function">loadExternalResource</span><span class="token punctuation">(</span><span class="token string">"https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"</span><span class="token punctuation">,</span> <span class="token string">"js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ap <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'meting-js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"aplayer"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">aplayer</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ap <span class="token operator">=</span> aplayer<span class="token punctuation">;</span>        <span class="token function">ap_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">initWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚éœ€æ”¹ä¸ºè‡ªå·±çš„æ­Œå•ï¼Œè¯·ä¿®æ”¹ <code>&lt;meting-js&gt;</code> æ ‡ç­¾å†…çš„<a href="https://github.com/metowolf/MetingJS#option">å‚æ•°</a>ã€‚</p><p>å¦‚éœ€ä¿®æ”¹ç§˜å¯†é€šé“æˆ–å¯¹è¯æ–‡æœ¬ï¼Œè¯·è‡ªå®šä¹‰ waifu-tips.jsonï¼Œè¯¦æƒ…è§<a href="https://github.com/crowya/live2d">é¸¦é¸¦çš„é¡¹ç›®</a>ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://crowya.com/live2d-pet-modification/">Live2D å® ç‰©åŠŸèƒ½ä¿®æ”¹ | éŸ³ä¹æ’­æ”¾å™¨ + å³é”®ç§˜å¯†é€šé“ â€“ é¸¦é¸¦çš„å·¢ç©´ (crowya.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çœ‹æ¿å¨˜ </tag>
            
            <tag> éŸ³ä¹æ’­æ”¾å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšè§ˆä¼—é•¿</title>
      <link href="/posts/c42.html"/>
      <url>/posts/c42.html</url>
      
        <content type="html"><![CDATA[<h1 id="åšè§ˆä¼—é•¿"><a href="#åšè§ˆä¼—é•¿" class="headerlink" title="åšè§ˆä¼—é•¿"></a>åšè§ˆä¼—é•¿</h1><p>ä¸ºäº†æŠ˜è…¾æˆ‘çš„hexoåšå®¢ï¼Œæˆ‘è®¿é—®è¿‡è¯¸å¤šå¤§ä½¬çš„åšå®¢å°ç«™ï¼Œåšè§ˆä¼—é•¿ï¼Œå¸Œæœ›é›†ä»–å±±ä¹‹ç‰ï¼Œæ‰“é€ å‡ºå¿ƒä»ªçš„åšå®¢ç½‘ç«™ã€‚ç„¶æ²¡æœ‰æœ€å¥½ï¼Œåªæœ‰æ›´å¥½ï¼Œåªèƒ½ç½—åˆ—ä¼—å¤šå¤§ä½¬åšå®¢ä¸­æˆ‘æ¯”è¾ƒå–œæ¬¢çš„éƒ¨åˆ†ï¼Œå¸Œæœ›ç»™å¤§å®¶ä¸€äº›å‚è€ƒå’Œå¸®åŠ©ã€‚</p><h2 id="ä»–å±±ä¹‹ç‰"><a href="#ä»–å±±ä¹‹ç‰" class="headerlink" title="ä»–å±±ä¹‹ç‰"></a>ä»–å±±ä¹‹ç‰</h2><h3 id="HaoQi"><a href="#HaoQi" class="headerlink" title="HaoQi"></a><a href="https://houhaoqi.gitee.io/">HaoQi</a></h3><ul><li><a href="https://houhaoqi.gitee.io/List/galleries/">ç›¸å†Œ</a>ï¼Œfancybox</li><li><a href="https://houhaoqi.gitee.io/contact/">ç•™è¨€æ¿</a></li><li><a href="https://houhaoqi.gitee.io/tools/">ç½‘ç«™å¯¼èˆª</a>ï¼Œå’Œland and seaä¸€æ ·çš„å¯¼èˆª</li></ul><h3 id="Land-and-Sea"><a href="#Land-and-Sea" class="headerlink" title="Land and Sea"></a><a href="https://showcoding.github.io/">Land and Sea</a></h3><ul><li><a href="https://showcoding.github.io/census/">ç»Ÿè®¡</a></li><li><a href="https://showcoding.github.io/contact/">ç•™è¨€æ¿</a></li><li><a href="https://showcoding.github.io/tools/">ç™¾å®ç®±</a></li></ul><h3 id="itsNeko"><a href="#itsNeko" class="headerlink" title="itsNeko"></a><a href="https://blog.dyfa.top/">itsNeko</a></h3><ul><li><a href="">ç•™è¨€æ¿</a></li><li>[about](<a href="https://blog.dyfa.top/about/">å…³äº | itsNekoã€Œç”Ÿæ´»æ—¥å¿—ã€ (dyfa.top)</a>)</li><li><a href="">éšç¬”æ¨¡ç‰ˆ</a></li><li>[æ‰“èµè®°å½•](<a href="https://blog.dyfa.top/donate/">ğŸˆ åšå®¢æ‰“èµè®°å½• | itsNekoã€Œç”Ÿæ´»æ—¥å¿—ã€ (dyfa.top)</a>)</li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»–å±±ä¹‹çŸ³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨</title>
      <link href="/posts/9e7d.html"/>
      <url>/posts/9e7d.html</url>
      
        <content type="html"><![CDATA[<h1 id="hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘"><a href="#hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘" class="headerlink" title="hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘"></a>hexoåšå®¢éƒ¨ç½²åˆ°é˜¿é‡Œäº‘</h1><p>å¤§éƒ¨åˆ†äººä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢éƒ½ä¼šéƒ¨ç½²åˆ°ä¸€äº›å…è´¹çš„ä»£ç æ‰˜ç®¡å¹³å°ä¸Šï¼Œä½†è¿™äº›å…è´¹çš„å¹³å°æ€»æ˜¯å·®å¼ºäººæ„ï¼Œæ¯”å¦‚å›½å¤–çš„GitHubå¹³å°è™½ç„¶å®Œå…¨å…è´¹ï¼Œä½†åœ¨å›½å†…è®¿é—®åŠ è½½é€Ÿåº¦éå¸¸æ…¢ï¼Œåˆæˆ–è€…æ˜¯å›½å†…çš„ç äº‘å¹³å°å…è´¹ç‰ˆæœ‰è®¸å¤šåŠŸèƒ½è¢«é˜‰å‰²æ‰äº†ï¼Œæ¯”å¦‚ä¸èƒ½è‡ªå®šä¹‰åŸŸåï¼Œä¸èƒ½æ¯æ¬¡è‡ªåŠ¨åˆ·æ–°æäº¤çš„ä»£ç ï¼Œéœ€è¦åˆ°ç äº‘å¹³å°ä¸Šæ‰‹åŠ¨åˆ·æ–°ï¼Œå¦‚æ­¤ä¸€æ¥éå¸¸ç¹çã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://showcoding.github.io/posts/19d2a4e6.html#toc-heading-9">é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²Hexoåšå®¢ | Land and Sea (showcoding.github.io)</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mobaXtermå…è´¹å‡çº§åˆ°ä¸“ä¸šç‰ˆ</title>
      <link href="/posts/ab13.html"/>
      <url>/posts/ab13.html</url>
      
        <content type="html"><![CDATA[<h1 id="Xtermå‡çº§è‡³ä¸“ä¸šç‰ˆ"><a href="#Xtermå‡çº§è‡³ä¸“ä¸šç‰ˆ" class="headerlink" title="Xtermå‡çº§è‡³ä¸“ä¸šç‰ˆ"></a>Xtermå‡çº§è‡³ä¸“ä¸šç‰ˆ</h1><ol><li>é¦–å…ˆå»å®˜ç½‘ä¸‹è½½è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ï¼Œ<a href="https://mobaxterm.mobatek.net/">ç‚¹å‡»è·³è½¬</a></li><li>æ‰“å¼€<a href="https://inused.github.io/pages/file/tool/MobaXtermKeygen.html">MobaXterm Keygen (inused.github.io)</a></li><li>å¡«å†™ç”¨æˆ·åå’Œç‰ˆæœ¬å·ï¼Œç”¨æˆ·åå¯ä»¥éšæ„ï¼Œç‰ˆæœ¬å·å’Œè‡ªå·±ä¸‹è½½çš„Xtermç‰ˆæœ¬å·ä¸€è‡´</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404292136311.png" alt="Xterm_license" style="zoom: 67%;" /><ol start="4"><li>å°†ç”Ÿæˆçš„<code>Custom.mxtpro</code>æ–‡ä»¶æ”¾å…¥<code>MobaXterm.exe</code>æ‰€åœ¨çš„ç›®å½•</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404292136232.png" alt="æ¿€æ´»"></p><ol start="5"><li>é‡å¯MobaXtermï¼Œç‚¹å‡»ä¸Šæ–¹helpâ†’About MobaXterm</li></ol><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404292137148.png" alt="æ¿€æ´»æˆåŠŸ" style="zoom:80%;" /><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_39540280/article/details/122163223">MobaXtermå‡çº§ä¸ºä¸“ä¸šç‰ˆ_mobaxtermä¸ªäººç‰ˆå‡çº§ä¸ºä¼ä¸šç‰ˆ-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Xterm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®å¤å³é”®æ²¡æœ‰ç®¡ç†é€‰é¡¹</title>
      <link href="/posts/5362.html"/>
      <url>/posts/5362.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¿®å¤å³é”®æ²¡æœ‰ç®¡ç†é€‰é¡¹"><a href="#ä¿®å¤å³é”®æ²¡æœ‰ç®¡ç†é€‰é¡¹" class="headerlink" title="ä¿®å¤å³é”®æ²¡æœ‰ç®¡ç†é€‰é¡¹"></a>ä¿®å¤å³é”®æ²¡æœ‰ç®¡ç†é€‰é¡¹</h1>]]></content>
      
      
      <categories>
          
          <category> winä½¿ç”¨ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/posts/0.html"/>
      <url>/posts/0.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ·»åŠ ç•ªå‰§åˆ—è¡¨"><a href="#æ·»åŠ ç•ªå‰§åˆ—è¡¨" class="headerlink" title="æ·»åŠ ç•ªå‰§åˆ—è¡¨"></a>æ·»åŠ ç•ªå‰§åˆ—è¡¨</h1><p>å…·ä½“æ•ˆæœè¯·çœ‹ï¼š<a href="https://blog.ukenn.top/index.php/anime/">ç•ªå‰§åˆ—è¡¨</a></p><h3 id="ä¸‹è½½å¼€æºé¡¹ç›®"><a href="#ä¸‹è½½å¼€æºé¡¹ç›®" class="headerlink" title="ä¸‹è½½å¼€æºé¡¹ç›®"></a>ä¸‹è½½å¼€æºé¡¹ç›®</h3><p><a href="https://github.com/Ukenn2112/bilibili">é¡¹ç›®åœ°å€</a></p><p>è§£å‹å®Œåï¼Œè¯·å°†<code>bilibili-masteræ–‡ä»¶å¤¹</code><strong>é‡Œé¢çš„bilibiliæ–‡ä»¶å¤¹</strong>å’Œ<code>page-bilibili.php</code>æ–‡ä»¶æ”¾åˆ°ä¸»é¢˜æ ¹ç›®å½•ä¸‹</p><p>æ‰“å¼€<code>bilibili</code>æ–‡ä»¶å¤¹é‡å‘½åé‡Œé¢æ–‡ä»¶åç¼€ä¸º<code>bilibiliAnime.php</code></p><p>ç„¶åè¿”å›ä¿®æ”¹<code>page-bilibili.php</code></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.ukenn.top/sakura5/">Sakuraä¸»é¢˜ç¾åŒ–ç³»åˆ—ï¼ˆäº”ï¼‰æ·»åŠ BiliBiliç•ªå‰§åˆ—è¡¨ â€“ Ukenn Blog</a></p>]]></content>
      
      
      <categories>
          
          <category> wordpress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç•ªå‰§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vimä½¿ç”¨</title>
      <link href="/posts/84b5.html"/>
      <url>/posts/84b5.html</url>
      
        <content type="html"><![CDATA[<h1 id="vimä½¿ç”¨"><a href="#vimä½¿ç”¨" class="headerlink" title="vimä½¿ç”¨"></a>vimä½¿ç”¨</h1><p>LinuxåŸºç¡€çŸ¥è¯†åŠVimç¼–è¾‘å™¨æ‰©å±•ï¼š</p><ol><li><p>æ–‡ä»¶ç³»ç»ŸåŸºç¡€ï¼š</p><ul><li><code>/</code> æ ¹ç›®å½•æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„é¡¶å±‚ï¼Œ<code>.</code> è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œ<code>..</code> è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ã€‚</li><li><code>pwd</code> å‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œ<code>ls</code> å‘½ä»¤åˆ—å‡ºç›®å½•å†…å®¹ã€‚</li><li><code>ls -l</code> æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æƒé™ã€é“¾æ¥æ•°ã€æ‰€æœ‰è€…ã€ç»„ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´å’Œæ–‡ä»¶åã€‚</li><li><code>ls -a</code> æ˜¾ç¤ºåŒ…æ‹¬éšè—æ–‡ä»¶åœ¨å†…çš„æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ã€‚</li><li>ä½¿ç”¨ Tab é”®è¿›è¡Œå‘½ä»¤å’Œè·¯å¾„çš„è‡ªåŠ¨è¡¥å…¨ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚</li></ul></li><li><p>æ–‡ä»¶æƒé™ç®¡ç†ï¼š</p><ul><li>ä½¿ç”¨ <code>chmod</code> å‘½ä»¤æ›´æ”¹æ–‡ä»¶æƒé™ï¼Œå¦‚ <code>chmod 755 file.txt</code>ã€‚</li><li>æ–‡ä»¶æƒé™è¡¨ç¤ºæ³•å¦‚ <code>rwxr-xr--</code>ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œåé¢ä¸‰ç»„è¡¨ç¤ºæƒé™ã€‚</li><li>å¯ä»¥ä½¿ç”¨ç¬¦å·æ¨¡å¼ï¼ˆå¦‚ <code>u+x</code> è¡¨ç¤ºç»™æ‰€æœ‰è€…æ·»åŠ æ‰§è¡Œæƒé™ï¼‰æˆ–ç»å¯¹æ¨¡å¼ï¼ˆå¦‚ <code>755</code> è¡¨ç¤ºæ‰€æœ‰è€…å¯è¯»ã€å†™ã€æ‰§è¡Œï¼Œç»„å’Œå…¶ä»–ç”¨æˆ·å¯è¯»å’Œæ‰§è¡Œï¼‰è®¾ç½®æƒé™ã€‚</li></ul></li><li><p>æ–‡ä»¶æ“ä½œï¼š</p><ul><li>ä½¿ç”¨ <code>mkdir</code> åˆ›å»ºæ–°ç›®å½•ï¼Œ<code>cd</code> åˆ‡æ¢å·¥ä½œç›®å½•ï¼Œ<code>touch</code> åˆ›å»ºæ–°æ–‡ä»¶æˆ–æ›´æ–°è®¿é—®&#x2F;ä¿®æ”¹æ—¶é—´ã€‚</li><li>ä½¿ç”¨ <code>cp</code> å¤åˆ¶æ–‡ä»¶ï¼Œ<code>mv</code> ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ï¼Œ<code>rm</code> åˆ é™¤æ–‡ä»¶ï¼Œ<code>rm -r</code> åˆ é™¤ç›®å½•åŠå…¶å†…å®¹ã€‚</li><li><code>cp -r</code> é€’å½’å¤åˆ¶ç›®å½•åŠå…¶å†…å®¹ï¼Œ<code>mv</code> å¯ç”¨äºå‰ªåˆ‡æ–‡ä»¶å’Œç›®å½•ã€‚</li></ul></li><li><p>æ–‡ä»¶æœç´¢ï¼š</p><ul><li><code>find</code> åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æœç´¢æ–‡ä»¶ï¼Œå¦‚ <code>find / -name filename.txt</code>ã€‚</li><li><code>grep</code> åœ¨æ–‡ä»¶ä¸­æœç´¢ç‰¹å®šæ¨¡å¼ï¼Œå¦‚ <code>grep &quot;pattern&quot; file.txt</code>ã€‚</li><li><code>find</code> å’Œ <code>grep</code> å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œå¦‚ <code>find /etc -type f -exec grep &quot;keyword&quot; &#123;&#125; +</code> åœ¨ <code>/etc</code> ç›®å½•ä¸‹æœç´¢åŒ…å«å…³é”®è¯çš„æ–‡ä»¶ã€‚</li></ul></li><li><p>ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹ï¼š</p><ul><li>ä½¿ç”¨ <code>uname</code> æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ï¼Œ<code>df</code> æ˜¾ç¤ºç£ç›˜ç©ºé—´åˆ©ç”¨æƒ…å†µï¼Œ<code>du</code> æ˜¾ç¤ºæ–‡ä»¶&#x2F;ç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚</li><li><code>top</code> å‘½ä»¤æ˜¾ç¤ºç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µåŠè¿›ç¨‹ä¿¡æ¯ï¼Œ<code>free</code> æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</li></ul></li><li><p>Vimç¼–è¾‘å™¨ä½¿ç”¨ï¼š</p><ul><li><code>gedit</code> æ˜¯å›¾å½¢ç•Œé¢æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé€‚åˆåˆå­¦è€…ã€‚</li><li><code>vi</code> æˆ– <code>vim</code> æ˜¯å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå…·æœ‰å‘½ä»¤è¡Œæ¨¡å¼ã€æ’å…¥æ¨¡å¼å’Œåº•è¡Œæ¨¡å¼ã€‚</li><li>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œå¤åˆ¶ï¼ˆyyï¼‰ã€å‰ªåˆ‡&#x2F;åˆ é™¤ï¼ˆddï¼‰ã€ç²˜è´´ï¼ˆpï¼‰ã€æ’¤é”€ï¼ˆuï¼‰ç­‰æ“ä½œã€‚</li><li>è¿›å…¥æ’å…¥æ¨¡å¼åè¿›è¡Œç¼–è¾‘ï¼ŒæŒ‰ Esc è¿”å›å‘½ä»¤è¡Œæ¨¡å¼ã€‚</li><li>ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ï¼Œä½¿ç”¨ <code>:wq</code> æˆ– <code>:q!</code>ï¼Œé€šè¿‡ <code>shift + :</code> è¿›å…¥åº•è¡Œæ¨¡å¼æ‰§è¡Œæ›´å¤šå‘½ä»¤ã€‚</li></ul></li><li><p>Vimé«˜çº§æŠ€å·§ï¼š</p><ul><li>ä½¿ç”¨ <code>m</code> åœ¨æ–‡æ¡£ä¸­è®¾ç½®æ ‡è®°ï¼Œå¹¶ä½¿ç”¨ <code>&#39;</code> è·³è½¬åˆ°æ ‡è®°å¤„ã€‚</li><li>ä½¿ç”¨ <code>Ctrl + o</code> å’Œ <code>Ctrl + i</code> å‰è¿›å’Œåé€€è·³è½¬å†å²è®°å½•ã€‚</li><li>åˆ†å‰²çª—å£ä½¿ç”¨ <code>:split</code> å’Œ <code>:vsplit</code>ï¼Œåˆ‡æ¢çª—å£ä½¿ç”¨ <code>Ctrl + w</code>ã€‚</li><li>å½•åˆ¶å’Œå›æ”¾å®ä½¿ç”¨ <code>q</code> å¼€å§‹å½•åˆ¶ï¼Œ<code>@</code> æ‰§è¡Œå½•åˆ¶çš„å®ã€‚</li><li>ä½¿ç”¨æ’ä»¶ç®¡ç†å™¨ç®¡ç†æ’ä»¶ï¼Œé…ç½®æ–‡ä»¶ä½äº <code>~/.vimrc</code>ã€‚</li><li>Visual æ¨¡å¼å…è®¸å¯¹æ‰€é€‰æ–‡æœ¬è¿›è¡Œæ“ä½œï¼Œå¯è¿›å…¥å­—ç¬¦çº§åˆ«ã€è¡Œçº§åˆ«å’Œå—çº§åˆ«ã€‚</li><li>æ’¤é”€æ ‘å¯ä»¥ä½¿ç”¨ <code>:undo</code> å’Œ <code>:redo</code> è¿›è¡Œæ’¤é”€å’Œé‡åšæ“ä½œã€‚</li><li>è¯­æ³•æŠ˜å å¯ä»¥ä½¿ç”¨ <code>zf</code> æŠ˜å ä»£ç å—ï¼Œ<code>zo</code> å±•å¼€æŠ˜å ã€‚</li></ul></li><li><p>Vimæ’ä»¶æ¨èï¼š</p><ul><li><code>Vundle</code>ã€<code>Pathogen</code>ã€<code>vim-plug</code> æ˜¯å¸¸ç”¨çš„æ’ä»¶ç®¡ç†å™¨ã€‚</li><li>å¸¸ç”¨æ’ä»¶åŒ…æ‹¬ä»£ç è¡¥å…¨ï¼ˆå¦‚ <code>YouCompleteMe</code>ï¼‰ã€è¯­æ³•é«˜äº®ï¼ˆå¦‚ <code>vim-javascript</code>ï¼‰ã€æ–‡ä»¶æµè§ˆå™¨ï¼ˆå¦‚ <code>NERDTree</code>ï¼‰ç­‰ã€‚</li><li>æ’ä»¶å¯ä»¥é€šè¿‡ GitHub æˆ– Vim è„šæœ¬ç½‘ç«™å®‰è£…ã€‚</li></ul></li></ol><p>ä»¥ä¸Šæ˜¯ä¸€äº›LinuxåŸºç¡€çŸ¥è¯†ï¼Œä»¥åŠVimç¼–è¾‘å™¨çš„åŸºæœ¬ä½¿ç”¨ï¼Œæœ‰åŠ©äºåˆå­¦è€…è¿›è¡Œå…¥é—¨å­¦ä¹ å’Œæ›´å¥½åœ°ç†è§£Linuxç³»ç»ŸåŠå…¶ç›¸å…³å·¥å…·ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³ubuntuå’Œwindowsä¹‹é—´çš„ç²˜è´´</title>
      <link href="/posts/e8c2.html"/>
      <url>/posts/e8c2.html</url>
      
        <content type="html"><![CDATA[<h1 id="è§£å†³ubuntuå’Œwinä¹‹é—´çš„ç²˜è´´"><a href="#è§£å†³ubuntuå’Œwinä¹‹é—´çš„ç²˜è´´" class="headerlink" title="è§£å†³ubuntuå’Œwinä¹‹é—´çš„ç²˜è´´"></a>è§£å†³ubuntuå’Œwinä¹‹é—´çš„ç²˜è´´</h1><p>åœ¨ä½¿ç”¨ubuntuè™šæ‹Ÿæœºæ—¶ï¼Œæœ‰æ—¶éœ€è¦åœ¨è™šæ‹Ÿæœºä¸windowsç³»ç»Ÿä¹‹é—´è¿›è¡Œæ–‡ä»¶æˆ–è€…å­—ç¬¦ä¸²çš„å¤åˆ¶å’Œç²˜è´´ã€‚æ¯”å¦‚ï¼šæŸä¸ªæ–‡ä»¶åœ¨ä¸»æœºä¸Šï¼Œä½†æ˜¯å¼€å‘æ—¶éœ€è¦åœ¨è™šæ‹Ÿæœºä¸­ä½¿ç”¨ï¼Œéœ€è¦æŠŠè¿™ä¸ªæ–‡ä»¶å¯¼å…¥åˆ°è™šæ‹Ÿæœºä¸­ã€‚å…¶å®è¿™ä¸ªåŠŸèƒ½é€šè¿‡ç®€å•çš„å¤åˆ¶ç²˜è´´å°±å¯ä»¥å®ç°ã€‚ä½†æ˜¯æ–°å®‰è£…çš„è™šæ‹Ÿæœºå¾€å¾€ä¸æ”¯æŒè¯¥åŠŸèƒ½ï¼Œéœ€è¦è¿›è¡Œé…ç½®ã€‚</p><p>é¦–å…ˆï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove open-vm-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> open-vm-tools-desktop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åï¼Œé‡å¯è™šæ‹Ÿæœºï¼Œå°±å¯ä»¥å®ç°å¤åˆ¶ç²˜è´´äº†ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/bhniunan/article/details/104479349">https://blog.csdn.net/bhniunan/article/details/104479349</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ‰¾å›å®å¡”é¢æ¿ç™»é™†è´¦å·å’Œå¯†ç </title>
      <link href="/posts/158f.html"/>
      <url>/posts/158f.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ‰¾å›å®å¡”é¢æ¿ç™»å½•åœ°å€ã€è´¦å·å’Œå¯†ç "><a href="#æ‰¾å›å®å¡”é¢æ¿ç™»å½•åœ°å€ã€è´¦å·å’Œå¯†ç " class="headerlink" title="æ‰¾å›å®å¡”é¢æ¿ç™»å½•åœ°å€ã€è´¦å·å’Œå¯†ç "></a>æ‰¾å›å®å¡”é¢æ¿ç™»å½•åœ°å€ã€è´¦å·å’Œå¯†ç </h1><p>å¿˜è®°ç™»å½•åå’Œç™»å½•å¯†ç åº”è¯¥æ˜¯å¤§å¤šæ•°äººéƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯é‡åˆ°è®°æ€§ä¸å¥½ï¼Œè€Œä¸”åˆæ²¡æœ‰å¤‡ä»½å¯†ç çš„äººæ¥è¯´ï¼Œé‚£å°±æ˜¯å®¶å¸¸ä¾¿é¥­äº†ï¼Œç«™ä¸»å°±ä¸ªè®°æ€§ä¸å¥½çš„è¿˜çˆ±è®¾å¤æ‚å¯†ç åˆä¸å¤‡ä»½çš„(å¯ä»¥è¯´æ˜¯åˆèœåˆçˆ±ç©äº†)ï¼Œè¿™å‡ å¤©å¿˜è®°äº†è‡ªå·±çš„å®å¡”é¢æ¿çš„ç™»å½•è´¦æˆ·å’Œç”¨æˆ·åï¼Œä»¥ä¸ºå¯ä»¥è¯•å‡ºæ¥ï¼Œå‡ ä¸ªè¯•äº†å‡ å¤©æ²¡è¯•å‡ºæ¥ï¼Œç®€ç›´æ˜¯æ°”ç…æˆ‘ä¹ŸğŸ˜¡ã€‚æœ€ååªèƒ½è€è€å®å®åœ°å–ä¿®æ”¹è´¦æˆ·åå’Œå¯†ç ã€‚å› ä¸ºç«™ä¸»æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨å®å¡”é¢æ¿ï¼Œç°åœ¨å°±è®°å½•ä¸€ä¸‹ä¿®æ”¹å¯†ç çš„è¿‡ç¨‹ã€‚</p><ol><li><p>é¦–å…ˆï¼Œé€šè¿‡sshçš„æ–¹å¼è¿æ¥æœåŠ¡å™¨ï¼ˆæ³¨æ„ç™»å½•çš„æ—¶å€™ä»¥rootèº«ä»½ç™»å½•ï¼‰ï¼Œå¦åˆ™å°±ä½¿ç”¨<code>sudo</code> å‘½ä»¤ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œå‘½ä»¤</p></li><li><p>ä½¿ç”¨<code>bt</code>å‘½ä»¤è°ƒå‡ºå‘½ä»¤æç¤ºé¢æ¿ï¼Œrootç”¨æˆ·ç›´æ¥è¾“å…¥<code>bt</code></p><p>ç«™ä¸»è¿™é‡Œä½¿ç”¨çš„<code>esc-user</code>ç™»å½•ï¼Œæ‰€ä»¥ä½¿ç”¨<code>sudo /usr/bin/bt</code></p><p>ç„¶åå°±ä¼šå¼¹å‡ºä»¥ä¸‹é¢æ¿</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402292214394.png" alt="image-20240229221434264"></p><ol start="3"><li>ç„¶åæŒ‰ç…§è‡ªå·±çš„éœ€è¦é€‰æ‹©å‘½ä»¤ä¿®æ”¹å³å¯</li></ol>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è§£å†³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®å¡” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘å½“èˆ…èˆ…äº†!</title>
      <link href="/posts/2b8.html"/>
      <url>/posts/2b8.html</url>
      
        <content type="html"><![CDATA[<p>æ—¥è®°ä¹‹æˆ‘å½“èˆ…èˆ…äº†ï¼</p><p>æ¥çœ‹çœ‹æˆ‘å¯çˆ±çš„ä¾„å¥³ï¼š</p><p>ç…§ç‰‡</p><p>ç…§ç‰‡</p><p>è§†é¢‘</p><p>è§†é¢‘</p>]]></content>
      
      
      <categories>
          
          <category> çºªå¿µå†Œ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>jupyter notebookæ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒ</title>
      <link href="/posts/3dac.html"/>
      <url>/posts/3dac.html</url>
      
        <content type="html"><![CDATA[<h1 id="Jupyteræ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒ"><a href="#Jupyteræ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="Jupyteræ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒ"></a>Jupyteræ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒ</h1><p>ä»Šå¤©åšé¡¹ç›®æ—¶ï¼Œéœ€è¦ç”¨åˆ°ä¸ºæ–°å»ºçš„py37è™šæ‹Ÿç¯å¢ƒï¼ˆpython 3.7.16ï¼‰ï¼Œæˆ‘ç”¨çš„æ˜¯anaconda3çš„ä¸€ä¸ªpythoné›†æˆç¯å¢ƒï¼Œè‡ªå¸¦jupyter notebookï¼Œä½†åœ¨æˆ‘æ‰“å¼€jupyter notebookç•Œé¢åï¼Œå´æ‰¾ä¸åˆ°å¯¹åº”çš„è™šæ‹Ÿç¯å¢ƒï¼ŒåŸæ¥æ˜¯jupyter notebookåªæ˜¯é€šç”¨äºä¸‹è½½anacondaæ—¶è‡ªå¸¦çš„ç¯å¢ƒï¼Œå…¶ä»–ç¯å¢ƒè¦æƒ³ä½¿ç”¨å¿…é¡»æ‰‹åŠ¨ä¸‹è½½ä¸€äº›åº“ï¼š</p><p>é¦–å…ˆè¿›å…¥åˆ°è‡ªå·±åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ(pytorchæ˜¯è™šæ‹Ÿç¯å¢ƒçš„åå­—)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">activate pytorch<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è¯¥ç¯å¢ƒä¸‹ä¸‹è½½è¿™äº›åº“ï¼Œæˆ‘æŸ¥äº†å¾ˆå¤šåšä¸»çš„æ–‡ç« ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯è™šæ‹Ÿç¯å¢ƒç¼ºè¿™ä¸¤ä¸ªåº“ï¼Œä¸‹è½½ä¹‹åå°±æˆåŠŸäº†ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">conda <span class="token function">install</span> ipykernelconda <span class="token function">install</span> nb_conda<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰“å¼€jupyter notebookï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒpytorchäº†</p><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š<code>jupyter notebook</code></p><p>ç°åœ¨å°±å¯ä»¥çœ‹åˆ°py37è™šæ‹Ÿç¯å¢ƒäº†</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/qq_39504519/article/details/108039594">è§£å†³jupyter notebookæ— æ³•æ‰¾åˆ°è™šæ‹Ÿç¯å¢ƒçš„é—®é¢˜_CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_41339564/article/details/108057808">Jupyterä¸­æ‰¾ä¸åˆ°æ–°å»ºçš„è™šæ‹Ÿç¯å¢ƒé—®é¢˜_CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> jupyter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é—®é¢˜è§£å†³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™å¤‡æ¡ˆ</title>
      <link href="/posts/8c37.html"/>
      <url>/posts/8c37.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç½‘ç«™å¤‡æ¡ˆ"><a href="#ç½‘ç«™å¤‡æ¡ˆ" class="headerlink" title="ç½‘ç«™å¤‡æ¡ˆ"></a>ç½‘ç«™å¤‡æ¡ˆ</h1><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zhuanlan.zhihu.com/p/371579941">å…¨ç½‘æœ€è¯¦ç»†ï¼šä¸ªäººç½‘ç«™å¦‚ä½•å¤‡æ¡ˆ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://beian.aliyun.com/">ç½‘ç«™å¤‡æ¡ˆ_ICPå¤‡æ¡ˆ_å¤‡æ¡ˆè¿ç§»_å¤‡æ¡ˆ-é˜¿é‡Œäº‘ (aliyun.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸŸåè´­ä¹°</title>
      <link href="/posts/d462.html"/>
      <url>/posts/d462.html</url>
      
        <content type="html"><![CDATA[<h1 id="åŸŸåè´­ä¹°"><a href="#åŸŸåè´­ä¹°" class="headerlink" title="åŸŸåè´­ä¹°"></a>åŸŸåè´­ä¹°</h1>]]></content>
      
      
      <categories>
          
          <category> åŸŸå </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸŸå </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WordPress+å®å¡”+é˜¿é‡Œäº‘+Xshellæ­å»ºåšå®¢</title>
      <link href="/posts/4c80.html"/>
      <url>/posts/4c80.html</url>
      
        <content type="html"><![CDATA[<h1 id="WordPress-å®å¡”-é˜¿é‡Œäº‘-Xshellæ­å»ºåšå®¢"><a href="#WordPress-å®å¡”-é˜¿é‡Œäº‘-Xshellæ­å»ºåšå®¢" class="headerlink" title="WordPress+å®å¡”+é˜¿é‡Œäº‘+Xshellæ­å»ºåšå®¢"></a>WordPress+å®å¡”+é˜¿é‡Œäº‘+Xshellæ­å»ºåšå®¢</h1><h2 id="å‰ææ¡ä»¶"><a href="#å‰ææ¡ä»¶" class="headerlink" title="å‰ææ¡ä»¶"></a>å‰ææ¡ä»¶</h2><p>å·²ç»è´­ä¹°äº†è‡ªå·±çš„äº‘æœåŠ¡å™¨</p><h2 id="Xshell"><a href="#Xshell" class="headerlink" title="Xshell"></a>Xshell</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p><a href="https://blog.csdn.net/SoloVersion/article/details/123854852">XShellå…è´¹ç‰ˆçš„å®‰è£…é…ç½®æ•™ç¨‹ä»¥åŠä½¿ç”¨æ•™ç¨‹ï¼ˆè¶…çº§è¯¦ç»†ã€ä¿å§†çº§ï¼‰_xshellå®‰è£…æ•™ç¨‹-CSDNåšå®¢</a></p><h3 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h3><p>Xshellè¿æ¥äº‘æœåŠ¡å™¨</p><h2 id="å®å¡”"><a href="#å®å¡”" class="headerlink" title="å®å¡”"></a>å®å¡”</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>å®å¡”é¢æ¿ï¼ˆBT Panelï¼‰æ˜¯ä¸€æ¬¾åŸºäº Linux ç³»ç»Ÿå¼€å‘çš„å…è´¹çš„æœåŠ¡å™¨ç®¡ç†é¢æ¿ï¼Œæ—¨åœ¨ç®€åŒ–æœåŠ¡å™¨ç®¡ç†å’Œç½‘ç«™è¿ç»´çš„å·¥ä½œã€‚å®ƒæä¾›äº†å›¾å½¢åŒ–çš„ç”¨æˆ·ç•Œé¢ï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡ç½‘é¡µæµè§ˆå™¨è½»æ¾ç®¡ç†æœåŠ¡å™¨ã€ç½‘ç«™ã€æ•°æ®åº“ç­‰å„ç§æœåŠ¡ã€‚å®å¡”é¢æ¿æ”¯æŒå¤šç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ol><li><p><strong>Web æœåŠ¡å™¨ç®¡ç†ï¼š</strong> æ”¯æŒå¸¸è§çš„ Web æœåŠ¡å™¨è½¯ä»¶ï¼Œå¦‚ Nginxã€Apacheï¼Œä»¥åŠä¸€é”®åˆ‡æ¢ã€é…ç½®è™šæ‹Ÿä¸»æœºç­‰åŠŸèƒ½ã€‚</p></li><li><p><strong>æ•°æ®åº“ç®¡ç†ï¼š</strong> æ”¯æŒå¸¸è§çš„æ•°æ®åº“ï¼Œå¦‚ MySQLã€MariaDBã€MongoDBã€Redis ç­‰ï¼Œæä¾›æ•°æ®åº“çš„åˆ›å»ºã€å¤‡ä»½ã€è¿˜åŸç­‰åŠŸèƒ½ã€‚</p></li><li><p><strong>FTP æœåŠ¡ç®¡ç†ï¼š</strong> å¯ä»¥ç®¡ç† FTP æœåŠ¡å™¨ï¼Œå®ç°æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æ“ä½œã€‚</p></li><li><p><strong>DNS æœåŠ¡ç®¡ç†ï¼š</strong> æä¾›åŸŸåè§£ææœåŠ¡ï¼Œæ”¯æŒæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹åŸŸåè§£æè®°å½•ç­‰åŠŸèƒ½ã€‚</p></li><li><p><strong>SSL è¯ä¹¦ç®¡ç†ï¼š</strong> æ”¯æŒ Letâ€™s Encrypt å…è´¹ SSL è¯ä¹¦ï¼Œå®ç°ç½‘ç«™çš„ HTTPS åŠ å¯†è®¿é—®ã€‚</p></li><li><p><strong>å®‰å…¨é˜²æŠ¤ï¼š</strong> æä¾›é˜²ç«å¢™ã€å®‰å…¨åŠ å›ºç­‰åŠŸèƒ½ï¼Œå¢å¼ºæœåŠ¡å™¨å®‰å…¨æ€§ã€‚</p></li><li><p><strong>ç³»ç»Ÿç›‘æ§ï¼š</strong> æä¾›æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µçš„ç›‘æ§ï¼ŒåŒ…æ‹¬ CPUã€å†…å­˜ã€ç£ç›˜ç­‰èµ„æºçš„ç›‘æ§ã€‚</p></li><li><p><strong>ä¸€é”®éƒ¨ç½²åº”ç”¨ï¼š</strong> æ”¯æŒä¸€é”®éƒ¨ç½²å¸¸è§çš„ç½‘ç«™ç¨‹åºï¼Œå¦‚ WordPressã€Discuzã€Typecho ç­‰ï¼Œç®€åŒ–ç½‘ç«™éƒ¨ç½²æµç¨‹ã€‚</p></li></ol><p>æ€»çš„æ¥è¯´ï¼Œå®å¡”é¢æ¿ä¸ºæœåŠ¡å™¨ç®¡ç†å‘˜æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿ã€æ˜“ç”¨çš„ç®¡ç†å¹³å°ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°ç®¡ç†å’Œç»´æŠ¤æœåŠ¡å™¨ï¼ŒåŒæ—¶é™ä½äº†æ“ä½œçš„å¤æ‚åº¦å’ŒæŠ€æœ¯é—¨æ§›ã€‚</p><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">wget</span> <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> <span class="token parameter variable">-O</span> install.sh https://download.bt.cn/install/install_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> install.sh ed8484bec<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ·»åŠ ç½‘ç«™"><a href="#æ·»åŠ ç½‘ç«™" class="headerlink" title="æ·»åŠ ç½‘ç«™"></a>æ·»åŠ ç½‘ç«™</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402251952488.png" alt="åˆ›å»ºç«™ç‚¹"></p><h2 id="wordpress"><a href="#wordpress" class="headerlink" title="wordpress"></a>wordpress</h2><p>åœ¨å®å¡”ä¸­çš„è½¯ä»¶å•†åº—é€‰æ‹©wordpressï¼Œä¸€é”®éƒ¨ç½²</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402252024141.png" alt="æˆåŠŸï¼"></p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="è®¾ç½®ecs-useråå¦‚ä½•ä½¿ç”¨rootç”¨æˆ·ç™»å½•"><a href="#è®¾ç½®ecs-useråå¦‚ä½•ä½¿ç”¨rootç”¨æˆ·ç™»å½•" class="headerlink" title="è®¾ç½®ecs-useråå¦‚ä½•ä½¿ç”¨rootç”¨æˆ·ç™»å½•"></a>è®¾ç½®ecs-useråå¦‚ä½•ä½¿ç”¨rootç”¨æˆ·ç™»å½•</h3><p>è®¾ç½®æ™®é€šç”¨æˆ·ecs-userä½œä¸ºECSå®ä¾‹çš„ç™»å½•ååï¼Œå¦‚æœæŸäº›è½¯ä»¶æˆ–åº”ç”¨ç¨‹åºå¯èƒ½è¦æ±‚ä½¿ç”¨rootç”¨æˆ·æƒé™æ¥è¿è¡Œï¼Œæ­¤æ—¶éœ€è¦åˆ‡æ¢åˆ°rootç”¨æˆ·ç™»å½•ä»¥æ»¡è¶³è½¯ä»¶è¿è¡Œçš„è¦æ±‚ã€‚æ‚¨å¯ä»¥é€šè¿‡æ§åˆ¶å°æˆ–è€…ç™»å½•ECSå®ä¾‹å†…éƒ¨ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç ï¼Œè®¾ç½®åå°±å¯ä»¥ä½¿ç”¨rootç”¨æˆ·ç™»å½•ECSå®ä¾‹ã€‚</p><h4 id="é€šè¿‡æ§åˆ¶å°åœ¨çº¿é‡ç½®"><a href="#é€šè¿‡æ§åˆ¶å°åœ¨çº¿é‡ç½®" class="headerlink" title="é€šè¿‡æ§åˆ¶å°åœ¨çº¿é‡ç½®"></a>é€šè¿‡æ§åˆ¶å°åœ¨çº¿é‡ç½®</h4><p>å¦‚æœæ‚¨çš„ECSå®ä¾‹æ”¯æŒåœ¨çº¿é‡ç½®å¯†ç ï¼Œå¯ä»¥åœ¨çº¿é‡ç½®rootçš„å¯†ç ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402251953505.png" alt="æ§åˆ¶å°é‡ç½®"></p><h4 id="ç™»å½•ECSå®ä¾‹ä¿®æ”¹"><a href="#ç™»å½•ECSå®ä¾‹ä¿®æ”¹" class="headerlink" title="ç™»å½•ECSå®ä¾‹ä¿®æ”¹"></a>ç™»å½•ECSå®ä¾‹ä¿®æ”¹</h4><ol><li><p>ä½¿ç”¨ecs-userç”¨æˆ·ç™»å½•å¾…ä¿®æ”¹çš„ECSå®ä¾‹ã€‚</p><p>å…·ä½“æ“ä½œï¼Œè¯·å‚è§<a href="https://help.aliyun.com/zh/ecs/user-guide/connect-to-a-linux-instance-by-using-a-password-or-key">é€šè¿‡å¯†ç æˆ–å¯†é’¥è®¤è¯ç™»å½•Linuxå®ä¾‹</a>ã€‚</p><p><strong>é‡è¦</strong></p><p>ä½¿ç”¨ecs-userç”¨æˆ·ä½œä¸ºECSå®ä¾‹çš„ç™»å½•ååï¼Œæ‚¨ä¸èƒ½ç›´æ¥ä½¿ç”¨rootç”¨æˆ·ç™»å½•å®ä¾‹ï¼Œè€Œéœ€è¦ä½¿ç”¨ecs-userç™»å½•åç™»å½•å®ä¾‹ã€‚</p></li><li><p>æ ¹æ®rootç”¨æˆ·ä¸åŒçš„ç™»å½•æ–¹å¼ï¼Œä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç æˆ–å¯†é’¥å¯¹ã€‚</p><ul><li><p>rootç”¨æˆ·ä½¿ç”¨å¯†ç ç™»å½•ECSå®ä¾‹</p><ol><li><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç ã€‚è¿è¡Œå‘½ä»¤åï¼Œæ ¹æ®å‘½ä»¤è¡Œçš„è¿”å›ä¿¡æ¯è®¾ç½®rootç”¨æˆ·çš„å¯†ç ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">passwd</span> root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>é…ç½®å…è®¸rootç”¨æˆ·ä½¿ç”¨å¯†ç ç™»å½•å®ä¾‹ã€‚</p><ol><li><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/ssh/sshd_config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>åœ¨<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ä¸­æ‰¾åˆ°ä»¥<code>PasswordAuthentication</code>å¼€å¤´çš„é…ç½®è¡Œï¼ŒæŒ‰ié”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¹¶å°†è¯¥è¡Œå†…å®¹ä¿®æ”¹ä¸º<code>PasswordAuthentication yes</code>ã€‚</p><p>æ–‡ä»¶å†…å®¹ä¿®æ”¹åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402251954377.png" alt="è®¾ç½®æˆåŠŸ"></p><blockquote><p>å¦‚æœ<code>PasswordAuthentication</code>çš„é…ç½®é»˜è®¤ä¸º<code>yes</code>ï¼Œåˆ™æ‚¨æ— éœ€å†ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p></blockquote></li><li><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡å¯SSHæœåŠ¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart sshd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åç»­æ‚¨å¯ä»¥ä½¿ç”¨rootç”¨æˆ·ä¸å¯†ç ä¿¡æ¯è¿œç¨‹ç™»å½•ECSå®ä¾‹ã€‚</p></li></ol></li></ol></li><li><p>rootç”¨æˆ·ä½¿ç”¨å¯†é’¥å¯¹ç™»å½•ECSå®ä¾‹</p></li></ul></li></ol><p>å°†å¯†é’¥å¯¹çš„å…¬é’¥é…ç½®ä¿¡æ¯ä¿å­˜åˆ°<code>/root/.ssh/authorized_keys</code>é…ç½®æ–‡ä»¶ä¸­ï¼Œå³å¯ä½¿ç”¨rootç”¨æˆ·ä¸å¯†é’¥å¯¹ä¿¡æ¯è¿œç¨‹ç™»å½•ECSå®ä¾‹ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.bilibili.com/video/BV1rU4y1J785/">é±¼çš®ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ ä»0æ­å»ºä¸ªäººç½‘ç«™1</a></li><li><a href="https://www.bilibili.com/video/BV14q4y1R7XM/">é±¼çš®ï¼šæ‰‹æŠŠæ‰‹å¸¦ä½ ä»0æ­å»ºä¸ªäººç½‘ç«™2</a></li><li><a href="https://help.aliyun.com/zh/ecs/user-guide/manage-the-username-used-to-log-on-to-an-ecs-instance?spm=a2c4g.11186623.0.0.51cc48b4xoTK22#e647d8f17fwpj">åœ¨Linuxç³»ç»ŸECSå®ä¾‹ä¸­å¦‚ä½•è®¾ç½®ç™»å½•åä¸ºecs-useræˆ–root_äº‘æœåŠ¡å™¨-é˜¿é‡Œäº‘å¸®åŠ©ä¸­å¿ƒ (aliyun.com)</a></li><li><a href="https://developer.aliyun.com/article/1211145">é˜¿é‡Œäº‘æœåŠ¡å™¨æ­å»ºå®å¡”Linuxé¢æ¿æµç¨‹ï¼ˆæ–°æ‰‹æ•™ç¨‹ï¼‰-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></li><li><a href="https://blog.csdn.net/SoloVersion/article/details/123984445">å®å¡”Linuxé¢æ¿å®‰è£…ä»¥åŠåŸºæœ¬ä½¿ç”¨æ•™ç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰ç”¨å®å¡”å®‰è£…apacheå’Œç›´æ¥å‘½ä»¤æŒ‰ç…§apacheçš„åŒºåˆ«-CSDNåšå®¢</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WordPress </tag>
            
            <tag> å®å¡” </tag>
            
            <tag> é˜¿é‡Œäº‘ </tag>
            
            <tag> Xshell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³å¤¸å…‹ç½‘ç›˜ç½‘é¡µç‰ˆä¸èƒ½ä¸‹è½½è¿‡å¤§æ–‡ä»¶</title>
      <link href="/posts/c6ea.html"/>
      <url>/posts/c6ea.html</url>
      
        <content type="html"><![CDATA[<h1 id="è§£å†³å¤¸å…‹ç½‘ç›˜ç½‘é¡µä¸èƒ½ä¸‹è½½å¤§æ–‡ä»¶"><a href="#è§£å†³å¤¸å…‹ç½‘ç›˜ç½‘é¡µä¸èƒ½ä¸‹è½½å¤§æ–‡ä»¶" class="headerlink" title="è§£å†³å¤¸å…‹ç½‘ç›˜ç½‘é¡µä¸èƒ½ä¸‹è½½å¤§æ–‡ä»¶"></a>è§£å†³å¤¸å…‹ç½‘ç›˜ç½‘é¡µä¸èƒ½ä¸‹è½½å¤§æ–‡ä»¶</h1><p>è¿‘å¹´æ¥ï¼Œå¤¸å…‹ç½‘ç›˜å’Œé˜¿é‡Œç›˜çƒ­åº¦å¾ˆé«˜ï¼Œæ‰€ä»¥å¯¼è‡´ç°åœ¨å¾ˆå¤šèµ„æºéƒ½æ˜¯é€šè¿‡ä»–ä»¬åˆ†äº«ï¼Œä½†æ˜¯å¤¸å…‹ç½‘ç›˜å’Œç™¾åº¦ç½‘ç›˜ä¸€æ ·ï¼Œç½‘é¡µç‰ˆä¸èƒ½ä¸‹è½½è¿‡å¤§å®¹é‡çš„æ–‡ä»¶ï¼Œè¿‡å¤§å®¹é‡å¿…é¡»ä¸‹è½½è½¯ä»¶ï¼Œå¯¹äºå¾ˆå¤šä¸æƒ³ä¸‹è½½è½¯ä»¶çš„å°ä¼™ä¼´æ¥è¯´ï¼Œå®åœ¨æ˜¯éº»çƒ¦åˆæ— å¯å¥ˆä½•ï¼Œè€Œä¸”å¦‚æœä¸å¼€ä¼šå‘˜ï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿæ˜¯ç›¸å½“çš„æ„Ÿäººå•ŠğŸ˜…</p><p>ä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆæ˜¯æ— æ‰€ä¸èƒ½çš„ç½‘å‹ä¸èƒ½è§£å†³çš„ï¼Œæ€»æœ‰å¤§ç¥ä¼šå‡ºæ‰‹ã€‚æ‰€æœ‰å°±æœ‰äº†ä»Šå¤©è¦ä»‹ç»çš„è¿™ä½ä¸»è§’â€”â€”<a href="https://greasyfork.org/zh-CN/scripts/448675-%E5%A4%B8%E5%85%8B%E7%BD%91%E7%9B%98%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD">å¤¸å…‹ç½‘ç›˜ç›´é“¾ä¸‹è½½ (greasyfork.org)</a>ï¼Œä¸ä»…å®Œç¾è§£å†³äº†ç½‘é¡µç‰ˆä¸èƒ½ä¸‹è½½å¤§æ–‡ä»¶çš„é—®é¢˜ï¼Œè¿˜èƒ½å¤Ÿå’ŒIDMç­‰å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·è”æ‰‹æ‰“å‡ºç»„åˆæŠ€ï¼Œå¯è°“æ˜¯BUFFæ‹‰æ»¡ï¼Œåˆ†åˆ†é’Ÿè§£å†³ä½ çš„çƒ¦æ¼ï¼ŒçœŸæ˜¯å¤ªè£¤è¾£ğŸ˜</p><p>ä¸‹é¢ç»™å‡ºæ•™ç¨‹ï¼Œè¯·é€Ÿé€Ÿä¸‹è½½å§ï¼</p><h2 id="æ²¹çŒ´ä¸‹è½½"><a href="#æ²¹çŒ´ä¸‹è½½" class="headerlink" title="æ²¹çŒ´ä¸‹è½½"></a>æ²¹çŒ´ä¸‹è½½</h2><p>å…³äºæ²¹çŒ´è¿™ä¸€ç¥å™¨çš„ä»‹ç»ï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œddddï¼Œæ²¡ç”¨è¿‡çš„å¯è‡ªè¡Œå»Bingä¸€ä¸‹ã€‚å¯ä»¥åœ¨ä½ ä½¿ç”¨çš„æµè§ˆå™¨é‡Œçš„æ‰©å±•é‡Œä¸‹è½½ã€‚</p><h2 id="å®‰è£…è„šæœ¬"><a href="#å®‰è£…è„šæœ¬" class="headerlink" title="å®‰è£…è„šæœ¬"></a>å®‰è£…è„šæœ¬</h2><p><a href="https://greasyfork.org/zh-CN/scripts/448675-%E5%A4%B8%E5%85%8B%E7%BD%91%E7%9B%98%E7%9B%B4%E9%93%BE%E4%B8%8B%E8%BD%BD">ç‚¹å‡»ä¸‹è½½</a>ï¼Œ</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402251417789.png" alt="ç›´é“¾è„šæœ¬"></p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>ä¸‹è½½å‰éœ€è¦å°†èµ„æºä¿å­˜åˆ°è‡ªå·±çš„ç½‘ç›˜å†…ï¼Œç„¶ååœ¨ç½‘ç›˜å†…è¿›è¡Œä¸‹è½½</p><p><a href="https://www.niannz.com/3971.html">å¤¸å…‹ç½‘ç›˜ç›´é“¾è§£æï¼Œæ— éœ€å®¢æˆ·ç«¯ï¼Œç½‘é¡µç«¯å³å¯æ»¡é€Ÿä¸‹è½½æ–‡ä»¶ (niannz.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è§£å†³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤¸å…‹ç½‘ç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoå‡çº§</title>
      <link href="/posts/f11c.html"/>
      <url>/posts/f11c.html</url>
      
        <content type="html"><![CDATA[<h2 id="hexoå‡çº§"><a href="#hexoå‡çº§" class="headerlink" title="hexoå‡çº§"></a>hexoå‡çº§</h2><p>Hexo çš„å‡çº§ç›¸å¯¹ç®€å•ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ›´æ–°ï¼š</p><ol><li><p>é¦–å…ˆï¼Œç¡®ä¿æ‚¨å·²ç»å®‰è£…äº†å¿…è¦çš„åº”ç”¨ç¨‹åºï¼š</p><ul><li><strong>Git</strong></li><li><strong>Node.js</strong>ï¼ˆç‰ˆæœ¬ä¸ä½äº10.13ï¼Œå»ºè®®ä½¿ç”¨12.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰</li></ul></li><li><p>å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…äº†ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œæ‚¨å¯ä»¥ç›´æ¥å‰å¾€<a href="https://hexo.io/zh-cn/docs/index.html">Hexo å®‰è£…æ­¥éª¤</a>ã€‚</p></li><li><p>å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€ç¨‹åºï¼Œè¯·æ ¹æ®ä»¥ä¸‹æŒ‡ç¤ºå®Œæˆå®‰è£…ï¼š</p><ul><li><p><strong>å®‰è£… Git</strong>ï¼š</p><ul><li><p>Windowsï¼šä¸‹è½½å¹¶å®‰è£… <a href="https://git-scm.com/download/win">Git</a>ã€‚</p></li><li><p>Macï¼šä½¿ç”¨ Homebrewã€MacPorts æˆ–ä¸‹è½½ <a href="https://git-scm.com/download/mac">å®‰è£…ç¨‹åº</a>ã€‚</p></li><li><p>Linux (Ubuntu, Debian)ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Gitï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install git-core<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Linux (Fedora, Red Hat, CentOS)ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Gitï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo yum install git-core<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul></li></ul></li><li><p>æ¥ä¸‹æ¥ï¼Œè¿›å…¥æ‚¨çš„ Hexo åšå®¢ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–° Hexo åŠå…¶æ’ä»¶ç‰ˆæœ¬ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä½¿ç”¨æ·˜å®æºçš„ cnpm æ›¿æ¢ npm</span><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> cnpm <span class="token parameter variable">--registry</span><span class="token operator">=</span>https://registry.npm.taobao.orgcnpm <span class="token function">install</span> <span class="token parameter variable">-g</span> cnpm<span class="token comment"># æ¸…é™¤ npm ç¼“å­˜</span>cnpm cache clean <span class="token parameter variable">-f</span><span class="token comment"># æ›´æ–° package.json ä¸­çš„ Hexo åŠä¸ªæ’ä»¶ç‰ˆæœ¬</span>cnpm <span class="token function">install</span> <span class="token parameter variable">-g</span> npm-check<span class="token comment"># æ£€æŸ¥ä¹‹å‰å®‰è£…çš„æ’ä»¶ï¼ŒæŸ¥çœ‹å“ªäº›å¯ä»¥å‡çº§</span>npm-check<span class="token comment"># å‡çº§ç³»ç»Ÿä¸­çš„æ’ä»¶</span>npm-check <span class="token parameter variable">-upgrade</span><span class="token comment"># æ›´æ–° Hexo åŠæ‰€æœ‰æ’ä»¶</span>cnpm update<span class="token comment"># ç¡®è®¤ Hexo å·²ç»æ›´æ–°</span>hexo <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p>åœ¨æ›´æ”¹ npm æºä¹‹å‰ï¼Œè¯·ç¡®ä¿ç†è§£è¿™æ ·åšå¯èƒ½ä¼šå¸¦æ¥çš„å½±å“ã€‚ä½¿ç”¨æ·˜å®æºçš„<code>cnpm</code>ä»£æ›¿<code>npm</code>å¯ä»¥åŠ å¿«ä¸‹è½½é€Ÿåº¦ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æŸäº›åŒ…çš„ç‰ˆæœ¬ä¸ä¸€è‡´æˆ–å…¶ä»–é—®é¢˜ã€‚è¯·åœ¨æ›´æ”¹ä¹‹å‰å¤‡ä»½é¡¹ç›®ä»¥é˜²ä¸‡ä¸€ã€‚</p></li><li><p>åœ¨æ¸…é™¤ npm ç¼“å­˜ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æ˜ç™½è¿™æ ·åšä¼šåˆ é™¤æ‰€æœ‰å·²ä¸‹è½½çš„ npm åŒ…ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ä¾èµ–é‡æ–°ä¸‹è½½ï¼Œå¯èƒ½ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´ï¼Œä½†é€šå¸¸ä¸ä¼šé€ æˆé—®é¢˜ã€‚</p></li><li><p>åœ¨æ›´æ–° package.json ä¸­çš„ Hexo åŠå…¶æ’ä»¶ç‰ˆæœ¬ä¹‹å‰ï¼Œç¡®ä¿æ‚¨äº†è§£æ‚¨çš„é¡¹ç›®æ‰€éœ€çš„ç¡®åˆ‡ç‰ˆæœ¬ã€‚æœ‰æ—¶å€™æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬å¯èƒ½ä¼šå¸¦æ¥ä¸å…¼å®¹æˆ–è€…æ„å¤–çš„é—®é¢˜ã€‚</p></li><li><p>ä½¿ç”¨ npm-check æ¥æ£€æŸ¥å¹¶å‡çº§æ’ä»¶æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œä½†è¯·æ³¨æ„ç¡®ä¿å‡çº§åçš„æ’ä»¶ä¸æ‚¨çš„é¡¹ç›®å…¼å®¹ï¼Œå¹¶ä¸”ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚</p></li><li><p>åœ¨æ‰§è¡Œ <code>cnpm update</code> å‘½ä»¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²å¤‡ä»½äº†ä½ çš„é¡¹ç›®æ•°æ®ï¼Œä»¥é˜²æ›´æ–°è¿‡ç¨‹ä¸­å‡ºç°æ„å¤–ã€‚</p></li></ol></blockquote></li><li><p>å‡çº§ä¹‹åï¼Œä½ çš„ Hexo ç‰ˆæœ¬åº”è¯¥ä¼šæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ç°åœ¨æ‚¨å¯ä»¥æ­£å¸¸æ¨é€æ‚¨çš„åšå®¢å†…å®¹äº†ã€‚</p></li></ol><h2 id="åˆ‡æ¢é•œåƒæº"><a href="#åˆ‡æ¢é•œåƒæº" class="headerlink" title="åˆ‡æ¢é•œåƒæº"></a>åˆ‡æ¢é•œåƒæº</h2><p>è¦å°† npm çš„é•œåƒæºåˆ‡æ¢å›é»˜è®¤çš„å®˜æ–¹æºï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ol><li><p>æ‰“å¼€å‘½ä»¤è¡Œç•Œé¢ï¼ˆå¦‚ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼‰ã€‚</p></li><li><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢å›é»˜è®¤çš„å®˜æ–¹æºï¼š</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¼šå°† npm çš„é•œåƒæºæ›´æ”¹å›é»˜è®¤çš„å®˜æ–¹æºã€‚</p><ol start="3"><li>æ‚¨å¯ä»¥éªŒè¯ä¸€ä¸‹æ˜¯å¦å·²ç»æˆåŠŸåˆ‡æ¢å›å®˜æ–¹æºï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config get registry<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœè¾“å‡ºä¸º <code>https://registry.npmjs.org/</code>ï¼Œåˆ™è¯´æ˜å·²ç»æˆåŠŸåˆ‡æ¢å›é»˜è®¤çš„å®˜æ–¹æºã€‚</p><p>é€šè¿‡æ‰§è¡Œä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥å°† npm çš„é•œåƒæºä»æ·˜å®æºåˆ‡æ¢å›é»˜è®¤çš„å®˜æ–¹æºäº†ã€‚</p><h2 id="é™„nodejså‡çº§"><a href="#é™„nodejså‡çº§" class="headerlink" title="é™„nodejså‡çº§"></a>é™„nodejså‡çº§</h2><p>Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome çš„ V8 JavaScript å¼•æ“çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒã€‚å¦‚æœä½ æƒ³å‡çº§ Node.js ç‰ˆæœ¬ï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥é€‰æ‹©ï¼š</p><ol><li><strong>ä½¿ç”¨ NPM æ›´æ–° Node ç‰ˆæœ¬</strong>ï¼š<ul><li>é¦–å…ˆï¼Œæ¸…é™¤ NPM ç¼“å­˜ï¼šè¿è¡Œ <code>npm cache clean -f</code>ã€‚</li><li>å®‰è£… <code>n</code> åŒ…ï¼Œç”¨äºäº¤äº’å¼åœ°ç®¡ç†è®¾å¤‡ä¸Šçš„ Node ç‰ˆæœ¬ï¼šè¿è¡Œ <code>npm install -g n</code>ã€‚</li><li>å®‰è£…æ–°çš„ Node ç‰ˆæœ¬ï¼Œä¾‹å¦‚æœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼šè¿è¡Œ <code>n lts</code>ã€‚</li><li>å¦‚æœä¹‹å‰å®‰è£…è¿‡å…¶ä»–ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ <code>n prune</code> å‘½ä»¤åˆ é™¤ç¼“å­˜çš„æ—§ç‰ˆæœ¬ï¼Œåªä¿ç•™æœ€æ–°å®‰è£…çš„ç‰ˆæœ¬ã€‚</li></ul></li><li><strong>ä½¿ç”¨ NVM æ›´æ–° Node ç‰ˆæœ¬</strong>ï¼š<ul><li>NVMï¼ˆNode Version Managerï¼‰å¸®åŠ©ä½ ç®¡ç† Node ç‰ˆæœ¬ã€‚é¦–å…ˆï¼Œå®‰è£… NVMã€‚</li><li>ä½¿ç”¨ NVM å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ Nodeï¼šè¿è¡Œ <code>nvm install [version]</code>ï¼Œä¾‹å¦‚ <code>nvm install node</code> å®‰è£…æœ€æ–°ç‰ˆæœ¬ã€‚</li><li>å¸è½½å…¶ä»–ç‰ˆæœ¬ï¼šè¿è¡Œ <code>nvm uninstall [version]</code>ã€‚</li><li>è®¾ç½®é»˜è®¤åˆ«åä»¥æŒ‡å®šç‰¹å®šç‰ˆæœ¬ï¼šè¿è¡Œ <code>nvm alias default [version]</code>ã€‚</li></ul></li><li><strong>ä» Node.js ç½‘ç«™ä¸‹è½½æ›´æ–°çš„ Node äºŒè¿›åˆ¶æ–‡ä»¶</strong>ï¼š<ul><li>åœ¨ Node.js ä¸‹è½½é¡µé¢ä¸Šï¼Œä½ å¯ä»¥æ‰¾åˆ°é€‚ç”¨äºä½ è®¾å¤‡çš„æœ€æ–°å’Œé•¿æœŸæ”¯æŒç‰ˆæœ¬ã€‚</li><li>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬è¿˜ä¼šä¸ºä½ æä¾›æœ€æ–°ç‰ˆæœ¬çš„ NPMã€‚</li></ul></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://cloud.tencent.com/developer/article/1918434">Hexo å‡çº§æ•™ç¨‹-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)</a></li><li><a href="https://blog.csdn.net/qq_33154343/article/details/108301374">Hexo å‡çº§æ•™ç¨‹_hexo æ›´æ–°-CSDNåšå®¢</a></li><li><a href="https://hexo.io/zh-cn/docs/index.html">æ–‡æ¡£ | Hexo</a></li><li><a href="https://blog.csdn.net/qq_22713201/article/details/122486841">å¦‚ä½•å‡çº§nodejsç‰ˆæœ¬_nodejså‡çº§-CSDNåšå®¢</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡çº§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç•™è¨€é¡µé¢æ·»åŠ å¼¹å¹•</title>
      <link href="/posts/3e08.html"/>
      <url>/posts/3e08.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç•™è¨€æ¿æ·»åŠ å¼¹å¹•"><a href="#ç•™è¨€æ¿æ·»åŠ å¼¹å¹•" class="headerlink" title="ç•™è¨€æ¿æ·»åŠ å¼¹å¹•"></a>ç•™è¨€æ¿æ·»åŠ å¼¹å¹•</h1><p>åˆæ­¥æ„æƒ³ï¼Œåœ¨è¯„è®ºæ—è¾¹è®¾ç½®å¼¹å¹•ï¼Œå¯ä»¥ä¸å¼¹å¹•è¿›è¡Œåˆ‡æ¢</p><p><a href="https://seayj.cn/contact/">contact | SeaYJâ€™s Blog</a></p><p>åœ¨cssä¸‹æ–°å»º<code>barrager.css</code></p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* build time:Mon Apr 22 2024 22:40:29 GMT+0800 (æ¶“î…æµ—éå›§å™¯éƒå •æ£¿)*/</span><span class="token selector">.barrage</span><span class="token punctuation">&#123;</span><span class="token property">position</span><span class="token punctuation">:</span>fixed<span class="token punctuation">;</span><span class="token property">bottom</span><span class="token punctuation">:</span>70px<span class="token punctuation">;</span><span class="token property">right</span><span class="token punctuation">:</span>-500px<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>500px<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span>99<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box</span><span class="token punctuation">&#123;</span><span class="token property">background-color</span><span class="token punctuation">:</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">padding-right</span><span class="token punctuation">:</span>8px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>40px<span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span><span class="token property">transition</span><span class="token punctuation">:</span>all .3s<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box .portrait</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span><span class="token property">margin-left</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>32px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>32px<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span><span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box .portrait img</span><span class="token punctuation">&#123;</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box div.p a</span><span class="token punctuation">&#123;</span><span class="token property">margin-right</span><span class="token punctuation">:</span>2px<span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>#fff<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span>40px<span class="token punctuation">;</span><span class="token property">margin-left</span><span class="token punctuation">:</span>18px<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box div.p a:hover</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>underline<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box .close</span><span class="token punctuation">&#123;</span><span class="token property">visibility</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span><span class="token property">opacity</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span><span class="token property">margin-left</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span><span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span>255<span class="token punctuation">,</span>255<span class="token punctuation">,</span>.1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span>8px<span class="token punctuation">;</span><span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/medias/barrager/close.png<span class="token punctuation">)</span></span><span class="token punctuation">&#125;</span><span class="token selector">.barrage_box:hover .close</span><span class="token punctuation">&#123;</span><span class="token property">visibility</span><span class="token punctuation">:</span>visible<span class="token punctuation">;</span><span class="token property">opacity</span><span class="token punctuation">:</span>1<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box .close a</span><span class="token punctuation">&#123;</span><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">&#125;</span><span class="token selector">.barrage_box .close .icon-close</span><span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span><span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span>255<span class="token punctuation">,</span>255<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span>5px<span class="token punctuation">&#125;</span><span class="token selector">.barrage .z</span><span class="token punctuation">&#123;</span><span class="token property">float</span><span class="token punctuation">:</span>left<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">.barrage a</span><span class="token punctuation">&#123;</span><span class="token property">text-decoration</span><span class="token punctuation">:</span>none<span class="token punctuation">&#125;</span><span class="token comment">/* rebuild by neat */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨jsä¸‹æ–°å»º<code>jquery.barrager.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** *@name     jquery.barrager.js *@version  1.1 *@author   yaseng@uauc.net *@url      https://github.com/yaseng/jquery.barrager.js */</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">barrager</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">barrage</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>barrage <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">close</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'#ffffff'</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> barrage <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> barrager_id <span class="token operator">=</span> <span class="token string">'barrage_'</span> <span class="token operator">+</span> time<span class="token punctuation">;</span><span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token string">'#'</span> <span class="token operator">+</span> barrager_id<span class="token punctuation">;</span><span class="token keyword">const</span> div_barrager <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div class='barrage' id='"</span> <span class="token operator">+</span> barrager_id <span class="token operator">+</span> <span class="token string">"'>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> this_height <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.35</span><span class="token punctuation">;</span><span class="token keyword">const</span> this_width <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>this_height <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>this_height <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">*</span><span class="token punctuation">(</span>this_height <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token operator">*</span><span class="token punctuation">(</span>this_height <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token operator">*</span><span class="token punctuation">(</span>this_height <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">)</span>   <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">]</span><span class="token keyword">const</span> bottom <span class="token operator">=</span>array<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>div_barrager<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"bottom"</span><span class="token punctuation">,</span> bottom <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>div_barrager_box <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;div class='barrage_box cl'>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>div_barrager<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>barrage<span class="token punctuation">.</span>img<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>div_barrager_box<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&lt;a class='portrait z' href='javascript:;'>&lt;/a>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;img src='' >"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">" .barrage_box .portrait"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>img<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">,</span> barrage<span class="token punctuation">.</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>div_barrager_box<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" &lt;div class='z p'>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>barrage<span class="token punctuation">.</span>close<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>div_barrager_box<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">" &lt;div class='close z'>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;a title='' href='' target='_blank'>&lt;/a>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">" .barrage_box .p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>content<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">'href'</span><span class="token operator">:</span> barrage<span class="token punctuation">.</span>href<span class="token punctuation">,</span><span class="token string-property property">'id'</span><span class="token operator">:</span> barrage<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>barrage<span class="token punctuation">.</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> barrage<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>div_barrager<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'margin-right'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">right</span><span class="token operator">:</span>this_width<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>barrage<span class="token punctuation">.</span>speed<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>div_barrager_box<span class="token punctuation">.</span><span class="token function">mouseover</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>div_barrager_box<span class="token punctuation">.</span><span class="token function">mouseout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">right</span><span class="token operator">:</span>this_width<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>barrage<span class="token punctuation">.</span>speed<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token operator">+</span><span class="token string">'.barrage .barrage_box .close'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">$</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span>$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>barrager<span class="token punctuation">.</span><span class="token function-variable function">removeAll</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.barrage'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼¹å¹• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·»åŠ Bç«™ç•ªå‰§åˆ—è¡¨</title>
      <link href="/posts/db34.html"/>
      <url>/posts/db34.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ·»åŠ ç•ªå‰§åˆ—è¡¨"><a href="#æ·»åŠ ç•ªå‰§åˆ—è¡¨" class="headerlink" title="æ·»åŠ ç•ªå‰§åˆ—è¡¨"></a>æ·»åŠ ç•ªå‰§åˆ—è¡¨</h2><p>æš‚æœªå®ç°</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.ukenn.top/sakura5/">Sakura ä¸»é¢˜ç¾åŒ–ç³»åˆ—ï¼ˆäº”ï¼‰æ·»åŠ  BiliBili ç•ªå‰§åˆ—è¡¨ â€“ Ukenn Blog</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç•ªå‰§åˆ—è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡µè„šæ³¢æµªæ•ˆæœ</title>
      <link href="/posts/f421.html"/>
      <url>/posts/f421.html</url>
      
        <content type="html"><![CDATA[<h1 id="é¡µè„šæ³¢æµªæ•ˆæœ"><a href="#é¡µè„šæ³¢æµªæ•ˆæœ" class="headerlink" title="é¡µè„šæ³¢æµªæ•ˆæœ"></a>é¡µè„šæ³¢æµªæ•ˆæœ</h1><p>åˆé€‚çš„é¡µè„šåŠ¨ç”»å¯ä»¥ä¸ºç½‘ç«™å¸¦æ¥æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå¢åŠ ç”¨æˆ·çš„åœç•™æ—¶é—´å’Œäº’åŠ¨é¢‘ç‡ï¼ŒåŒæ—¶ä¹Ÿæœ‰åŠ©äºæå‡ç½‘ç«™çš„æ•´ä½“å¸å¼•åŠ›ã€‚</p><p>è¿™é‡Œæ¨èä¸€ä¸ªæä¾›ä¼—å¤šé¡µè„šåŠ¨ç”»çš„<a href="https://www.bootstrapmb.com/tag/yejiao">ç½‘å€</a></p><p>è¿™é‡Œæˆ‘é€‰æ‹©çš„é¡µè„šæ³¢æµªæ•ˆæœ</p><h2 id="æ•ˆæœé¢„è§ˆ"><a href="#æ•ˆæœé¢„è§ˆ" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402182024874.gif" alt="wave"></p><h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><ol><li><p>åœ¨matery&#x2F;source&#x2F;cssä¸‹æ–°å»ºfooter_wave.cssï¼Œå†™å…¥å¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* è®¾ç½®é¡µè„šçš„é¡¶éƒ¨å¤–è¾¹è·ä¸º 120px */</span><span class="token selector">footer</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* è®¾ç½®æ³¢æµªå®¹å™¨çš„å®šä½ä¸ºç›¸å¯¹å®šä½ */</span><span class="token selector">footer .fot-wave-box</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* è®¾ç½®æ³¢æµªçš„æ ·å¼ */</span><span class="token selector">footer .fot-wave</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token comment">/* ä½¿æ³¢æµªä½äºé¡µè„šä¸Šæ–¹ 125px å¤„ */</span>    <span class="token property">top</span><span class="token punctuation">:</span> -125px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ç¬¬ä¸€ä¸ªæ³¢æµªçš„æ ·å¼ */</span><span class="token selector">footer .fot-wave#fot-wave_0</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token comment">/* åº”ç”¨æ³¢æµªåŠ¨ç”» */</span>    <span class="token property">animation</span><span class="token punctuation">:</span> aniFotWaveMove_00 4s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ç¬¬äºŒä¸ªæ³¢æµªçš„æ ·å¼ */</span><span class="token selector">footer .fot-wave#fot-wave_1</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 9<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .5<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token comment">/* åº”ç”¨æ³¢æµªåŠ¨ç”» */</span>    <span class="token property">animation</span><span class="token punctuation">:</span> aniFotWaveMove_01 4s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ç¬¬ä¸‰ä¸ªæ³¢æµªçš„æ ·å¼ */</span><span class="token selector">footer .fot-wave#fot-wave_2</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .2<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>    <span class="token comment">/* åº”ç”¨æ³¢æµªåŠ¨ç”» */</span>    <span class="token property">animation</span><span class="token punctuation">:</span> aniFotWaveMove_00 3s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ç¬¬å››ä¸ªæ³¢æµªçš„æ ·å¼ */</span><span class="token selector">footer .fot-wave#fot-wave_3</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 9<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .7<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>    <span class="token comment">/* åº”ç”¨æ³¢æµªåŠ¨ç”» */</span>    <span class="token property">animation</span><span class="token punctuation">:</span> aniFotWaveMove_01 3s linear infinite<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">/* å®šä¹‰æ³¢æµªçš„ç§»åŠ¨åŠ¨ç”» */</span><span class="token atrule"><span class="token rule">@keyframes</span> aniFotWaveMove_00</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* å®šä¹‰æ³¢æµªçš„ç§»åŠ¨åŠ¨ç”» */</span><span class="token atrule"><span class="token rule">@keyframes</span> aniFotWaveMove_01</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Safari æµè§ˆå™¨ä¸‹çš„å…¼å®¹æ€§æ ·å¼ */</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> aniFotWaveMove_00</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Safari æµè§ˆå™¨ä¸‹çš„å…¼å®¹æ€§æ ·å¼ */</span><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> aniFotWaveMove_01</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position-x</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç è§£è¯»ï¼š</p><ol><li><p><code>.fot-wave-box</code> ç±»çš„ CSS è§„åˆ™ç”¨äºè®¾ç½®é¡µè„šæ³¢æµªçš„å®¹å™¨çš„ä½ç½®ä¸ºç›¸å¯¹å®šä½ï¼ˆposition: relativeï¼‰ï¼Œè¿™æ„å‘³ç€å…¶å­å…ƒç´ çš„ç»å¯¹å®šä½ï¼ˆposition: absoluteï¼‰å°†ç›¸å¯¹äºæ­¤å®¹å™¨å®šä½ã€‚</p></li><li><p><code>footer</code> å…ƒç´ çš„ CSS è§„åˆ™ç”¨äºè®¾ç½®é¡µè„šçš„ä¸Šå¤–è¾¹è·ä¸º 120pxã€‚</p></li><li><p><code>.fot-wave</code> ç±»çš„ CSS è§„åˆ™ç”¨äºè®¾ç½®æ³¢æµªçš„æ ·å¼ï¼Œå°†å…¶ä½ç½®è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œä½äºé¡µé¢é¡¶éƒ¨ä¸Šæ–¹ 100px å¤„ï¼Œå®½åº¦ä¸º 100%ï¼Œé«˜åº¦ä¸º 100pxã€‚</p></li><li><p><code>.fot-wave</code> çš„å…·ä½“å®ä¾‹ï¼ˆ<code>#fot-wave_0</code>, <code>#fot-wave_1</code>, <code>#fot-wave_2</code>, <code>#fot-wave_3</code>ï¼‰åˆ†åˆ«è®¾ç½®äº†ä¸åŒçš„æ ·å¼å‚æ•°ï¼ŒåŒ…æ‹¬å±‚çº§ï¼ˆz-indexï¼‰ã€é€æ˜åº¦ï¼ˆopacityï¼‰ã€åº•éƒ¨ä½ç½®ï¼ˆbottomï¼‰ä»¥åŠåŠ¨ç”»æ•ˆæœã€‚</p></li><li><p><code>@keyframes</code> å’Œ <code>@-webkit-keyframes</code> è§„åˆ™å®šä¹‰äº†ä¸¤ç§ä¸åŒçš„åŠ¨ç”»æ•ˆæœï¼ˆ<code>aniFotWaveMove_00</code> å’Œ <code>aniFotWaveMove_01</code>ï¼‰ï¼Œåˆ†åˆ«æ§åˆ¶æ³¢æµªçš„æ°´å¹³ç§»åŠ¨ï¼Œä»è€Œå®ç°æ³¢æµªçš„åŠ¨æ€æ•ˆæœã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™æ®µä»£ç ä¸»è¦æ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ªå…·æœ‰åŠ¨æ€æ³¢æµªæ•ˆæœçš„é¡µè„šã€‚</p><blockquote><p>æ³¨æ„footer .fot-waveæ ·å¼ä¸­çš„<code>top</code>éœ€è¦æ ¹æ®è‡ªå·±çš„åº•éƒ¨ä¿¡æ¯æ çš„é«˜åº¦è¿›è¡Œè®¾ç½®</p></blockquote></li><li><p>åœ¨<code>matery\layout\_partial\footer.ejs</code> çš„æœ€ä¸Šæ–¹æ’å…¥ä»¥ä¸‹ä»£ç </p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!-- æ·»åŠ é¡µè„šæ³¢æµªä»£ç  --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/footer_wave.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">footer .fot-wave</span> <span class="token punctuation">&#123;</span>        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/medias/wave.png<span class="token punctuation">)</span></span> repeat-x<span class="token punctuation">;</span>        <span class="token property">background-size</span><span class="token punctuation">:</span> 1000px 100px<span class="token punctuation">;</span>        <span class="token comment">/* æ·»åŠ  */</span>        <span class="token property">background-repeat</span><span class="token punctuation">:</span> repeat-x<span class="token punctuation">;</span> <span class="token comment">/* è®¾ç½®æ³¢æµªåœ¨æ°´å¹³æ–¹å‘é‡å¤ */</span>        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/* æ³¢æµªå®½åº¦ */</span>        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> <span class="token comment">/* æ³¢æµªé«˜åº¦ */</span>        <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token comment">/* ç¡®ä¿æ³¢æµªåœ¨å†…å®¹ä¸Šæ–¹æ˜¾ç¤º */</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave_0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave_1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave_2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fot-wave_3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æœ€åè¿›è¡Œéƒ¨ç½²æŸ¥çœ‹æ•ˆæœå³å¯ï¼Œå¦å¤–è¿˜æœ‰ä¸€ç‚¹ï¼Œæœ€å¥½è®¾ç½®è‡ªå·±çš„æ ‡ç­¾æ çš„é¢œè‰²å’Œæ³¢æµªçš„é¢œè‰²ä¿æŒä¸€è‡´ï¼Œæ•ˆæœæ‰ä¸ä¼šæ˜¾å¾—çªå…€</p></li></ol><h2 id="Gets"><a href="#Gets" class="headerlink" title="Gets"></a>Gets</h2><p>æœ¬æ¬¡ä¼˜åŒ–é¡µè„šçš„è¿‡ç¨‹ä¸­å­¦åˆ°äº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><p>åœ¨CSSä¸­ï¼Œ<code>repeat-x</code> æ˜¯ä¸€ä¸ªèƒŒæ™¯é‡å¤å±æ€§å€¼ï¼Œå®ƒæŒ‡å®šèƒŒæ™¯å›¾åƒæ²¿ç€æ°´å¹³æ–¹å‘å¹³é“ºé‡å¤æ˜¾ç¤ºï¼Œä½†ä¸åœ¨å‚ç›´æ–¹å‘é‡å¤ã€‚æ¢å¥è¯è¯´ï¼ŒèƒŒæ™¯å›¾åƒå°†åœ¨æ°´å¹³æ–¹å‘ä¸Šé‡å¤ï¼Œç›´åˆ°å¡«æ»¡æ•´ä¸ªå®¹å™¨ï¼Œä½†åœ¨å‚ç›´æ–¹å‘ä¸Šä¸é‡å¤ã€‚è¿™å¯¹äºåˆ›å»ºæ°´å¹³å¹³é“ºèƒŒæ™¯å›¾åƒéå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚åœ¨é¡µè„šæˆ–è€…æ¨ªå¹…ä¸­ä½¿ç”¨æ¨ªå‘çš„å›¾æ¡ˆæˆ–è€…æ³¢æµªçº¿æ¡ã€‚</p></li><li><p>å¤§å¤šæ•°ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒæ ‡å‡†çš„ <code>box-shadow</code> å±æ€§ï¼Œæ— éœ€å†å•ç‹¬ä½¿ç”¨ <code>-webkit-box-shadow</code> å±æ€§</p></li><li><p>é’ˆå¯¹ä¸åŒæµè§ˆå™¨çš„å‰ç¼€æ˜¯ä¸ºäº†ç¡®ä¿åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸Šèƒ½å¤Ÿæ­£ç¡®åœ°è§£æå’Œæ˜¾ç¤ºæ ·å¼ã€‚ç”±äºä¸åŒçš„æµè§ˆå™¨å‚å•†åœ¨å®ç°CSSæ ‡å‡†æ—¶å¯èƒ½å­˜åœ¨å·®å¼‚ï¼Œå› æ­¤åœ¨ä¸€äº›æ–°ç‰¹æ€§æˆ–å®éªŒæ€§çš„CSSå±æ€§ä¸Šï¼Œå¼€å‘è€…éœ€è¦ä½¿ç”¨ç‰¹å®šæµè§ˆå™¨å‚å•†çš„å‰ç¼€æ¥ç¡®ä¿æ ·å¼èƒ½å¤Ÿæ­£ç¡®åº”ç”¨ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æµè§ˆå™¨å‰ç¼€åŠå…¶å¯¹åº”çš„æµè§ˆå™¨ï¼š</p><ul><li><p><code>-webkit-</code>: é€‚ç”¨äºWebKitå†…æ ¸çš„æµè§ˆå™¨ï¼Œä¾‹å¦‚Chromeå’ŒSafariã€‚</p></li><li><p><code>-moz-</code>: é€‚ç”¨äºGeckoå†…æ ¸çš„æµè§ˆå™¨ï¼Œä¾‹å¦‚Firefoxã€‚</p></li><li><p><code>-ms-</code>: é€‚ç”¨äºInternet Exploreræµè§ˆå™¨ã€‚</p></li><li><p><code>-o-</code>: é€‚ç”¨äºOperaæµè§ˆå™¨ã€‚</p></li></ul><p>è¿™äº›å‰ç¼€åœ¨CSSå±æ€§ä¹‹å‰æ·»åŠ ï¼Œä»¥æŒ‡ç¤ºç‰¹å®šçš„æ ·å¼é€‚ç”¨äºç‰¹å®šçš„æµè§ˆå™¨ã€‚ä¾‹å¦‚ï¼Œ<code>-webkit-transform</code>ç”¨äºæŒ‡å®šWebkitæµè§ˆå™¨çš„å˜æ¢æ ·å¼ï¼Œè€Œ<code>-moz-transform</code>ç”¨äºæŒ‡å®šFirefoxæµè§ˆå™¨çš„å˜æ¢æ ·å¼ã€‚</p><p>åœ¨è¿‡å»ï¼Œç”±äºæµè§ˆå™¨çš„å·®å¼‚æ€§è¾ƒå¤§ï¼Œä½¿ç”¨æµè§ˆå™¨å‰ç¼€æ˜¯ç¡®ä¿æ ·å¼å…¼å®¹æ€§çš„å…³é”®ã€‚ä½†éšç€ç°ä»£æµè§ˆå™¨å¯¹CSSæ ‡å‡†çš„æ›´å¥½æ”¯æŒï¼Œä»¥åŠè‡ªåŠ¨ä¾›åº”å•†å‰ç¼€çš„å·¥å…·çš„å‡ºç°ï¼Œå¼€å‘è€…åœ¨ç¼–å†™CSSæ—¶éœ€è¦æ·»åŠ æµè§ˆå™¨å‰ç¼€çš„æƒ…å†µå·²ç»å¤§å¤§å‡å°‘ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡µè„š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½’æ¡£é¡µé¢ä¼˜åŒ–</title>
      <link href="/posts/bd93.html"/>
      <url>/posts/bd93.html</url>
      
        <content type="html"><![CDATA[<h1 id="å½’æ¡£é¡µé¢ä¼˜åŒ–"><a href="#å½’æ¡£é¡µé¢ä¼˜åŒ–" class="headerlink" title="å½’æ¡£é¡µé¢ä¼˜åŒ–"></a>å½’æ¡£é¡µé¢ä¼˜åŒ–</h1><h2 id="ä¼˜åŒ–ä¸€"><a href="#ä¼˜åŒ–ä¸€" class="headerlink" title="ä¼˜åŒ–ä¸€"></a>ä¼˜åŒ–ä¸€</h2><h3 id="æ•ˆæœé¢„è§ˆ"><a href="#æ•ˆæœé¢„è§ˆ" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402161134123.gif" alt="archive"></p><h3 id="ä¿®æ”¹æ­¥éª¤"><a href="#ä¿®æ”¹æ­¥éª¤" class="headerlink" title="ä¿®æ”¹æ­¥éª¤"></a>ä¿®æ”¹æ­¥éª¤</h3><p>å½’æ¡£çš„å¸ƒå±€æ–‡ä»¶æ˜¯ä¸»é¢˜ç›®å½•ä¸‹çš„<code>/layout/archive.ejs</code>ï¼ŒåŸä»£ç å¦‚ä¸‹:</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!--æ—¶é—´è½´åŒºåŸŸå—--></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> page<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline-block<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># year. </span><span class="token delimiter punctuation">%></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> year<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> year <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline-img year<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span><span class="token string">'/archives/'</span> <span class="token operator">+</span> year<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> year </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># month. </span><span class="token delimiter punctuation">%></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY-MM'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> month<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">                       month <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY-MM'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'MM'</span><span class="token punctuation">)</span>                   </span><span class="token delimiter punctuation">%></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline-img month<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span><span class="token string">'/archives/'</span> <span class="token operator">+</span> year <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> m<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                          <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> m </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># every day posts. </span><span class="token delimiter punctuation">%></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline-img day<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-timeline-content<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fade-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article col s12 m6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>path<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>img<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>img<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span>                                             <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>responsive-img<span class="token punctuation">"</span></span>                                            <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> post<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript">                                           featureimg <span class="token operator">=</span>                                           featureImages<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">hashCode</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>title<span class="token punctuation">)</span>                                           <span class="token operator">%</span> featureImages<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                                       </span><span class="token delimiter punctuation">%></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span>                                                 <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>featureimg<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span>                                     <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>responsive-img<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> post<span class="token punctuation">.</span>title                                                                 </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> post<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%></span></span>                                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content article-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>summary block-with-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>summary <span class="token operator">&amp;&amp;</span> post<span class="token punctuation">.</span>summary<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                                      <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> post<span class="token punctuation">.</span>summary </span><span class="token delimiter punctuation">%></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">strip_html</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>                                            <span class="token number">120</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>publish-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>publish-date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>far fa-clock fa-fw icon-date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                                  <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> config<span class="token punctuation">.</span>date_format<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>publish-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>categories <span class="token operator">&amp;&amp;</span>                                           post<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-bookmark fa-fw                                                      icon-category<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> post<span class="token punctuation">.</span>categories<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">category</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                                               </span><span class="token delimiter punctuation">%></span></span>                                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>category<span class="token punctuation">.</span>path<span class="token punctuation">)</span>                                                        </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post-category<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> category<span class="token punctuation">.</span>name </span><span class="token delimiter punctuation">%></span></span>                                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>author <span class="token operator">&amp;&amp;</span>                                           post<span class="token punctuation">.</span>author<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-user fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> post<span class="token punctuation">.</span>author </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-user fa-fw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> config<span class="token punctuation">.</span>author </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>tags <span class="token operator">&amp;&amp;</span> post<span class="token punctuation">.</span>tags<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-action article-tags<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> post<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">tag</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>path<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>                                                   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chip bg-color<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                             <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> tag<span class="token punctuation">.</span>name </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                   <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                           <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>       <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸»é¢˜ç›®å½•ä¸‹çš„<code>/layout/archive.ejs</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :</p><ul><li><p>å…ˆæ·»åŠ <code>æ—¶é—´åˆ—è¡¨</code>å’Œ<code>æ—¶é—´è½´</code>çš„åˆ‡æ¢æŒ‰é’®</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag-chips<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">showTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sp-table<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chip center-align waves-effect waves-light default<span class="token punctuation">"</span></span>                  <span class="token attr-name">data-tagname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ—¶é—´åˆ—è¡¨<span class="token punctuation">"</span></span>                  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>76<span class="token punctuation">,</span> 191<span class="token punctuation">,</span> 48<span class="token punctuation">)</span> 0%<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>15<span class="token punctuation">,</span> 157<span class="token punctuation">,</span> 88<span class="token punctuation">)</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>æ—¶é—´åˆ—è¡¨            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">showTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sp-timeline<span class="token punctuation">"</span></span>                  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chip center-align waves-effect waves-light default<span class="token punctuation">"</span></span>                  <span class="token attr-name">data-tagname</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ—¶é—´è½´<span class="token punctuation">"</span></span>                  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>249<span class="token punctuation">,</span> 235<span class="token punctuation">,</span> 234<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>æ—¶é—´è½´            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å®ç°åˆ‡æ¢æ•ˆæœçš„<code>js</code>ä»£ç :</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">   <span class="token keyword">function</span> <span class="token function">showTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#cd-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#cd-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> 'linear<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #4cbf30 <span class="token number">0</span><span class="token operator">%</span><span class="token punctuation">,</span>                          #0f9d58 <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">)</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'#fff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> <span class="token string">'#F9EBEA'</span><span class="token punctuation">)</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'rgba(0,0,0,0.6)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">showTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#cd-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#cd-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> 'linear<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #4cbf30 <span class="token number">0</span><span class="token operator">%</span><span class="token punctuation">,</span>                       #0f9d58 <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">)</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-table"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'#fff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> <span class="token string">'#F9EBEA'</span><span class="token punctuation">)</span>   <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sp-timeline"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'rgba(0,0,0,0.6)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>æ—¶é—´åˆ—è¡¨</code>ä»£ç <a id="æ—¶é—´åˆ—è¡¨"></a>:</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cd-table<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container archive-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> page<span class="token punctuation">.</span>posts<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>archive<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># year. </span><span class="token delimiter punctuation">%></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> year<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> year <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>archive-year<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> year </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> year </span><span class="token delimiter punctuation">%></span></span>å¹´                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>articles<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article content><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-sort-post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>article-sort-item_title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>path<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fa fa-clock<span class="token punctuation">"</span></span>                                           <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>                                         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-text-small<span class="token punctuation">"</span></span> <span class="token attr-name">datetime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2021-08-20T20:20:00.000Z<span class="token punctuation">"</span></span>                                         <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>datePublished<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> #ff542d<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>                                          <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                                           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h6</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>path<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>path<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                               <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> post<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h6</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>ç„¶åå³å¯è¿›è¡Œæœ¬åœ°é¢„è§ˆå‚çœ‹æ•ˆæœï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹ä»£ç å®ç°æ›´ä¼˜ç¾çš„æ•ˆæœã€‚</p><blockquote><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/u013044713/article/details/120251025">hexoåšå®¢æ­å»ºåŠä¸»é¢˜ä¼˜åŒ–(äºŒ)_5ezuy.top-CSDNåšå®¢</a></p></blockquote><h2 id="ä¼˜åŒ–äºŒ"><a href="#ä¼˜åŒ–äºŒ" class="headerlink" title="ä¼˜åŒ–äºŒ"></a>ä¼˜åŒ–äºŒ</h2><p>ä¹‹å‰çš„æ—¶é—´åˆ—è¡¨æ ·å¼æ„Ÿè§‰ä¸æ˜¯å¾ˆç¾è§‚ï¼Œé‚èµ·äº†ä¿®æ”¹æ ·å¼çš„æƒ³æ³•ã€‚</p><p>äºæ˜¯åšè§ˆäº†ä¼—å¤šåšå®¢ï¼Œå‘ç°äº†å‡ æ¬¾éå¸¸ä¸é”™çš„å½’æ¡£æ ·å¼ï¼š</p><h3 id="æ ·å¼ä¸€"><a href="#æ ·å¼ä¸€" class="headerlink" title="æ ·å¼ä¸€"></a>æ ·å¼ä¸€</h3><h4 id="æ•ˆæœé¢„è§ˆ-1"><a href="#æ•ˆæœé¢„è§ˆ-1" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h4><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402161409489.png" alt="æ ·å¼ä¸€"></p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>å°†<a href="#%E6%97%B6%E9%97%B4%E5%88%97%E8%A1%A8">è¿™æ®µä»£ç </a>ä¸­å¡ç‰‡çš„æ ·å¼åˆ å»è¿™å››è¡Œä»£ç ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨archive.ejsä¸­åŠ å…¥ä»¥ä¸‹æ ·å¼ä»£ç ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css">&lt;style>    <span class="token comment">/*å½’æ¡£è‡ªå®šä¹‰æ ·å¼*/</span>    <span class="token selector">.archive-container</span><span class="token punctuation">&#123;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>      <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>      <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>      <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>      <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.archive:not(:last-child)</span> <span class="token punctuation">&#123;</span>      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .articles</span> <span class="token punctuation">&#123;</span>      <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #dbdbdb<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article</span> <span class="token punctuation">&#123;</span>      <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>      <span class="token property">margin-left</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 0.4rem 1.5rem<span class="token punctuation">;</span>      <span class="token property">border-left</span><span class="token punctuation">:</span> 3px solid transparent<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article:hover</span> <span class="token punctuation">&#123;</span>      <span class="token property">transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-o-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-moz-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">border-left-color</span><span class="token punctuation">:</span> #0f9d58 <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article time</span> <span class="token punctuation">&#123;</span>      <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> deeppink<span class="token punctuation">;</span>      <span class="token comment">/* color: darkgray; */</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">article-sort-item_title</span><span class="token punctuation">&#123;</span>      <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> #4c4948<span class="token punctuation">;</span>      <span class="token property">font-size</span><span class="token punctuation">:</span> .75rem<span class="token punctuation">;</span>      <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>      <span class="token property">-moz-transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>      <span class="token property">-o-transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>      <span class="token property">-ms-transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>      <span class="token property">transition</span><span class="token punctuation">:</span> all .3s<span class="token punctuation">;</span>      <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>      <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article h6</span> <span class="token punctuation">&#123;</span>      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article h6 a</span> <span class="token punctuation">&#123;</span>      <span class="token property">line-height</span><span class="token punctuation">:</span> 2.5<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>      <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px dashed transparent<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .article h6 a:hover</span> <span class="token punctuation">&#123;</span>      <span class="token property">border-bottom-color</span><span class="token punctuation">:</span> #0f9d58<span class="token punctuation">;</span>      <span class="token property">padding-left</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>      <span class="token property">transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>      <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>      <span class="token property">-o-transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>      <span class="token property">-moz-transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .articles .imgcontent</span><span class="token punctuation">&#123;</span>      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>      <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.archive .articles .imgcontent .postimg</span><span class="token punctuation">&#123;</span>      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>      <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.archive .articles .imgcontent .postimg:hover</span><span class="token punctuation">&#123;</span>      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.3<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token property">transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-o-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>      <span class="token property">-moz-transition</span><span class="token punctuation">:</span> all .6s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.article-sort-post</span><span class="token punctuation">&#123;</span>      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>      <span class="token property">top</span><span class="token punctuation">:</span> -16px<span class="token punctuation">;</span>      <span class="token property">left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.hbe-input-container</span><span class="token punctuation">&#123;</span>      <span class="token property">width</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>      <span class="token property">max-width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>      <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.hbe-input-container  .btn-decrypt</span><span class="token punctuation">&#123;</span>      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>      <span class="token property">vertical-align</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span>      <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>      <span class="token property">line-height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span>      <span class="token property">background-color</span><span class="token punctuation">:</span> #3f90ff<span class="token punctuation">;</span>      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>      <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>      <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>      <span class="token property">border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.about-cover</span> <span class="token punctuation">&#123;</span>      <span class="token property">height</span><span class="token punctuation">:</span> 50vh<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.desc-content</span><span class="token punctuation">&#123;</span>      <span class="token property">padding</span><span class="token punctuation">:</span> 0 50px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>      <span class="token selector">.desc-content</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 15px<span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>        <span class="token selector">.v .vlist .vcard</span> <span class="token punctuation">&#123;</span>      <span class="token property">padding-top</span><span class="token punctuation">:</span> 2.5em <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>     &lt;/style><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ ·å¼æ¥æºï¼š<a href="https://blog.sky03.cn/archives/">å½’æ¡£ | Sky03æˆ‘çš„è–°è¡£è‰</a></p></blockquote><h3 id="æ ·å¼äºŒ"><a href="#æ ·å¼äºŒ" class="headerlink" title="æ ·å¼äºŒ"></a>æ ·å¼äºŒ</h3><h4 id="æ•ˆæœé¢„è§ˆ-2"><a href="#æ•ˆæœé¢„è§ˆ-2" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h4><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402161414820.png" alt="æ ·å¼äºŒ"></p><h4 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>æš‚æœªå¤„ç†ï¼Œæœ‰æ„å‘è€…å¯ä»¥å»<a href="https://zhangxiaocai.cn/archives/">å½’æ¡£ | æ–¯è«ç¬”è®° (zhangxiaocai.cn)</a>æŸ¥çœ‹</p><h3 id="æ ·å¼ä¸‰"><a href="#æ ·å¼ä¸‰" class="headerlink" title="æ ·å¼ä¸‰"></a>æ ·å¼ä¸‰</h3><h4 id="æ•ˆæœé¢„è§ˆ-3"><a href="#æ•ˆæœé¢„è§ˆ-3" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h4><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402161410322.png" alt="æ ·å¼ä¸‰"></p><h4 id="å®ç°-2"><a href="#å®ç°-2" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>æš‚æœªå¤„ç†ï¼Œæœ‰æ„å‘è€…å¯ä»¥å»<a href="https://seayj.cn/archives/">å½’æ¡£ | SeaYJâ€™s Blog</a>æŸ¥çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å½’æ¡£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‹é“¾å¡ç‰‡å¢åŠ æ‚¬åœæ—‹è½¬æ•ˆæœ</title>
      <link href="/posts/775.html"/>
      <url>/posts/775.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‹é“¾å¡ç‰‡å¢åŠ æ—‹è½¬æ•ˆæœ"><a href="#å‹é“¾å¡ç‰‡å¢åŠ æ—‹è½¬æ•ˆæœ" class="headerlink" title="å‹é“¾å¡ç‰‡å¢åŠ æ—‹è½¬æ•ˆæœ"></a>å‹é“¾å¡ç‰‡å¢åŠ æ—‹è½¬æ•ˆæœ</h1><h2 id="æ•ˆæœé¢„è§ˆ"><a href="#æ•ˆæœé¢„è§ˆ" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402152041617.gif" alt="rotate"></p><h2 id="ä¿®æ”¹æ­¥éª¤"><a href="#ä¿®æ”¹æ­¥éª¤" class="headerlink" title="ä¿®æ”¹æ­¥éª¤"></a>ä¿®æ”¹æ­¥éª¤</h2><p><code>matery/layout/friend.ejs</code>åŸä»£ç </p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/bg-cover'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">.friends-container</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.friends-container .tag-title</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #3C4858<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.75rem<span class="token punctuation">;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-ship img</span> <span class="token punctuation">&#123;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/* ä»¥ä¸‹æ˜¯æŒ‰é’®æ ·å¼ */</span>    <span class="token selector">.frind-ship</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 10px 20px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-ship .title</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-ship .title div</span> <span class="token punctuation">&#123;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>        <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-ship .title img</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>        <span class="token property">flex-shrink</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-ship .title h1</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>        <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid #fff<span class="token punctuation">;</span>        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span>-15px<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.friend-button</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> -27px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.friend-button a</span> <span class="token punctuation">&#123;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.friend-all .tag-post</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.button-caution</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #FF4351<span class="token punctuation">;</span>        <span class="token property">border-color</span><span class="token punctuation">:</span> #FF4351<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #FFF<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.button</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-weight</span><span class="token punctuation">:</span> 300<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>        <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Helvetica Neue Light"</span><span class="token punctuation">,</span> <span class="token string">"Helvetica Neue"</span><span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> <span class="token string">"Lucida Grande"</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>        <span class="token property">appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">-webkit-box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>        <span class="token property">-moz-box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>        <span class="token property">-webkit-transition-property</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>        <span class="token property">transition-property</span><span class="token punctuation">:</span> all<span class="token punctuation">;</span>        <span class="token property">-webkit-transition-duration</span><span class="token punctuation">:</span> .3s<span class="token punctuation">;</span>        <span class="token property">transition-duration</span><span class="token punctuation">:</span> .3s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.title</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0rem <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.card</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 3rem 0 1rem 0 <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.button-glow.button-caution</span> <span class="token punctuation">&#123;</span>        <span class="token property">-webkit-animation-name</span><span class="token punctuation">:</span> glowing-caution<span class="token punctuation">;</span>        <span class="token property">animation-name</span><span class="token punctuation">:</span> glowing-caution<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> glowing-caution</span> <span class="token punctuation">&#123;</span>        <span class="token selector">from</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 20px <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 20px <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">to</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token atrule"><span class="token rule">@keyframes</span> glowing-caution</span> <span class="token punctuation">&#123;</span>        <span class="token selector">from</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 20px <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 20px <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">to</span> <span class="token punctuation">&#123;</span>            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 67<span class="token punctuation">,</span> 81<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.button-caution:hover</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #ff7680<span class="token punctuation">;</span>        <span class="token property">border-color</span><span class="token punctuation">:</span> #ff7680<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #FFF<span class="token punctuation">;</span>        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card1</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #4facfe 0%<span class="token punctuation">,</span> #00f2fe 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card2</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>135deg<span class="token punctuation">,</span> #667eea 0%<span class="token punctuation">,</span> #764ba2 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card3</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #b8cbb8 0%<span class="token punctuation">,</span> #b8cbb8 0%<span class="token punctuation">,</span> #b465da 0%<span class="token punctuation">,</span> #cf6cc9 33%<span class="token punctuation">,</span> #ee609c 66%<span class="token punctuation">,</span> #ee609c 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card4</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #6a11cb 0%<span class="token punctuation">,</span> #2575fc 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card5</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to top<span class="token punctuation">,</span> #c471f5 0%<span class="token punctuation">,</span> #fa71cd 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card6</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to top<span class="token punctuation">,</span> #48c6ef 0%<span class="token punctuation">,</span> #6f86d6 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card7</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to top<span class="token punctuation">,</span> #0ba360 0%<span class="token punctuation">,</span> #3cba92 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card8</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to top<span class="token punctuation">,</span> #0c3483 0%<span class="token punctuation">,</span> #a2b6df 100%<span class="token punctuation">,</span> #6b8cce 100%<span class="token punctuation">,</span> #a2b6df 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card9</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span> #ff758c 0%<span class="token punctuation">,</span> #ff7eb3 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.frind-card10</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to top<span class="token punctuation">,</span> #f77062 0%<span class="token punctuation">,</span> #fe5196 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">article .card</span> <span class="token punctuation">&#123;</span>        <span class="token property">overflow</span><span class="token punctuation">:</span> visible <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container friends-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tag-title center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-address-book<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity named-entity" title="&nbsp;">&amp;nbsp;</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> <span class="token function">__</span><span class="token punctuation">(</span><span class="token string">'friends'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>friends-link<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>friends<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">var</span> friends <span class="token operator">=</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>friends<span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row tags-posts friend-all<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> friends<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">var</span> friend <span class="token operator">=</span> friends<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card frind-card<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frind-ship<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span>avatar<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>friend-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> friend<span class="token punctuation">.</span>name </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> -35px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> friend<span class="token punctuation">.</span>introduction </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>friend-button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span>url<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span>                                            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button button-glow button-rounded button-caution<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> friend<span class="token punctuation">.</span>title </span><span class="token delimiter punctuation">%></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>content <span class="token operator">&amp;&amp;</span> page<span class="token punctuation">.</span>content<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> page<span class="token punctuation">.</span>content </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>gitalk <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>gitalk<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/gitalk'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>gitment<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/gitment'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>disqus<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/disqus'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>livere <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>livere<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/livere'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>valine <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>valine<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/valine'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#friends-link'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">masonry</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">itemSelector</span><span class="token operator">:</span> <span class="token string">'.friend-div'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>åœ¨<code>.frind-ship .title img</code>ä¸­æ·»åŠ ä¸€è¡Œä»£ç ï¼š<code>transition: all 1s;</code></p></li><li><p>åœ¨<code>.frind-ship .title img</code>æ·»åŠ ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* æ‚¬æµ®æ—‹è½¬ */</span><span class="token selector">.friend-div:hover .title img</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-moz-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-o-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>æœ€åä½¿ç”¨hexo cl &amp;&amp; hexo g &amp;&amp; hexo så³å¯ä¸€é”®æ’çœ‹æ•ˆæœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‹é“¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°å»ºæ–‡ç« ä¸»åŠ¨æ‰“å¼€typora</title>
      <link href="/posts/24ab.html"/>
      <url>/posts/24ab.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€typora"><a href="#æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€typora" class="headerlink" title="æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€typora"></a>æ–°å»ºæ–‡ç« è‡ªåŠ¨æ‰“å¼€typora</h1><p>åœ¨åšå®¢æ–‡ä»¶æ ¹ç›®å½•æ–°å»º<code>scripts</code>ç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹æ–°å»º<code>auto_open.js</code>ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> spawn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>spawn<span class="token punctuation">;</span> hexo<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token function">spawn</span><span class="token punctuation">(</span><span class="token string">'E:/Typora/typora/Typora.exe'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">.</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦æ‰¾å‡†ä½ éœ€è¦çš„ç¼–è¾‘å™¨æ‰€åœ¨çš„è·¯å¾„</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è‡ªåŠ¨åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ä»githubè¿ç§»åˆ°gitee</title>
      <link href="/posts/5c6b.html"/>
      <url>/posts/5c6b.html</url>
      
        <content type="html"><![CDATA[<h2 id="HEXOåšå®¢ä»GITHUBè¿ç§»åˆ°GITEE"><a href="#HEXOåšå®¢ä»GITHUBè¿ç§»åˆ°GITEE" class="headerlink" title="HEXOåšå®¢ä»GITHUBè¿ç§»åˆ°GITEE"></a>HEXOåšå®¢ä»GITHUBè¿ç§»åˆ°GITEE</h2><p>giteeæ„Ÿè§‰åšçš„ä¸é”™ï¼Œè€Œä¸”æ˜¯å›½å†…çš„ï¼Œé€Ÿåº¦è¦æ¯”githubå¿«ä¸å°‘ã€‚æ‰€ä»¥å°†åšå®¢ä»githubè¿ç§»åˆ°giteeã€‚</p><p>1.åœ¨gitee.comä¿®æ”¹ä¸ªæ€§åœ°å€ï¼š</p><p>æ¯”å¦‚è¿™é‡Œæœ€åæ˜¯tommy88ã€‚</p><p>2.åœ¨gitee.comåˆ›å»ºä¸€ä¸ªpublicé¡¹ç›®ï¼Œåç§°ä¸ºä¸Šé¢çš„tommy88.</p><p>3.æ‰“å¼€git bashï¼Œè¿›å…¥åˆ°åšå®¢ç›®å½•ã€‚</p><p>åœ¨git Bashä¸­ï¼Œè¾“å…¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ssh-****** -t rsa -C &quot;username&quot; (æ³¨ï¼šusernameä¸ºä½ gitä¸Šçš„ç”¨æˆ·å)123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åé¢ä¸€ç›´å›è½¦ï¼Œç›´åˆ°ç»“æŸã€‚</p><p>æ‰“å¼€ç”Ÿæˆçš„id_rsa.pubæ–‡ä»¶ï¼Œå¤åˆ¶å…¬é’¥åˆ°giteeçš„ssh keyã€‚</p><p>é…ç½®å®Œæ¯•åï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æµ‹è¯•ä¸€ä¸‹SSH Key</p><pre class="line-numbers language-none"><code class="language-none">ssh -T git@gitee.com123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åé¢ä½ ä½¿ç”¨hexo dç›´æ¥å°±æäº¤åˆ°giteeä»“åº“ä¸­äº†ã€‚</p><p>4.ä¿®æ”¹hexoçš„_config.yml</p><p>Deployéƒ¨åˆ†ä¿®æ”¹ä¸ºgiteeçš„åœ°å€</p><pre class="line-numbers language-none"><code class="language-none">deploy:  type: git  repo: git@gitee.com:tommy88&#x2F;tommy88.git  branch: master123456789<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>5.åšå®¢å†…å®¹æäº¤åˆ°giteeåï¼Œå¼€å¯gitee pagesã€‚</p><p>éƒ¨ç½²åï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªç½‘ç«™åœ°å€ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯ä½ çš„åšå®¢åœ°å€ã€‚</p><p>6.å°†åšå®¢æºä»£ç æ‰˜ç®¡åˆ°gitee</p><p>å‚è€ƒ<a href="https://tommy88.gitee.io/2017/08/26/hexo-github-personal-blog/%E6%96%87%E7%AB%A0%E4%B8%AD%E7%9A%84%60%E5%B0%86%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E3%80%81%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AE%E5%A4%87%E4%BB%BD%E5%88%B0osc%60%E7%AB%A0%E8%8A%82%E3%80%82">https://tommy88.gitee.io/2017/08/26/hexo-github-personal-blog/æ–‡ç« ä¸­çš„`å°†åšå®¢æ–‡ç« ã€é…ç½®ä¸ä¸»é¢˜è®¾ç½®å¤‡ä»½åˆ°osc`ç« èŠ‚ã€‚</a></p><p>æ³¨æ„ï¼šå¦‚æœä¹‹å‰å¤‡ä»½è¿‡ï¼Œè¿™é‡Œç”±äºä¿®æ”¹äº†ä¸ªæ€§åœ°å€ï¼Œä¼šå¯¼è‡´ä»“åº“åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œæœ¬åœ°å†æ¬¡æ‰§è¡Œgit push origin masterå‘½ä»¤æ—¶ä¼šæç¤º</p><p>åˆ°åšå®¢æ ¹ç›®å½•ä¸‹çš„.gitæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€configæ–‡ä»¶ï¼Œä¿®æ”¹giteeåœ°å€</p><p>å°†urlä¿®æ”¹ä¸ºæœ€æ–°çš„åœ°å€</p><p>å†æ¬¡pushå°±æˆåŠŸäº†ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://www.freesion.com/article/438335824/">hexoåšå®¢ä»githubè¿ç§»åˆ°gitee - ç°ä¿¡ç½‘ï¼ˆè½¯ä»¶å¼€å‘åšå®¢èšåˆï¼‰ (freesion.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢è¿ç§» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰é¼ æ ‡æ ·å¼</title>
      <link href="/posts/dafc.html"/>
      <url>/posts/dafc.html</url>
      
        <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"><a href="#è‡ªå®šä¹‰é¼ æ ‡æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰é¼ æ ‡æ ·å¼"></a>è‡ªå®šä¹‰é¼ æ ‡æ ·å¼</h1><h2 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h2><ol><li><p>é¦–å…ˆå°†é¼ æ ‡æ ·å¼ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ¨èä¸€ä¸ª<a href="https://zhutix.com/ico/ori-cursors/">ç½‘ç«™</a>ï¼Œä¸‹è½½è‡ªå·±å–œæ¬¢çš„é¼ æ ‡æ ·å¼ï¼Œæ”¾åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„mediasç›®å½•ä¸‹</p></li><li><p>æ‰“å¼€<code>themes\matery\source\css</code>ä¸‹çš„<strong>my.css</strong>æ–‡ä»¶ï¼Œæ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">*</span><span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"/medias/imgs/zhengchang.ico"</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">:active</span><span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">"/medias/imgs/dianji.ico"</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">butterfly:åœ¨ /themes/butterfly/source/cssè·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªmouse.cssæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š body</span> <span class="token punctuation">&#123;</span>   <span class="token property">cursor</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur<span class="token punctuation">)</span></span><span class="token punctuation">,</span>         default<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token selector">a, img</span> <span class="token punctuation">&#123;</span>   <span class="token property">cursor</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur<span class="token punctuation">)</span></span><span class="token punctuation">,</span>         default<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>æ‰“å¼€ç«™ç‚¹ä¸»é¢˜é…ç½®æ–‡ä»¶_config.butterfly.ymlï¼Œæ‰¾åˆ°injectï¼Œåœ¨headå¤„ç›´æ¥å¼•å…¥è¯¥æ–‡ä»¶ï¼š<span class="token property">inject</span><span class="token punctuation">:</span><span class="token property">head</span><span class="token punctuation">:</span>- &lt;link rel=<span class="token string">"stylesheet"</span> href=<span class="token string">"/css/mouse.css"</span>><span class="token property">åŸæ–‡é“¾æ¥ï¼šhttps</span><span class="token punctuation">:</span>//blog.csdn.net/qq_60750453/article/details/124716738<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h2 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h2><p>æ·»åŠ åŒå¿ƒåœ†é¼ æ ‡æ ·å¼</p><ol><li><p>åœ¨<code>matery\source\js\</code>ä¸‹æ–°å»ºæ–‡ä»¶<code>cursor.js</code>ï¼Œç²˜è´´å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token constant">CURSOR</span><span class="token punctuation">;</span>Math<span class="token punctuation">.</span><span class="token function-variable function">lerp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> n<span class="token punctuation">)</span> <span class="token operator">*</span> a <span class="token operator">+</span> n <span class="token operator">*</span> b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token function-variable function">getStyle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> attr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> window<span class="token punctuation">.</span>getComputedStyle            <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">[</span>attr<span class="token punctuation">]</span>            <span class="token operator">:</span> el<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Cursor</span> <span class="token punctuation">&#123;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pos <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">curr</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token literal-property property">prev</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pt <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">move</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> top</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>left<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>top<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"cursor"</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pt <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*[style*="cursor:pointer"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=></span> el<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¯è‡ªè¡Œå®šä¹‰é¼ æ ‡çš„å°ºå¯¸å’Œé¢œè‰²ï¼Œæ”¯æŒRGBå†™æ³•å’Œè‹±æ–‡åç§°å†™æ³•ï¼Œå¦‚green</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>scr<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">* &#123;cursor: url("data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12px' height='12px'>&lt;circle cx='6' cy='6' r='6' opacity='1.0' fill='rgb(57, 197, 187)'/>&lt;/svg>") 6 6, auto&#125;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>scr<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"active"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pos <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">curr</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token literal-property property">prev</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pt <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pt<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pt<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>curr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>curr <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token number">8</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseleave'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"hidden"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousedown'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"active"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"active"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>curr<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>curr<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pos<span class="token punctuation">.</span>curr<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token constant">CURSOR</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token constant">CURSOR</span><span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨<code>themes\matery\source\css\my.css</code>ä¸­åŠ å…¥</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">#cursor</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>     <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>     <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>     <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>57<span class="token punctuation">,</span> 197<span class="token punctuation">,</span> 187<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* å¯ä¿®æ”¹é¢œè‰² */</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.25<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 10086<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> 0.2s ease-in-out<span class="token punctuation">;</span>    <span class="token property">transition-property</span><span class="token punctuation">:</span> background<span class="token punctuation">,</span> opacity<span class="token punctuation">,</span> transform<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.0<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* ä½¿ç”¨ transform æ”¾å¤§ 2.0 å€ */</span><span class="token punctuation">&#125;</span><span class="token selector">#cursor.hidden</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#cursor.hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.1<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-moz-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-o-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>2.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#cursor.active</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-moz-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-o-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨<code>themes\matery\layout\layout.ejs</code>ä¸­åŠ å…¥</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span><span class="token string">'/js/cursor.js'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>ç¡®ä¿åœ¨<code>themes\matery\_config.yml</code>çš„libsä¸­çš„csså’Œjsä¸­å¼•å…¥äº†<code>my.css</code>å’Œ<code>cursor.js</code></p></blockquote></li><li><p>ä½¿ç”¨hexo sæŸ¥çœ‹æ•ˆæœ</p></li></ol><h2 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><ul><li><a href="https://haosirl.gitee.io/2022/01/23/bo-ke-xiu-gai-shu-biao-yang-shi/">åšå®¢ä¿®æ”¹é¼ æ ‡æ ·å¼ | è±ªå…ˆç”Ÿåšå®¢ (gitee.io)</a></li><li><a href="https://javalog.cn/post/hexo-yalia-mouse-cursor.html">ç»™Hexoçš„Yiliaä¸»é¢˜å¢åŠ å¥½çœ‹çš„é¼ æ ‡æŒ‡é’ˆå›¾æ ‡ | JAVAæ—¥å¿— (javalog.cn)</a></li><li><a href="https://blog.csdn.net/qq_60750453/article/details/124716738">Hexoä¿®æ”¹é¼ æ ‡æ ·å¼_hexoå¥½çœ‹çš„å…‰æ ‡-CSDNåšå®¢</a></li><li><a href="https://www.fomal.cc/posts/9ac969bb.html">åˆ†ç±»: é­”æ”¹æ•™ç¨‹ | FomalhautğŸ¥</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¼ æ ‡æ ·å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¢¦å¹»èƒŒæ™¯</title>
      <link href="/posts/ede0.html"/>
      <url>/posts/ede0.html</url>
      
        <content type="html"><![CDATA[<h2 id="é¢„è§ˆæ•ˆæœ"><a href="#é¢„è§ˆæ•ˆæœ" class="headerlink" title="é¢„è§ˆæ•ˆæœ"></a>é¢„è§ˆæ•ˆæœ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402131725476.gif" alt="dreamland"></p><h2 id="åšæ–‡å†ç¨‹"><a href="#åšæ–‡å†ç¨‹" class="headerlink" title="åšæ–‡å†ç¨‹"></a>åšæ–‡å†ç¨‹</h2><p>è¯´å®è¯ï¼Œè¿™ç¯‡åšå®¢èƒ½å®Œæˆï¼Œæˆ‘æ·±æ„ŸæƒŠå–œï¼Œå› ä¸ºä¹‹å‰åœ¨è¿™ç¯‡<a href="https://blog.csdn.net/Zz_cheng/article/details/116719634">åšæ–‡</a>ï¼Œè§åˆ°äº†ä¸€ç§éå¸¸å¥½çœ‹çš„åŠ¨æ€èƒŒæ™¯ï¼Œæ— å¥ˆå› åŸåšæ–‡çš„å…³é”®ä»£ç å›¾ç‰‡é“¾æ¥å¤±æ•ˆäº†(canvas_moving.js)ï¼Œæ‰€ä»¥å½“æ—¶æ— æ³•åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šå®ç°ï¼Œå°½ç®¡æˆ‘åŠªåŠ›å°è¯•é€šè¿‡ç½‘ä¸Šæœå¯»è¯¥åšä¸»ç›¸å…³ä¿¡æ¯ï¼Œä¼å›¾é€šè¿‡è››ä¸é©¬è¿¹æ‰¾åˆ°ä¸€äº›æ®‹ç•™çš„çº¿ç´¢ï¼Œå¾ˆé—æ†¾æ²¡æœ‰æ‰¾åˆ°ã€‚</p><p>ç„¶è€Œæˆ‘å®åœ¨æ˜¯ä¸æ„¿æ„è½»æ˜“æ”¾å¼ƒè¿™ä¸ªåŠ¨æ€èƒŒæ™¯ï¼Œåœ¨ç½‘ç»œä¸Šå››å¤„æŸ¥æ‰¾ç±»ä¼¼æ•ˆæœçš„ç½‘ç«™æˆ–ç›¸å…³æ•™ç¨‹ï¼Œä½†æ˜¯ç»“æœå´ä¸å°½äººæ„ã€‚æŠ±ç€ç¢°è¿æ°”çš„å¿ƒæ€ï¼Œæˆ‘åé¢åˆé™†ç»­æ‰¾äº†ä¸€æ®µæ—¶é—´ï¼Œä½†æ˜¯ä¾æ—§æ— æœã€‚æœ¬ä»¥ä¸ºçœŸæ˜¯æœ‰ç¼˜æ— ä»½ï¼Œæ—¶éš”6ä¸ªæœˆï¼Œä»Šå¤©å´é€šè¿‡ä¸€ä¸ªä¹‹å‰å‘ç°è¿‡çš„åšå®¢ç½‘ç«™çš„ä¸€ä¸ªå‹é“¾æ‰¾åˆ°äº†ï¼š<a href="https://www.mobaijun.com/">æ¡†æ¶å¸« (mobaijun.com)</a>ï¼Œè¿™ä½å¤§ä½¬ä½¿ç”¨çš„æ­£æ˜¯è¿™ä¸ªèƒŒæ™¯ã€‚oh my godï¼Œæ¿€åŠ¨ä¹‹æƒ…æº¢äºè¨€è¡¨ï¼Œæœ‰ä¸€ç§æŸ³æš—èŠ±æ˜çš„æ„Ÿè§‰ã€‚</p><p>äºæ˜¯æˆ‘ç«‹é©¬è¿›å…¥è¿™ä½å¤§ä½¬çš„åšå®¢é‡Œè§‚æ‘©ä¸€ç•ªï¼Œå´æ²¡æœ‰æ‰¾åˆ°ç›¸å…³æ•™ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæ³¨æ„åˆ°è¿™ä½å¤§ä½¬çš„ç”³æ˜<code>â€œæœ¬ç«™ä¸æ¥å—ä»»ä½•çš„ä¸ªæ€§åŒ–éœ€æ±‚çš„æ±‚åŠ©ç±»å’¨è¯¢ï¼Œä»»ä½•æœ‰å…³ä¸ªæ€§åŒ–éœ€æ±‚çš„æ±‚åŠ©ç±»é—®é¢˜ä¸€å¾‹ä¸äºˆå›å¤ï¼Œè¯¸å¦‚â€œæ±‚â€¦èµ„æºâ€ç­‰é—®é¢˜â€</code>ï¼Œçœ‹æ¥æƒ³èµ°æ·å¾„æ˜¯ä¸å¯èƒ½äº†ï¼Œåªå¥½è‡ªå·±åŠ¨æ‰‹äº†â€”â€”F12å¯åŠ¨ï¼</p><p>äºæ˜¯æˆåŠŸå‘ç°äº†åšæ–‡æ‰€ç¼ºå¤±çš„å…³é”®éƒ¨åˆ†çš„æ ·å¼ä»£ç â€”â€”<a href="https://tencent.cos.mobaijun.com/libs/others/canva_moving_effect.js">canva_moving_effect.js</a></p><p>åŸä»£ç æœªæ ¼å¼åŒ–ï¼Œè¿™é‡Œç»™å‡ºæ ¼å¼åŒ–åçš„canvas_moving.jsä»£ç ï¼š<a id="canvas_moving.js"></a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> canvas <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#Dreamland"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        background <span class="token operator">=</span> canvas<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        foreground1 <span class="token operator">=</span> canvas<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        foreground2 <span class="token operator">=</span> canvas<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>                <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">157</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">207</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">0.3</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">line</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>                <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">0.3</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>            <span class="token literal-property property">angle</span><span class="token operator">:</span> <span class="token number">20</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>background<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> bctx <span class="token operator">=</span> background<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            fctx1 <span class="token operator">=</span> foreground1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            fctx2 <span class="token operator">=</span> foreground2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token constant">M</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>Math<span class="token punctuation">,</span>            degree <span class="token operator">=</span> config<span class="token punctuation">.</span>angle <span class="token operator">/</span> <span class="token number">360</span> <span class="token operator">*</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>            circles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            wWidth<span class="token punctuation">,</span>            wHeight<span class="token punctuation">,</span>            timer<span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">setCanvasHeight</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            wWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            wHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> wWidth<span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> wHeight<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">drawCircle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> color<span class="token punctuation">,</span> alpha</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> gradient <span class="token operator">=</span> fctx1<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgba("</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> alpha <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"rgba("</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token punctuation">(</span>alpha <span class="token operator">-</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx1<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx1<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx1<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>            fctx1<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">drawLine</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> color<span class="token punctuation">,</span> alpha</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> endX <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>degree<span class="token punctuation">)</span> <span class="token operator">*</span> width<span class="token punctuation">,</span>                endY <span class="token operator">=</span> y <span class="token operator">-</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>degree<span class="token punctuation">)</span> <span class="token operator">*</span> width<span class="token punctuation">,</span>                gradient <span class="token operator">=</span> fctx2<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> endX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgba("</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> alpha <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"rgba("</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token punctuation">(</span>alpha <span class="token operator">-</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>endX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">"round"</span><span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> gradient<span class="token punctuation">;</span>            fctx2<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">drawBack</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            bctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> gradient <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> bctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span>wWidth <span class="token operator">*</span> <span class="token number">0.3</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth <span class="token operator">*</span> <span class="token number">0.3</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> wWidth <span class="token operator">*</span> <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgb(118,128,128)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"transparent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>wWidth<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> bctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span>wWidth <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth <span class="token operator">*</span> <span class="token number">0.3</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgb(0, 150, 240)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token string">"transparent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>wWidth<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> bctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span>wWidth <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> wHeight <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">,</span> wWidth <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgb(40, 20, 105)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            gradient<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"transparent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> gradient<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            bctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">animate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> sin <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>degree<span class="token punctuation">)</span><span class="token punctuation">,</span>                cos <span class="token operator">=</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>degree<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>amount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>layer <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                fctx1<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> circles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> item <span class="token operator">=</span> circles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>                        x <span class="token operator">=</span> item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>                        y <span class="token operator">=</span> item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>                        radius <span class="token operator">=</span> item<span class="token punctuation">.</span>radius<span class="token punctuation">,</span>                        speed <span class="token operator">=</span> item<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> wWidth <span class="token operator">+</span> radius<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">=</span> <span class="token operator">-</span>radius<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token operator">-</span>radius<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">=</span> wWidth <span class="token operator">+</span> radius<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">+=</span> sin <span class="token operator">*</span> speed<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">></span> wHeight <span class="token operator">+</span> radius<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">=</span> <span class="token operator">-</span>radius<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token operator">-</span>radius<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">=</span> wHeight <span class="token operator">+</span> radius<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">-=</span> cos <span class="token operator">*</span> speed<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    item<span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>                    item<span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>                    <span class="token function">drawCircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> radius<span class="token punctuation">,</span> item<span class="token punctuation">.</span>color<span class="token punctuation">,</span> item<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>amount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>layer <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                fctx2<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wWidth<span class="token punctuation">,</span> wHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> item <span class="token operator">=</span> lines<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>                        x <span class="token operator">=</span> item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>                        y <span class="token operator">=</span> item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>                        width <span class="token operator">=</span> item<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                        speed <span class="token operator">=</span> item<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> wWidth <span class="token operator">+</span> width <span class="token operator">*</span> sin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">=</span> <span class="token operator">-</span>width <span class="token operator">*</span> sin<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token operator">-</span>width <span class="token operator">*</span> sin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">=</span> wWidth <span class="token operator">+</span> width <span class="token operator">*</span> sin<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        x <span class="token operator">+=</span> sin <span class="token operator">*</span> speed<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">></span> wHeight <span class="token operator">+</span> width <span class="token operator">*</span> cos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">=</span> <span class="token operator">-</span>width <span class="token operator">*</span> cos<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token operator">-</span>width <span class="token operator">*</span> cos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">=</span> wHeight <span class="token operator">+</span> width <span class="token operator">*</span> cos<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        y <span class="token operator">-=</span> cos <span class="token operator">*</span> speed<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    item<span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>                    item<span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>                    <span class="token function">drawLine</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> item<span class="token punctuation">.</span>color<span class="token punctuation">,</span> item<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            timer <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> <span class="token function-variable function">createItem</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            circles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>amount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>layer <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>amount <span class="token operator">/</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>layer<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>layer<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        circles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                            <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> wWidth<span class="token punctuation">,</span>                            <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> wHeight<span class="token punctuation">,</span>                            <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token literal-property property">color</span><span class="token operator">:</span> config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>color<span class="token punctuation">,</span>                            <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>circle<span class="token punctuation">.</span>alpha <span class="token operator">-</span> j <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token literal-property property">speed</span><span class="token operator">:</span> config<span class="token punctuation">.</span>speed <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> j <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>amount <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>layer <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> m <span class="token operator">&lt;</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>amount <span class="token operator">/</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>layer<span class="token punctuation">;</span> m<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>layer<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        lines<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                            <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> wWidth<span class="token punctuation">,</span>                            <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> wHeight<span class="token punctuation">,</span>                            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">+</span> n <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">20</span> <span class="token operator">+</span> n <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token literal-property property">color</span><span class="token operator">:</span> config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>color<span class="token punctuation">,</span>                            <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>line<span class="token punctuation">.</span>alpha <span class="token operator">-</span> n <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token literal-property property">speed</span><span class="token operator">:</span> config<span class="token punctuation">.</span>speed <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> n <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>            timer <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">drawBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">setCanvasHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">createItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">setCanvasHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">createItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è®¾ç½®æ­¥éª¤"><a href="#è®¾ç½®æ­¥éª¤" class="headerlink" title="è®¾ç½®æ­¥éª¤"></a>è®¾ç½®æ­¥éª¤</h2><h3 id="layout-ejs"><a href="#layout-ejs" class="headerlink" title="layout.ejs"></a>layout.ejs</h3><p>ä½¿ç”¨html5çš„canvasï¼Œé…åˆjQueryåº“å®ç°ï¼Œå®ç°ä»£ç ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!--åŠ¨æ€èƒŒæ™¯--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Dreamland<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/canvas_moving.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>/themes/matery/layout/layout.ejs</code>æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸Šä»£ç ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸€å®šè¦äº‹å…ˆæŸ¥çœ‹æ˜¯å¦å¼•å…¥<strong>jQueryä¾èµ–</strong>ï¼Œä¸€å®šè¦æœ‰ï¼ï¼ï¼</p><p>è¦æ£€æŸ¥æ˜¯å¦å¼•å…¥äº†jQueryä¾èµ–ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š</p><ol><li><p><strong>æŸ¥çœ‹é¡µé¢æºä»£ç </strong>ï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä½ æƒ³è¦æ£€æŸ¥çš„é¡µé¢ï¼Œç„¶åå³é”®ç‚¹å‡»é¡µé¢ä¸Šçš„ç©ºç™½åŒºåŸŸï¼Œé€‰æ‹©â€œæŸ¥çœ‹é¡µé¢æºä»£ç â€æˆ–è€…â€œæ£€æŸ¥å…ƒç´ â€ã€‚åœ¨æºä»£ç ä¸­æœç´¢å…³é”®è¯â€œjQueryâ€æˆ–è€…â€œ$â€ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ç›¸å…³çš„å¼•å…¥è¯­å¥ã€‚</p></li><li><p><strong>æ£€æŸ¥é¡µé¢åŠ è½½çš„èµ„æº</strong>ï¼šåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨å¼€å‘è€…å·¥å…·ï¼ˆé€šå¸¸é€šè¿‡æŒ‰ä¸‹F12é”®æˆ–å³é”®ç‚¹å‡»é¡µé¢å¹¶é€‰æ‹©â€œæ£€æŸ¥â€æ¥æ‰“å¼€ï¼‰æŸ¥çœ‹é¡µé¢åŠ è½½çš„èµ„æºã€‚åœ¨ç½‘ç»œé€‰é¡¹å¡ä¸­ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢åŠ è½½çš„æ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬JavaScriptæ–‡ä»¶ã€‚æ£€æŸ¥æ˜¯å¦æœ‰åä¸ºâ€œjQueryâ€çš„JavaScriptæ–‡ä»¶åŠ è½½ã€‚</p></li><li><p><strong>æŸ¥çœ‹é¡µé¢çš„JavaScriptä»£ç </strong>ï¼šåœ¨æºä»£ç æˆ–è€…å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹é¡µé¢çš„JavaScriptä»£ç ï¼ŒæŸ¥æ‰¾æ˜¯å¦æœ‰ä½¿ç”¨â€œ$â€æˆ–â€œjQueryâ€å…³é”®å­—çš„åœ°æ–¹ã€‚å¦‚æœæœ‰ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯å¼•å…¥äº†jQueryä¾èµ–ã€‚</p></li><li><p><strong>æŸ¥çœ‹HTMLä¸­çš„scriptæ ‡ç­¾</strong>ï¼šæŸ¥çœ‹HTMLä»£ç ä¸­çš„scriptæ ‡ç­¾ï¼Œçœ‹æ˜¯å¦æœ‰å¼•å…¥jQueryçš„CDNé“¾æ¥æˆ–è€…æœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚</p></li><li><p><strong>æŸ¥çœ‹ç«™ç‚¹é…ç½®æ–‡ä»¶</strong>ï¼šå¦‚æœæ˜¯é€šè¿‡Hexoæˆ–è€…å…¶ä»–é™æ€ç½‘ç«™ç”Ÿæˆå™¨æ„å»ºçš„ç«™ç‚¹ï¼Œå¯ä»¥æŸ¥çœ‹ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸åœ¨æ ¹ç›®å½•ä¸‹çš„_config.ymlæˆ–è€…_config.jsæ–‡ä»¶ä¸­ï¼ŒæŸ¥æ‰¾æ˜¯å¦æœ‰å¼•å…¥jQueryçš„é…ç½®é¡¹ã€‚</p></li></ol><p>é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œä½ åº”è¯¥èƒ½å¤Ÿç¡®å®šæ˜¯å¦åœ¨é¡µé¢ä¸­å¼•å…¥äº†jQueryä¾èµ–ã€‚</p></blockquote><h3 id="matery-css"><a href="#matery-css" class="headerlink" title="matery.css"></a>matery.css</h3><p>åœ¨<code>themes/matery/source/css/matery.css</code>æœ€åæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/*åŠ¨æ€èƒŒæ™¯*/</span><span class="token selector">#Dreamland</span> <span class="token punctuation">&#123;</span><span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">#Dreamland canvas</span> <span class="token punctuation">&#123;</span><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="canvas-moving-js"><a href="#canvas-moving-js" class="headerlink" title="canvas_moving.js"></a>canvas_moving.js</h3><p>åœ¨<code>themes\hexo-theme-matery\source\js</code>ä¸‹æ–°å»º<code>canvas_moving.js</code>æ–‡ä»¶ï¼Œæ·»åŠ <a href="#canvas_moving.js">å‰é¢çš„ä»£ç </a></p><p>æœ€åæ‰§è¡Œ<code>hexo cl &amp;&amp; hexo g &amp;&amp; hexo s</code> ä¸€é”®è¿›è¡Œæœ¬åœ°æŸ¥çœ‹æ•ˆæœï¼Œä¿®æ”¹æ— è¯¯åä½¿ç”¨<code>hexo d</code>è¿›è¡Œéƒ¨ç½²ã€‚</p><h2 id="å‚è€ƒåšæ–‡"><a href="#å‚è€ƒåšæ–‡" class="headerlink" title="å‚è€ƒåšæ–‡"></a>å‚è€ƒåšæ–‡</h2><ul><li><a href="https://blog.csdn.net/Zz_cheng/article/details/116719634">2021 hexo materyä¸»é¢˜ä¸ªæ€§é­”æ”¹_hexoä¸»é¢˜é›ªèŠ±é£˜è½-CSDNåšå®¢</a></li><li><a href="https://www.mobaijun.com/">æ¡†æ¶å¸« (mobaijun.com)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èƒŒæ™¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾</title>
      <link href="/posts/5d3a.html"/>
      <url>/posts/5d3a.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> è§†é¢‘ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mdæ ¼å¼ä¼˜åŒ–</title>
      <link href="/posts/2eb3.html"/>
      <url>/posts/2eb3.html</url>
      
        <content type="html"><![CDATA[<h1 id="mdæ ·å¼ä¿®æ”¹"><a href="#mdæ ·å¼ä¿®æ”¹" class="headerlink" title="mdæ ·å¼ä¿®æ”¹"></a>mdæ ·å¼ä¿®æ”¹</h1><h2 id="èƒŒæ™¯ä¿®æ”¹"><a href="#èƒŒæ™¯ä¿®æ”¹" class="headerlink" title="èƒŒæ™¯ä¿®æ”¹"></a>èƒŒæ™¯ä¿®æ”¹</h2><p>åŸä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #eaeaea<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #34495e<span class="token punctuation">;</span>    <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼˜åŒ–</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #eaeaea<span class="token punctuation">;</span><span class="token comment">/* èƒŒæ™¯é¢œè‰² */</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>   <span class="token comment">/* è¾¹è· */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #34495e<span class="token punctuation">;</span>      <span class="token comment">/* æ–‡å­—é¢œè‰² */</span>    <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>        <span class="token comment">/* background: linear-gradient(60deg, #3ab5b0 0%, #3d99be 31%, #56317a 100%); */</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>123deg<span class="token punctuation">,</span> #eec7ee 0%<span class="token punctuation">,</span> #90e2ea 50%<span class="token punctuation">,</span> #c1f7b3 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* æ¸å˜èƒŒæ™¯è‰² */</span>    <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼˜åŒ–åçš„ä»£ç ä¸»è¦åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œäº†æ”¹è¿›ï¼š</p><ol><li><p>æ·»åŠ äº†æ³¨é‡Šï¼Œä½¿ä»£ç æ›´å…·å¯è¯»æ€§ã€‚</p></li><li><p><strong>æ¸å˜èƒŒæ™¯ï¼š</strong></p><ul><li>å¼•å…¥äº†æ¸å˜èƒŒæ™¯ï¼Œé€šè¿‡<code>linear-gradient</code>å±æ€§åˆ›å»ºä¸€ä¸ªé¢œè‰²æ¸å˜æ•ˆæœï¼Œä½¿é¡µé¢èƒŒæ™¯æ›´å…·è§†è§‰å¸å¼•åŠ›ã€‚</li><li>ä½¿ç”¨äº†æ›´ç”ŸåŠ¨å’Œæ­é…çš„é¢œè‰²ï¼Œå¢å¼ºäº†é¡µé¢çš„æ•´ä½“ç¾æ„Ÿã€‚</li></ul></li><li><p><strong>èƒŒæ™¯é™„ç€å’Œå°ºå¯¸ï¼š</strong></p><ul><li>æ·»åŠ äº†<code>background-attachment: fixed;</code>å±æ€§ï¼Œä½¿èƒŒæ™¯å›ºå®šåœ¨è§†å£ä¸­ï¼Œè€Œä¸éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ã€‚</li><li>è®¾ç½®äº†<code>background-size: cover;</code>ï¼Œç¡®ä¿èƒŒæ™¯å›¾ç‰‡å§‹ç»ˆè¦†ç›–æ•´ä¸ªè§†å£ï¼Œä¸ä¼šå‡ºç°ä¸å®Œæ•´æˆ–æ‹‰ä¼¸çš„æƒ…å†µã€‚</li></ul></li></ol><h2 id="æ ‡é¢˜ä¼˜åŒ–"><a href="#æ ‡é¢˜ä¼˜åŒ–" class="headerlink" title="æ ‡é¢˜ä¼˜åŒ–"></a>æ ‡é¢˜ä¼˜åŒ–</h2><p>åŸæ ‡é¢˜åªæœ‰ä¸€ç§é¢œè‰²ï¼Œåœ¨æ–‡ç« é‡Œæ²¡æœ‰åŒºåˆ†åº¦ï¼Œæ‰€ä»¥å†³å®šå¯¹æ ‡ç­¾é¢œè‰²è¿›è¡Œä¿®æ”¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402051945970.png" alt="ä¿®æ”¹å‰"></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402051941232.png" alt="ä¿®æ”¹å"></p><p>åŸä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 48px 0 22px -5px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 2.0rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 2.0rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h2</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 42px 0 18px -5px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h3</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 38px 0 15px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.6rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.7rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h4</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 32px 0 12px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.45rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.45rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h5</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 28px 0 8px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h6</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 22px 0 4px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼˜åŒ–ä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* æ ‡é¢˜1æ ·å¼ */</span><span class="token selector">h1</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 48px 0 22px -5px<span class="token punctuation">;</span>       <span class="token comment">/* ä¸Šã€ä¸‹ã€å·¦è¾¹è· */</span>    <span class="token comment">/*font-size: 2.0rem;*/</span>              <span class="token comment">/* å­—ä½“å¤§å° */</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 2.2rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>              <span class="token comment">/* å­—ä½“ç²—ç»† */</span>    <span class="token comment">/*line-height: 2.0rem;*/</span>            <span class="token comment">/* è¡Œé«˜ */</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 2.2rem<span class="token punctuation">;</span>    <span class="token comment">/* color: #42b983 !important; */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #7fbaf1 <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>             <span class="token comment">/* æ–°å¢å±…ä¸­æ ·å¼ */</span><span class="token punctuation">&#125;</span><span class="token comment">/* æ ‡é¢˜2æ ·å¼ */</span><span class="token selector">h2</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 42px 0 18px -5px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #42b983 <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* æ ‡é¢˜3æ ·å¼ */</span><span class="token selector">h3</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 38px 0 15px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token comment">/* color: #42b983 !important; */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #9b59b6 <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* æ ‡é¢˜4æ ·å¼ */</span><span class="token selector">h4</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 32px 0 12px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>    <span class="token comment">/* color: #42b983 !important; */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ff5733 <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* æ ‡é¢˜5æ ·å¼ */</span><span class="token selector">h5</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 28px 0 8px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span>    <span class="token comment">/* color: #42b983 !important; */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #9b59b6 <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* æ ‡é¢˜6æ ·å¼ */</span><span class="token selector">h6</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 22px 0 4px -4px<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.1rem<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>    <span class="token comment">/* color: #b94252 !important; */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #e74c3c <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹è¯´æ˜ï¼š</p><ol><li><p>ä¿®æ”¹äº†å­—ä½“å¤§å°å’Œè¡Œé«˜ï¼Œä½¿æ ‡é¢˜é—´æ›´å…·åŒºåˆ†åº¦</p></li><li><p>ä¿®æ”¹è‡ªå®šä¹‰é¢œè‰²ï¼Œä½¿æ¯çº§æ ‡é¢˜å…·æœ‰ä¸åŒçš„é¢œè‰²ï¼Œæ‰©å¤§åŒºåˆ†åº¦ã€‚åšä¸»ä¸æ˜¯å¾ˆæ‡‚é¢œè‰²æ­é…ï¼Œå¦‚æœæœ‰å…¶ä»–æ›´èˆ’é€‚çš„é¢œè‰²é…ç½®å¯ä»¥åœ¨ä¸‹é¢ç•™è¨€æ¡†ç•™è¨€(âŠ™oâŠ™)å“¦</p></li><li><p>æ–°å¢æ ‡é¢˜å±…ä¸­ï¼š<code>text-align: center;</code><br>è¿™é‡Œæˆ‘åªè®¾ç½®äº†äºŒçº§æ ‡é¢˜å±…ä¸­ï¼Œæœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡Œè®¾ç½®å…¶ä»–å±…ä¸­ï¼Œè¿™é‡Œæˆ‘ç»™å‡ºæ‰€æœ‰æ ‡é¢˜å±…ä¸­çš„è®¾ç½®ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">h1, h2, h3, h4, h5, h6</span> <span class="token punctuation">&#123;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœåªæ˜¯è®¾ç½®æŸä¸€çº§æ ‡é¢˜å±…ä¸­ï¼Œå¯ä»¥åªåœ¨è¯¥çº§æ ‡é¢˜ä¸­æ’å…¥<code>text-align: center;</code></p></li></ol><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><p>åˆ†å‰²çº¿æ ·å¼ä»£ç åœ¨è¿™ï¼Œä¼™ä¼´ä»¬å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* åˆ†å‰²çº¿æ ·å¼ */</span><span class="token selector">hr</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 20px 0<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘å¯¹åˆ†å‰²çº¿æ²¡åšä¿®æ”¹ï¼Œåªæ˜¯åœ¨äºŒçº§æ ‡é¢˜ä¸‹æ·»åŠ äº†åˆ†å‰²çº¿ï¼Œæ¯•ç«Ÿæ²¡æœ‰åˆ†å‰²çº¿çš„æ ·å¼çœ‹ç€çœŸå®éš¾å—ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402051926475.png" alt="æ— åˆ†å‰²çº¿"></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402051928326.png" alt="æœ‰åˆ†å‰²çº¿"></p><p>ä¸çŸ¥é“å…„å¼Ÿä»¬è§‰å¾—å“ªä¸ªæ›´å¥½çœ‹ï¼Œä¸è¿‡æˆ‘è§‰å¾—è¿˜æ˜¯æœ‰åˆ†å‰²çº¿æ›´æœ‰æ¡ç†ä¸€äº›ã€‚èåœç™½èœå„æœ‰æ‰€çˆ±å˜›O(âˆ©_âˆ©)O~</p><p>è¦åœ¨æ ‡é¢˜ä¸‹æ·»åŠ åˆ†å‰²çº¿åªéœ€æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">h1::after,h2::after,h3::after,h4::after,h5::after,h6::after</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span> <span class="token comment">/* åˆ†å‰²çº¿çš„é¢œè‰² */</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>    <span class="token comment">/* è°ƒæ•´åˆ†å‰²çº¿ä¸æ ‡é¢˜ä¹‹é—´çš„å‚ç›´é—´è· */</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ç»™æ‰€æœ‰æ ‡é¢˜ä¸‹éƒ½æ·»åŠ åˆ†å‰²çº¿ï¼Œåšä¸»è§‰å¾—ç»™æ‰€æœ‰æ ‡é¢˜æ·»åŠ å¹¶ä¸ç¾è§‚ï¼Œæ‰€ä»¥åªç»™äºŒçº§æ ‡é¢˜ä¸‹æ·»åŠ äº†ã€‚</p><h2 id="å¼•ç”¨å—"><a href="#å¼•ç”¨å—" class="headerlink" title="å¼•ç”¨å—"></a>å¼•ç”¨å—</h2><p>åŸä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">blockquote</span> <span class="token punctuation">&#123;</span>    <span class="token property">border-left</span><span class="token punctuation">:</span> 5px solid #42b983<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 1rem 0.8rem 0.2rem 0.8rem<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>66<span class="token punctuation">,</span> 185<span class="token punctuation">,</span> 131<span class="token punctuation">,</span> .1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402051954660.png" alt="ä¿®æ”¹å‰"></p><p>åŸæ¥çš„æ ·å¼æ˜¯å°–è§’ï¼ŒåŒæ—¶æˆ‘æ„Ÿè§‰è¾¹è·ä¸æ˜¯å¾ˆåˆé€‚ï¼Œæ‰€ä»¥ä¿®æ”¹äº†è¿™ä¸¤å¤„æ ·å¼ï¼š</p><ul><li>ä¿®æ”¹è¾¹è·</li><li>è¾¹æ¡†æ”¹ä¸ºåœ†è§’</li></ul><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* å¼•ç”¨å—æ ·å¼ */</span><span class="token selector">blockquote</span> <span class="token punctuation">&#123;</span>    <span class="token property">border-left</span><span class="token punctuation">:</span> 5px solid #42b983<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem 0.8rem 0.3rem 0.8rem<span class="token punctuation">;</span>   <span class="token comment">/* ä¸Šã€å³ã€ä¸‹ã€å·¦è¾¹è· */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>66<span class="token punctuation">,</span> 185<span class="token punctuation">,</span> 131<span class="token punctuation">,</span> .1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px 10px 10px 5px<span class="token punctuation">;</span>   <span class="token comment">/*æ·»åŠ åœ†è§’*/</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402052035722.png" alt="ä¿®æ”¹å"></p><h2 id="è¡Œå†…ä»£ç "><a href="#è¡Œå†…ä»£ç " class="headerlink" title="è¡Œå†…ä»£ç "></a>è¡Œå†…ä»£ç </h2><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">code</span> <span class="token punctuation">&#123;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 1px 5px<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 13px <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> Inconsolata<span class="token punctuation">,</span> Monaco<span class="token punctuation">,</span> Consolas<span class="token punctuation">,</span> <span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 0.91rem<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #e96900<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402052042846.png" alt="ä¿®æ”¹å‰"></p><p>åŸæ ¼å¼çœ‹èµ·æ¥ä¸å¤Ÿæ¸…æ™°ï¼Œæ‰€ä»¥æˆ‘ä¿®æ”¹äº†ä¸€ä¸‹é¢œè‰²ï¼Œè¿™æ ·çœ‹èµ·æ¥æ›´æ¸…æ™°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402052048298.png" alt="ä¼˜åŒ–å"></p><p>ä¼˜åŒ–ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* è¡Œå†…ä»£ç æ ·å¼ä¼˜åŒ– */</span><span class="token selector">code</span> <span class="token punctuation">&#123;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 1px 5px<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 13px <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> Inconsolata<span class="token punctuation">,</span> Monaco<span class="token punctuation">,</span> Consolas<span class="token punctuation">,</span> <span class="token string">'Courier New'</span><span class="token punctuation">,</span> Courier<span class="token punctuation">,</span> monospace<span class="token punctuation">;</span>    <span class="token property">word-break</span><span class="token punctuation">:</span> break-word<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 2.1rem<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> .2rem .6rem<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #E66161<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #FF6A6A22<span class="token punctuation">;</span>    <span class="token comment">/* F12 æŸ¥çœ‹cssç¡®å®å¥½ç”¨ */</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é€‰ä¸­"><a href="#é€‰ä¸­" class="headerlink" title="é€‰ä¸­"></a>é€‰ä¸­</h2><p>é»˜è®¤çš„é€‰ä¸­æ˜¯æ·±è“è‰²èƒŒæ™¯ï¼Œç™½è‰²å­—ä½“ï¼ˆå‡ ä¹æ‰€æœ‰ç½‘ç«™çš„é»˜è®¤æ ·å¼ï¼‰ï¼Œåšä¸»è§‰å¾—æœ‰äº›å®¡ç¾ç–²åŠ³äº†ï¼Œä¸ºäº†å’Œåšå®¢çš„åº•è‰²æ›´æ­ï¼Œæ‰€ä»¥æˆ‘å†³å®šä¿®æ”¹ä¸€ä¸‹é€‰ä¸­æ ·å¼ã€‚</p><p>åªéœ€åœ¨åšå®¢çš„ä¸»è¦cssæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯ï¼ˆmateryä¸»é¢˜æ˜¯<code>matery.css</code>ï¼‰</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">::selection</span> <span class="token punctuation">&#123;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #97e262<span class="token punctuation">;</span>  <span class="token comment">/* è®¾ç½®é€‰ä¸­æ–‡æœ¬çš„èƒŒæ™¯è‰² */</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ffffff<span class="token punctuation">;</span><span class="token comment">/* è®¾ç½®é€‰ä¸­æ–‡æœ¬çš„æ–‡æœ¬é¢œè‰² */</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402052229232.png" alt="é€‰ä¸­æ•ˆæœ"></p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li><p><code>padding-bottom: 10px;</code> è¡¨ç¤ºåœ¨å…ƒç´ çš„åº•éƒ¨ï¼ˆä¸‹è¾¹ç¼˜ï¼‰è®¾ç½®å†…è¾¹è·ï¼Œå³åœ¨å…ƒç´ çš„å†…å®¹åŒºåŸŸå’Œå…¶è¾¹æ¡†ä¹‹é—´æ·»åŠ é¢å¤–çš„ç©ºé—´ï¼Œé«˜åº¦ä¸º 10 åƒç´ ã€‚å…·ä½“è€Œè¨€ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸ºå®ƒåº”ç”¨äº† <code>padding-bottom: 10px;</code>ï¼Œé‚£ä¹ˆå…ƒç´ çš„åº•éƒ¨å°†æœ‰ 10 åƒç´ çš„ç©ºç™½åŒºåŸŸã€‚è¿™å¯ä»¥ç”¨æ¥è°ƒæ•´å…ƒç´ å†…éƒ¨å†…å®¹å’Œè¾¹æ¡†ä¹‹é—´çš„è·ç¦»ï¼Œæˆ–è€…åœ¨å¸ƒå±€ä¸­ä¸ºå…ƒç´ ç•™å‡ºä¸€äº›ç©ºé—´ã€‚</p></li><li><p><code>border-radius: 5px 10px 10px 5px;</code> æ˜¯ CSS ä¸­è®¾ç½®åœ†è§’è¾¹æ¡†çš„å±æ€§ï¼Œå®ƒå®šä¹‰äº†å››ä¸ªåœ†è§’çš„åŠå¾„ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œè¿™ä¸ªå±æ€§å€¼çš„å«ä¹‰æ˜¯æŒ‰ç…§é¡ºæ—¶é’ˆæ–¹å‘ï¼Œåˆ†åˆ«å¯¹åº”å·¦ä¸Šã€å³ä¸Šã€å³ä¸‹ã€å·¦ä¸‹å››ä¸ªè§’çš„åŠå¾„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p><ul><li>å·¦ä¸Šè§’ï¼š5px</li><li>å³ä¸Šè§’ï¼š10px</li><li>å³ä¸‹è§’ï¼š10px</li><li>å·¦ä¸‹è§’ï¼š5px</li></ul><p>è¿™æ ·è®¾ç½®çš„æ•ˆæœæ˜¯ï¼Œå…ƒç´ çš„å·¦ä¸Šè§’å’Œå·¦ä¸‹è§’çš„åœ†è§’åŠå¾„ä¸º 5pxï¼Œè€Œå³ä¸Šè§’å’Œå³ä¸‹è§’çš„åœ†è§’åŠå¾„ä¸º 10pxã€‚è¿™ç§æ–¹å¼å…è®¸ä½ ä¸ºæ¯ä¸ªè§’æŒ‡å®šä¸åŒçš„åœ†è§’åŠå¾„ï¼Œä»¥åˆ›å»ºå„ç§ä¸åŒå½¢çŠ¶çš„åœ†è§’ã€‚</p></li><li><p>è¿™æ®µä»£ç æ˜¯ä¸ºå…ƒç´ æ·»åŠ é˜´å½±æ•ˆæœçš„ CSS æ ·å¼ã€‚åœ¨è¿™é‡Œï¼Œä½¿ç”¨äº†ä¸¤ä¸ªå±æ€§ <code>-webkit-box-shadow</code> å’Œ <code>box-shadow</code>ï¼Œåˆ†åˆ«æ˜¯é’ˆå¯¹ WebKit æµè§ˆå™¨å’Œå…¶ä»–æµè§ˆå™¨çš„æ ‡å‡†ã€‚</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 20px 0 #ffbd2e<span class="token punctuation">,</span> 40px 0 #27c93f<span class="token punctuation">;</span><span class="token property">box-shadow</span><span class="token punctuation">:</span> 20px 0 #ffbd2e<span class="token punctuation">,</span> 40px 0 #27c93f<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è§£æï¼š</p><ul><li><code>-webkit-box-shadow</code> æ˜¯ WebKit æµè§ˆå™¨ä¸“æœ‰çš„å±æ€§ï¼Œç”¨äºè®¾ç½®å…ƒç´ çš„é˜´å½±æ•ˆæœã€‚</li><li><code>box-shadow</code> æ˜¯æ ‡å‡† CSS å±æ€§ï¼Œæ”¯æŒå¤§å¤šæ•°ç°ä»£æµè§ˆå™¨ï¼Œä¹Ÿç”¨äºè®¾ç½®å…ƒç´ çš„é˜´å½±æ•ˆæœã€‚</li></ul><p>ä¸¤è€…éƒ½æ¥å—å¤šä¸ªå‚æ•°ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>20px 0 #ffbd2e</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªé˜´å½±ï¼Œæ°´å¹³åç§»ä¸º 20pxï¼Œå‚ç›´åç§»ä¸º 0ï¼Œé¢œè‰²ä¸º #ffbd2eã€‚</li><li><code>40px 0 #27c93f</code> è¡¨ç¤ºç¬¬äºŒä¸ªé˜´å½±ï¼Œæ°´å¹³åç§»ä¸º 40pxï¼Œå‚ç›´åç§»ä¸º 0ï¼Œé¢œè‰²ä¸º #27c93fã€‚</li></ul><p>è¿™æ ·çš„è®¾ç½®ä¼šåœ¨å…ƒç´ çš„å³ä¾§äº§ç”Ÿä¸¤ä¸ªé˜´å½±ï¼Œä¸€ä¸ªåç§» 20pxï¼Œå¦ä¸€ä¸ªåç§» 40pxï¼Œåˆ†åˆ«ç”¨ä¸åŒçš„é¢œè‰²è¡¨ç¤ºã€‚è¿™ç§æ•ˆæœå¸¸ç”¨äºåˆ¶ä½œç«‹ä½“æ„Ÿï¼Œä½¿å…ƒç´ çœ‹èµ·æ¥æœ‰ç«‹ä½“çš„æŠ•å½±ã€‚</p></li><li><p>è¿™æ®µä»£ç ä½¿ç”¨äº† <code>-webkit-filter</code> å±æ€§ï¼Œè¯¥å±æ€§ç”¨äºå¯¹å…ƒç´ åº”ç”¨å›¾åƒæ»¤é•œæ•ˆæœã€‚åœ¨è¿™é‡Œä½¿ç”¨äº† <code>invert(50%)</code>ï¼Œè¡¨ç¤ºå°†å…ƒç´ ä¸­çš„é¢œè‰²åè½¬ï¼ˆå³åç›¸ï¼‰ä¸€åŠã€‚</p><p>è§£æï¼š</p><ul><li><code>-webkit-filter</code> æ˜¯ WebKit æµè§ˆå™¨ä¸“æœ‰çš„å±æ€§ï¼Œç”¨äºåº”ç”¨å›¾åƒæ»¤é•œæ•ˆæœã€‚</li><li><code>invert(50%)</code> æ˜¯æ»¤é•œæ•ˆæœä¸­çš„ä¸€ç§ï¼Œå®ƒå°†å…ƒç´ çš„é¢œè‰²åè½¬ã€‚æ‹¬å·ä¸­çš„å‚æ•° <code>50%</code> è¡¨ç¤ºåè½¬ä¸€åŠçš„é¢œè‰²ï¼Œå³ä½¿å¾—å…ƒç´ å‘ˆç°ä¸€ç§åŠåè½¬çš„æ•ˆæœã€‚</li></ul><p>å…·ä½“æ•ˆæœæ˜¯å°†å…ƒç´ çš„äº®åº¦å’Œé¢œè‰²åè½¬ä¸€åŠï¼Œä½¿å¾—åŸæœ¬çš„é¢œè‰²å˜å¾—æ›´æµ…æˆ–æ›´æ·±ï¼Œä»¥è¾¾åˆ°åè½¬æ•ˆæœã€‚è¿™æ ·çš„æ»¤é•œæ•ˆæœå¸¸ç”¨äºè°ƒæ•´å›¾åƒé¢œè‰²ï¼Œæˆ–è€…åœ¨ç‰¹å®šåœºæ™¯ä¸‹å®ç°è§†è§‰æ•ˆæœçš„éœ€æ±‚ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ»¤é•œæ•ˆæœçš„å…¼å®¹æ€§å¯èƒ½å› æµè§ˆå™¨è€Œå¼‚ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶åº”è¯¥è°¨æ…è€ƒè™‘æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µã€‚</p></li><li><p>è¿™æ®µä»£ç æ˜¯ç”¨äºç¦æ­¢ç”¨æˆ·é€‰æ‹©ï¼ˆæ–‡æœ¬é€‰ä¸­ï¼‰çš„ CSS æ ·å¼ã€‚ä¸åŒæµè§ˆå™¨å‚å•†é‡‡ç”¨ä¸åŒçš„å‰ç¼€æ¥æ”¯æŒè¿™ä¸€åŠŸèƒ½ï¼Œå› æ­¤æä¾›äº†å¯¹ WebKitï¼ˆChromeã€Safariï¼‰ã€Mozillaï¼ˆFirefoxï¼‰ã€Microsoftï¼ˆInternet Explorerã€Edgeï¼‰æµè§ˆå™¨ä»¥åŠæ ‡å‡†è§„èŒƒçš„æ”¯æŒã€‚</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è§£æï¼š</p><ul><li><code>-webkit-user-select: none;</code>: WebKit æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Chrome å’Œ Safariï¼‰çš„ç§æœ‰å±æ€§ï¼Œç”¨äºç¦æ­¢ç”¨æˆ·é€‰æ‹©æ–‡æœ¬ã€‚</li><li><code>-moz-user-select: none;</code>: Mozilla æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Firefoxï¼‰çš„ç§æœ‰å±æ€§ï¼ŒåŒæ ·ç”¨äºç¦æ­¢ç”¨æˆ·é€‰æ‹©æ–‡æœ¬ã€‚</li><li><code>-ms-user-select: none;</code>: Microsoft æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Internet Explorer å’Œ Edgeï¼‰çš„ç§æœ‰å±æ€§ï¼ŒåŒæ ·ç”¨äºç¦æ­¢ç”¨æˆ·é€‰æ‹©æ–‡æœ¬ã€‚</li><li><code>user-select: none;</code>: æ ‡å‡† CSS å±æ€§ï¼Œç”¨äºç¦æ­¢ç”¨æˆ·é€‰æ‹©æ–‡æœ¬ã€‚</li></ul><p>è¿™æ ·è®¾ç½®åï¼Œé¡µé¢ä¸­çš„æ–‡æœ¬å†…å®¹å°†æ— æ³•è¢«ç”¨æˆ·é€‰ä¸­ã€‚è¿™åœ¨ä¸€äº›ç‰¹å®šçš„åº”ç”¨åœºæ™¯ä¸­å¯èƒ½ä¼šç”¨åˆ°ï¼Œä¾‹å¦‚é¿å…ç”¨æˆ·å¤åˆ¶ç½‘ç«™ä¸Šçš„å†…å®¹ï¼Œæˆ–è€…åœ¨å®ç°ä¸€äº›ç‰¹æ®Šæ•ˆæœæ—¶ç¦æ­¢æ–‡æœ¬é€‰æ‹©ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§è®¾ç½®å¯èƒ½ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶åº”æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œæƒè¡¡ã€‚</p></li><li><p>è¿™æ®µä»£ç æ˜¯ä½¿ç”¨ <code>-webkit-transition</code> å±æ€§ä¸ºå…ƒç´ çš„æ‰€æœ‰å±æ€§ï¼ˆ<code>all</code>ï¼‰è®¾ç½®è¿‡æ¸¡æ•ˆæœã€‚è¿‡æ¸¡æ•ˆæœç”¨äºåœ¨å…ƒç´ å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä½¿å˜åŒ–æ›´åŠ å¹³æ»‘å’Œæ¸å˜ã€‚</p><p>è§£æï¼š</p><ul><li><code>-webkit-transition: all .3s;</code>: WebKit æµè§ˆå™¨ï¼ˆä¾‹å¦‚ Chrome å’Œ Safariï¼‰çš„ç§æœ‰å±æ€§ï¼Œç”¨äºæŒ‡å®šå…ƒç´ çš„è¿‡æ¸¡æ•ˆæœã€‚<ul><li><code>all</code>: è¡¨ç¤ºå¯¹æ‰€æœ‰å±æ€§éƒ½åº”ç”¨è¿‡æ¸¡æ•ˆæœã€‚</li><li><code>.3s</code>: è¡¨ç¤ºè¿‡æ¸¡çš„æŒç»­æ—¶é—´ä¸º 0.3 ç§’ã€‚è¿™ä¸ªå€¼å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œå†³å®šäº†è¿‡æ¸¡æ•ˆæœçš„æ—¶é•¿ã€‚</li></ul></li></ul><p>è¿™æ ·çš„è®¾ç½®å°†åœ¨å…ƒç´ å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆä¾‹å¦‚é¢œè‰²ã€å°ºå¯¸ã€ä½ç½®ç­‰ï¼‰ï¼Œä»¥ 0.3 ç§’çš„æ—¶é—´å†…è¿‡æ¸¡åˆ°æ–°çš„çŠ¶æ€ï¼Œä½¿å˜åŒ–æ›´åŠ å¹³æ»‘ã€‚è¿‡æ¸¡æ•ˆæœæ˜¯ä¸€ç§æ”¹å–„ç”¨æˆ·ä½“éªŒçš„æ‰‹æ®µï¼Œå¯ä»¥ä½¿é¡µé¢ä¸­çš„å…ƒç´ å˜åŒ–æ˜¾å¾—æ›´åŠ æµç•…å’Œè‡ªç„¶ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ä¸Šè¿°ä»£ç ä½¿ç”¨äº† WebKit æµè§ˆå™¨çš„ç§æœ‰å±æ€§ï¼Œä½†é€šå¸¸ä¸ºäº†å…¼å®¹æ€§ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ·»åŠ æ ‡å‡†çš„è¿‡æ¸¡å±æ€§ï¼Œä¾‹å¦‚ <code>transition: all .3s;</code>ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨å…¶ä»–æµè§ˆå™¨ä¸­ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨è¿‡æ¸¡æ•ˆæœã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å³é”®èœå•</title>
      <link href="/posts/92dc.html"/>
      <url>/posts/92dc.html</url>
      
        <content type="html"><![CDATA[<h1 id="å¢åŠ å³é”®èœå•"><a href="#å¢åŠ å³é”®èœå•" class="headerlink" title="å¢åŠ å³é”®èœå•"></a>å¢åŠ å³é”®èœå•</h1><p>åŒä¸»é¢˜çš„å°ä¼™ä¼´å¯èƒ½å‘ç°äº†ï¼Œåšå®¢ç½‘ç«™çš„å³é”®èœå•å®åœ¨æ˜¯åŠŸèƒ½å°‘çš„å¯æ€œï¼Œä¸€ä¸ªå¥½çš„å³é”®èœå•å¯ä»¥è®©è®¿å®¢æœ‹å‹çš„ç”¨æˆ·ä½“éªŒæé«˜ä¸å°‘ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ä»¬å°±æ¥å°±æ˜¯å®ç°ç»™æˆ‘ä¹°çš„åšå®¢ç½‘ç«™æ·»åŠ ä¸€ä¸ªåŠŸèƒ½æ›´ä¸°å¯Œçš„å³é”®èœå•ğŸ˜‹</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404292134042.png" alt="å³é”®èœå•"></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>ç¬¬ä¸€æ­¥ï¼Œå®šä½åˆ°ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„é¡µé¢å¸ƒå±€ä»£ç ï¼Œå³<code>matery/layout/layout.ejs</code>ï¼Œåœ¨<code>&lt;main&gt;</code>æ ‡ç­¾ä¸­åŠ å…¥ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!-- æ·»åŠ å³é”®èœå• --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">#rightMenu</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 .25rem<span class="token punctuation">;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 10rem<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 10%<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 10%<span class="token punctuation">;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> .85<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token property">-webkit-backdrop-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>20px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token property">backdrop-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>20px<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>        <span class="token property">z-index</span><span class="token punctuation">:</span> 99994<span class="token punctuation">;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e3e8f7<span class="token punctuation">;</span>        <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 12px 4px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .05<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu:hover</span> <span class="token punctuation">&#123;</span>        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #177cb0<span class="token punctuation">;</span>        <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 8px 12px -3px #4259ef23<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> .35rem .3rem<span class="token punctuation">;</span>        <span class="token property">transition</span><span class="token punctuation">:</span> .3s<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-line</span> <span class="token punctuation">&#123;</span>        <span class="token property">border-top</span><span class="token punctuation">:</span> 1px dashed #4259ef23<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group.rightMenu-small</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group .rightMenu-item</span> <span class="token punctuation">&#123;</span>        <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>        <span class="token property">transition</span><span class="token punctuation">:</span> .3s<span class="token punctuation">;</span>        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #525f7f<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-line .rightMenu-item</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> .25rem 0<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> .25rem 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group .rightMenu-item:hover</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-color</span><span class="token punctuation">:</span> #177cb0<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>        <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 8px 12px -3px #4259ef23<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group .rightMenu-item:active</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>.97<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group .rightMenu-item i</span> <span class="token punctuation">&#123;</span>        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 0 .25rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-line .rightMenu-item i</span> <span class="token punctuation">&#123;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 0 .25rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightMenu .rightMenu-group .rightMenu-item span</span> <span class="token punctuation">&#123;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.rightMenu-small .rightMenu-item</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">#rightmenu-mask</span> <span class="token punctuation">&#123;</span>        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>        <span class="token property">background</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>        <span class="token property">z-index</span><span class="token punctuation">:</span> 101<span class="token punctuation">;</span>        <span class="token property">margin</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span>        <span class="token property">z-index</span><span class="token punctuation">:</span> 99993<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">top</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-group rightMenu-small<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-backward<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¿”å›<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-arrow-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-forward<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å‰è¿›<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-arrow-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-refresh<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åˆ·æ–°<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-arrow-rotate-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-top<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¿”å›é¡¶éƒ¨<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-arrow-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-group rightMenu-line rightMenuPlugin<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-copytext<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-copylink<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-link<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¤åˆ¶é“¾æ¥åœ°å€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-pastetext<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-paste<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ç²˜è´´æ–‡æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-commenttext<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-comment-medical<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¼•ç”¨åˆ°è¯„è®º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-newwindow<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-window-restore<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æ–°çª—å£æ‰“å¼€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-copyimg<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-images<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¤åˆ¶æ­¤å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-downloadimg<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-download<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ä¸‹è½½æ­¤å›¾ç‰‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-search<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-magnifying-glass<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ç«™å†…æœç´¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-searchBing<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-magnifying-glass<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¿…åº”æœç´¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-music-toggle<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-play<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æ’­æ”¾éŸ³ä¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-music-back<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-backward<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-music-forward<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-forward<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-music-playlist<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>music<span class="token punctuation">.</span><span class="token number">163</span><span class="token punctuation">.</span>com<span class="token operator">/</span>#<span class="token operator">/</span>playlist<span class="token operator">?</span>app_version<span class="token operator">=</span><span class="token number">8.8</span><span class="token number">.36</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span>id<span class="token operator">=</span><span class="token number">5197802668</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>_blank<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-radio<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-music-copyMusicName<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¤åˆ¶æ­Œå<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-group rightMenu-line rightMenuOther<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-randomWebsite<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noopener<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://travel.moe/go.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-paper-plane<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æ¬¡å…ƒè·ƒè¿<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-randomPost<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-shoe-prints<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>éšä¾¿é€›é€›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/categories/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-cube<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>åšå®¢åˆ†ç±»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/tags/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-tags<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>æ–‡ç« æ ‡ç­¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-group rightMenu-line<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/privacy/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-hand<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>éšç§åè®®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/cc/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-closed-captioning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>ç‰ˆæƒåè®®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item menu-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/SEAEPOCH-WRITING-STANDARDS/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-feather<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>è¡Œæ–‡è§„èŒƒ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-group rightMenu-line rightMenuOther<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>å¤åˆ¶åœ°å€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightMenu-item<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-darkmode<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fas fa-moon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-darkmode-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ·±è‰²æ¨¡å¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rightmenu-mask<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/rightMenu.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">addRightMenuClickEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>matery/source/js</code>ä¸‹æ–°å»ºrightMenu.jsï¼Œæ·»åŠ </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆå§‹åŒ–å‡½æ•°</span><span class="token keyword">let</span> rm <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">var</span> btf <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">scrollToDest</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pos<span class="token punctuation">,</span> time</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> time <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> currentPos <span class="token operator">=</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">||</span> window<span class="token punctuation">.</span>screenTop    pos <span class="token operator">=</span> pos <span class="token operator">-</span> <span class="token number">70</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'CSS'</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span> <span class="token constant">CSS</span><span class="token punctuation">.</span><span class="token function">supports</span><span class="token punctuation">(</span><span class="token string">'scroll-behavior'</span><span class="token punctuation">,</span> <span class="token string">'smooth'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">top</span><span class="token operator">:</span> pos<span class="token punctuation">,</span>        <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">'smooth'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token keyword">null</span>    time <span class="token operator">=</span> time <span class="token operator">||</span> <span class="token number">500</span>    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token parameter">currentTime</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      start <span class="token operator">=</span> <span class="token operator">!</span>start <span class="token operator">?</span> currentTime <span class="token operator">:</span> start      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPos <span class="token operator">&lt;</span> pos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> progress <span class="token operator">=</span> currentTime <span class="token operator">-</span> start        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pos <span class="token operator">-</span> currentPos<span class="token punctuation">)</span> <span class="token operator">*</span> progress <span class="token operator">/</span> time<span class="token punctuation">)</span> <span class="token operator">+</span> currentPos<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> progress <span class="token operator">=</span> currentTime <span class="token operator">-</span> start        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> currentPos <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentPos <span class="token operator">-</span> pos<span class="token punctuation">)</span> <span class="token operator">*</span> progress <span class="token operator">/</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> heo <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ä¸‹è½½å›¾ç‰‡</span>  <span class="token function-variable function">downloadImage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">imgsrc<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä¸‹è½½å›¾ç‰‡åœ°å€å’Œå›¾ç‰‡å</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è§£å†³è·¨åŸŸ Canvas æ±¡æŸ“é—®é¢˜</span>        image<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"crossOrigin"</span><span class="token punctuation">,</span> <span class="token string">"anonymous"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> image<span class="token punctuation">.</span>width<span class="token punctuation">;</span>          canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> image<span class="token punctuation">.</span>height<span class="token punctuation">;</span>          <span class="token keyword">let</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>width<span class="token punctuation">,</span> image<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">let</span> url <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">"image/png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¾—åˆ°å›¾ç‰‡çš„base64ç¼–ç æ•°æ®</span>          <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç”Ÿæˆä¸€ä¸ªaå…ƒç´ </span>          <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MouseEvent</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªå•å‡»äº‹ä»¶</span>          a<span class="token punctuation">.</span>download <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">"photo"</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å›¾ç‰‡åç§°</span>          a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span> <span class="token comment">// å°†ç”Ÿæˆçš„URLè®¾ç½®ä¸ºa.hrefå±æ€§</span>          a<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è§¦å‘açš„å•å‡»äº‹ä»¶</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span>src <span class="token operator">=</span> imgsrc<span class="token punctuation">;</span>        <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>          <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®&lt;/span>'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æœ‰æ­£åœ¨è¿›è¡Œä¸­çš„ä¸‹è½½ï¼Œè¯·ç¨åå†è¯•&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//åˆ‡æ¢éŸ³ä¹æ’­æ”¾çŠ¶æ€</span>  <span class="token function-variable function">musicToggle</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//éŸ³ä¹ä¸Šä¸€æ›²</span>  <span class="token function-variable function">musicSkipBack</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//éŸ³ä¹ä¸‹ä¸€æ›²</span>  <span class="token function-variable function">musicSkipForward</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//è·å–éŸ³ä¹ä¸­çš„åç§°</span>  <span class="token function-variable function">musicGetName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç¦æ­¢å›¾ç‰‡æ‹–æ‹½</span>rm<span class="token punctuation">.</span>stopdragimg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rm<span class="token punctuation">.</span>stopdragimg<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"dragstart"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ˜¾ç¤ºèœå•</span>rm<span class="token punctuation">.</span><span class="token function-variable function">showRightMenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">isTrue<span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> $rightMenu <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  $rightMenu<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>isTrue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    $rightMenu<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">stopMaskScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    $rightMenu<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// éšè—èœå•</span>rm<span class="token punctuation">.</span><span class="token function-variable function">hideRightMenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">showRightMenu</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'display: none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å°ºå¯¸</span><span class="token keyword">let</span> rmWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> rmHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é‡æ–°å®šä¹‰å°ºå¯¸</span>rm<span class="token punctuation">.</span><span class="token function-variable function">reloadrmSize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rmWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rmHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// è·å–ç‚¹å‡»çš„href</span><span class="token keyword">let</span> domhref <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">let</span> domImgSrc <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">let</span> globalEvent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// ç›‘å¬å³é”®åˆå§‹åŒ–</span>window<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> pageX <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š</span>    <span class="token keyword">let</span> pageY <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>    <span class="token comment">// console.log(event);</span>    <span class="token comment">//å…¶ä»–é¢å¤–èœå•</span>    <span class="token keyword">let</span> $rightMenuOther <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.rightMenuOther'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuPlugin <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.rightMenuPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copytext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuPasteText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-pastetext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCommentText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-commenttext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuNewWindow <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-newwindow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyLink <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copylink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyImg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copyimg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuDownloadImg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-downloadimg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuSearch <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-search'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuSearchBing <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-searchBing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicToggle <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicBack <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-back'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicForward <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-forward'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicPlaylist <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicCopyMusicName <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-copyMusicName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> href <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">;</span>    <span class="token keyword">let</span> imgsrc <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>currentSrc<span class="token punctuation">;</span>    <span class="token comment">// åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶</span>    <span class="token keyword">let</span> pluginMode <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    $rightMenuOther<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    globalEvent <span class="token operator">=</span> event<span class="token punctuation">;</span>    <span class="token comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>selectTextNow <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuCopyText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCommentText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearch<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearchBing<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuCopyText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCommentText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearchBing<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearch<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuNewWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCopyLink<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      domhref <span class="token operator">=</span> href<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuNewWindow<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCopyLink<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>imgsrc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuCopyImg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuDownloadImg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      domImgSrc <span class="token operator">=</span> imgsrc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuCopyImg<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuDownloadImg<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'input'</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'textarea'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ä¸€ä¸ªè¾“å…¥æ¡†'</span><span class="token punctuation">)</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuPasteText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuPasteText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">"METING-JS"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ä¸€ä¸ªéŸ³ä¹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuMusicToggle<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicBack<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicForward<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicPlaylist<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicCopyMusicName<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuMusicToggle<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicBack<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicForward<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicPlaylist<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicCopyMusicName<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pluginMode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      $rightMenuOther<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuPlugin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuPlugin<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    rm<span class="token punctuation">.</span><span class="token function">reloadrmSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–è€ƒä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageX <span class="token operator">+</span> rmWidth <span class="token operator">></span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pageX <span class="token operator">-=</span> rmWidth <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageY <span class="token operator">+</span> rmHeight <span class="token operator">></span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pageY <span class="token operator">-=</span> pageY <span class="token operator">+</span> rmHeight <span class="token operator">-</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    rm<span class="token punctuation">.</span><span class="token function">showRightMenu</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> pageY<span class="token punctuation">,</span> pageX<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'display: flex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// ä¸‹è½½å›¾ç‰‡çŠ¶æ€</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿</span>rm<span class="token punctuation">.</span><span class="token function-variable function">writeClipImg</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">imgsrc</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// console.log('æŒ‰ä¸‹å¤åˆ¶');</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">copyImage</span><span class="token punctuation">(</span>imgsrc<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"10000"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">imageToBlob</span><span class="token punctuation">(</span><span class="token parameter">imageURL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> ctx <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  img<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>  img<span class="token punctuation">.</span>src <span class="token operator">=</span> imageURL<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      c<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalWidth<span class="token punctuation">;</span>      c<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalHeight<span class="token punctuation">;</span>      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      c<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token comment">// here the image is a blob</span>        <span class="token function">resolve</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">copyImage</span><span class="token punctuation">(</span><span class="token parameter">imageURL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imageToBlob</span><span class="token punctuation">(</span>imageURL<span class="token punctuation">)</span>  <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClipboardItem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token string-property property">"image/png"</span><span class="token operator">:</span> blob  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">switchDarkMode</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">switchNightMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token string">"&lt;input id='copyVal'>&lt;/input>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> text <span class="token operator">=</span> id<span class="token punctuation">;</span>  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"copyVal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span>value <span class="token operator">=</span> text<span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">setSelectionRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> input<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">"copy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#copyVal"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">stopMaskScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightmenu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> xscroll <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightmenu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    xscroll<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousewheel"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•</span>      rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// e.preventDefault();</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightMenu"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> xscroll <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightMenu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    xscroll<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousewheel"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•</span>      rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// e.preventDefault();</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">rightmenuCopyText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">txt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyPageUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> selURL <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">copyUrl</span><span class="token punctuation">(</span>selURL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">sharePage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> content <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">copyUrl</span><span class="token punctuation">(</span>selURL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬</span><span class="token keyword">var</span> selectTextNow <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span>onmouseup <span class="token operator">=</span> document<span class="token punctuation">.</span>ondbclick <span class="token operator">=</span> selceText<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">selceText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> txt<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    txt <span class="token operator">=</span> document<span class="token punctuation">.</span>selection<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    txt <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>txt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    selectTextNow <span class="token operator">=</span> txt<span class="token punctuation">;</span>    <span class="token comment">// console.log(selectTextNow);</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    selectTextNow <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// è¯»å–å‰ªåˆ‡æ¿</span>rm<span class="token punctuation">.</span><span class="token function-variable function">readClipboard</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">clipText</span> <span class="token operator">=></span> rm<span class="token punctuation">.</span><span class="token function">insertAtCaret</span><span class="token punctuation">(</span>globalEvent<span class="token punctuation">.</span>target<span class="token punctuation">,</span> clipText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹</span>rm<span class="token punctuation">.</span><span class="token function-variable function">insertAtCaret</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">elemt<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> startPos <span class="token operator">=</span> elemt<span class="token punctuation">.</span>selectionStart<span class="token punctuation">,</span>    endPos <span class="token operator">=</span> elemt<span class="token punctuation">.</span>selectionEnd<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sel <span class="token operator">=</span> document<span class="token punctuation">.</span>selection<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sel<span class="token punctuation">.</span>text <span class="token operator">=</span> value<span class="token punctuation">;</span>    elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>startPos <span class="token operator">||</span> startPos <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> elemt<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>value <span class="token operator">=</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> startPos<span class="token punctuation">)</span> <span class="token operator">+</span> value <span class="token operator">+</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endPos<span class="token punctuation">,</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>selectionStart <span class="token operator">=</span> startPos <span class="token operator">+</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>selectionEnd <span class="token operator">=</span> startPos <span class="token operator">+</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      elemt<span class="token punctuation">.</span>value <span class="token operator">+=</span> value<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç²˜è´´æ–‡æœ¬</span>rm<span class="token punctuation">.</span><span class="token function-variable function">pasteText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> result <span class="token operator">=</span> rm<span class="token punctuation">.</span><span class="token function">readClipboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¼•ç”¨åˆ°è¯„è®º</span>rm<span class="token punctuation">.</span><span class="token function-variable function">rightMenuCommentText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">txt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'veditor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> evt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'HTMLEvents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  evt<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> inputValue <span class="token operator">=</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span>txt<span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">'\n> '</span><span class="token punctuation">)</span>  input<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'> '</span> <span class="token operator">+</span> inputValue <span class="token operator">+</span> <span class="token string">'\n\n'</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> domTop <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#vcomments"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>  window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> domTop <span class="token operator">-</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">setSelectionRange</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ›¿æ¢æ‰€æœ‰å†…å®¹</span><span class="token keyword">function</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> search<span class="token punctuation">,</span> replace</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// Bingæœç´¢</span>rm<span class="token punctuation">.</span><span class="token function-variable function">searchBing</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å³å°†è·³è½¬åˆ°å¿…åº”æœç´¢&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://cn.bing.com/search?q='</span> <span class="token operator">+</span> selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"1000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ†äº«é“¾æ¥</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyLink</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>domhref<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å·²å¤åˆ¶é“¾æ¥åœ°å€&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">addRightMenuClickEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// æ·»åŠ ç‚¹å‡»äº‹ä»¶</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-backward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-forward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-refresh'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-top'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    btf<span class="token punctuation">.</span><span class="token function">scrollToDest</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.menu-link'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>hideRightMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-darkmode'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>switchDarkMode<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-home'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-randomPost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">toRandomPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>hideRightMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contextmenu</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copy'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>copyPageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-pastetext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>pasteText<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copytext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶æˆ–è½¬è½½è¯·æ ‡æ³¨æ–‡æœ¬ä½ç½®&lt;/span>'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-commenttext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightMenuCommentText</span><span class="token punctuation">(</span>selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-newwindow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>domhref<span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copylink'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>copyLink<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-downloadimg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    heo<span class="token punctuation">.</span><span class="token function">downloadImage</span><span class="token punctuation">(</span>domImgSrc<span class="token punctuation">,</span> <span class="token string">'SeaYJImageDownload'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copyimg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">writeClipImg</span><span class="token punctuation">(</span>domImgSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-search'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#searchIcon'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'searchInput'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> evt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'HTMLEvents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    evt<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token punctuation">.</span>value <span class="token operator">=</span> selectTextNow<span class="token punctuation">;</span>    t<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-searchBing'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>searchBing<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//éŸ³ä¹</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicToggle<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-back'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicSkipBack<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-forward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicSkipForward<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-copyMusicName'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>heo<span class="token punctuation">.</span><span class="token function">musicGetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ&lt;/span>'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ä½ å°±å¯ä»¥æœ¬åœ°éƒ¨ç½²å¹¶æŸ¥çœ‹æ•ˆæœäº†</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.meta-code.top/2022/06/12/2022-68/">ã€Hexoåšå®¢ã€‘é­”æ”¹ç¾åŒ– Butterfly ä¸»é¢˜å³é”®èœå• | ç™¾é‡Œé£æ´‹ (meta-code.top)</a></p><p><a href="https://seayj.cn/">SeaYJâ€™s Blog</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å³é”®èœå• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡µé¢ç‰¹æ•ˆ</title>
      <link href="/posts/2506.html"/>
      <url>/posts/2506.html</url>
      
        <content type="html"><![CDATA[<h1 id="é¡µé¢ç‰¹æ•ˆ"><a href="#é¡µé¢ç‰¹æ•ˆ" class="headerlink" title="é¡µé¢ç‰¹æ•ˆ"></a>é¡µé¢ç‰¹æ•ˆ</h1><h2 id="åŠ¨æ€çº¿æ¡"><a href="#åŠ¨æ€çº¿æ¡" class="headerlink" title="åŠ¨æ€çº¿æ¡"></a>åŠ¨æ€çº¿æ¡</h2><p>åœ¨<code>themes/matery/layout/layout.ejs</code>æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!--åŠ¨æ€çº¿æ¡èƒŒæ™¯--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>122 103 238<span class="token punctuation">"</span></span> <span class="token attr-name">opacity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>0.7<span class="token punctuation">'</span></span> <span class="token attr-name">zIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-2<span class="token punctuation">"</span></span> <span class="token attr-name">count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li>colorï¼šçº¿æ¡é¢œè‰²ï¼Œä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)ï¼Œé»˜è®¤ï¼šï¼ˆ0,0,0ï¼‰</li><li>opacityï¼šçº¿æ¡é€æ˜åº¦ï¼ˆ0~1ï¼‰ï¼Œé»˜è®¤ï¼š0.5</li><li>countï¼šçº¿æ¡çš„æ€»æ•°é‡ï¼Œé»˜è®¤ï¼š150</li><li>zIndexï¼šèƒŒæ™¯å›¾å±‚æ‰€åœ¨çš„ä½ç½®ï¼Œé»˜è®¤ï¼š-1</li></ul><blockquote><p>å‚è€ƒï¼š<a href="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/#toc-heading-28">åšå®¢æ­å»º+ç¾åŒ–ï¼ˆå·¨ç»†ç‰ˆæœ¬ï¼‰ | å…´å¹³ (crazyyuchi.github.io)</a></p></blockquote><h2 id="æ¨±èŠ±ç‰¹æ•ˆ"><a href="#æ¨±èŠ±ç‰¹æ•ˆ" class="headerlink" title="æ¨±èŠ±ç‰¹æ•ˆ"></a>æ¨±èŠ±ç‰¹æ•ˆ</h2><p>åœ¨<code>themes/matery/source/js</code>ä¸‹æ–°å»ºsakura.jsï¼Œæ‰“å¼€è¿™ä¸ªç½‘å€<a href="https://cdn.jsdelivr.net/gh/Yafine/cdn@2.5/source/js/sakura.js">è¿æ¥</a>ï¼Œå°†å†…å®¹å¤åˆ¶ç²˜è´´åˆ°sakura.jså³å¯ã€‚</p><p>ç„¶ååœ¨themes&#x2F;matery&#x2F;layout&#x2F;layout.ejsæ–‡ä»¶å†…æ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">//åªåœ¨æ¡Œé¢ç‰ˆç½‘é¡µå¯ç”¨ç‰¹æ•ˆ</span>    <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="/js/sakura.js">&lt;\/script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å‚è€ƒï¼š<a href="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/#toc-heading-28">åšå®¢æ­å»º+ç¾åŒ–ï¼ˆå·¨ç»†ç‰ˆæœ¬ï¼‰ | å…´å¹³ (crazyyuchi.github.io)</a></p></blockquote><h2 id="é›ªèŠ±ç‰¹æ•ˆ"><a href="#é›ªèŠ±ç‰¹æ•ˆ" class="headerlink" title="é›ªèŠ±ç‰¹æ•ˆ"></a>é›ªèŠ±ç‰¹æ•ˆ</h2><p>åœ¨<code>themes/matery/source/libs/others</code>ä¸‹æ–°å»ºæ–‡ä»¶<code>snow.js</code>ï¼Œå¹¶æ’å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/*æ ·å¼ä¸€*/</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    $<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">snow</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> $flake <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'&lt;div id="snowbox" />'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string-property property">'position'</span><span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token string-property property">'z-index'</span><span class="token operator">:</span><span class="token string">'9999'</span><span class="token punctuation">,</span> <span class="token string-property property">'top'</span><span class="token operator">:</span> <span class="token string">'-50px'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'&amp;#10052;'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    documentHeight  <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    documentWidth   <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    defaults <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">minSize</span>     <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>        <span class="token literal-property property">maxSize</span>     <span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>        <span class="token literal-property property">newOn</span>       <span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>        <span class="token literal-property property">flakeColor</span>  <span class="token operator">:</span> <span class="token string">"#AFDAEF"</span> <span class="token comment">/* æ­¤å¤„å¯ä»¥å®šä¹‰é›ªèŠ±é¢œè‰²ï¼Œè‹¥è¦ç™½è‰²å¯ä»¥æ”¹ä¸º#FFFFFF */</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    options <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> defaults<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> interval<span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> startPositionLeft <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> documentWidth <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span>    startOpacity <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    sizeFlake <span class="token operator">=</span> options<span class="token punctuation">.</span>minSize <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> options<span class="token punctuation">.</span>maxSize<span class="token punctuation">,</span>    endPositionTop <span class="token operator">=</span> documentHeight <span class="token operator">-</span> <span class="token number">200</span><span class="token punctuation">,</span>    endPositionLeft <span class="token operator">=</span> startPositionLeft <span class="token operator">-</span> <span class="token number">500</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">500</span><span class="token punctuation">,</span>    durationFall <span class="token operator">=</span> documentHeight <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5000</span><span class="token punctuation">;</span>    $flake<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">left</span><span class="token operator">:</span> startPositionLeft<span class="token punctuation">,</span>        <span class="token literal-property property">opacity</span><span class="token operator">:</span> startOpacity<span class="token punctuation">,</span>        <span class="token string-property property">'font-size'</span><span class="token operator">:</span> sizeFlake<span class="token punctuation">,</span>        <span class="token literal-property property">color</span><span class="token operator">:</span> options<span class="token punctuation">.</span>flakeColor    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">top</span><span class="token operator">:</span> endPositionTop<span class="token punctuation">,</span>        <span class="token literal-property property">left</span><span class="token operator">:</span> endPositionLeft<span class="token punctuation">,</span>        <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0.2</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>durationFall<span class="token punctuation">,</span><span class="token string">'linear'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>newOn<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    $<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">snow</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>         <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">/* å®šä¹‰é›ªèŠ±æœ€å°å°ºå¯¸ */</span>        <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span><span class="token comment">/* å®šä¹‰é›ªèŠ±æœ€å¤§å°ºå¯¸ */</span>        <span class="token literal-property property">newOn</span><span class="token operator">:</span> <span class="token number">300</span>  <span class="token comment">/* å®šä¹‰å¯†é›†ç¨‹åº¦ï¼Œæ•°å­—è¶Šå°è¶Šå¯†é›† */</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*æ ·å¼äºŒ*/</span><span class="token comment">/* æ§åˆ¶ä¸‹é›ª */</span><span class="token keyword">function</span> <span class="token function">snowFall</span><span class="token punctuation">(</span><span class="token parameter">snow</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/* å¯é…ç½®å±æ€§ */</span>    snow <span class="token operator">=</span> snow <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>maxFlake <span class="token operator">=</span> snow<span class="token punctuation">.</span>maxFlake <span class="token operator">||</span> <span class="token number">200</span><span class="token punctuation">;</span>   <span class="token comment">/* æœ€å¤šç‰‡æ•° */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>flakeSize <span class="token operator">=</span> snow<span class="token punctuation">.</span>flakeSize <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token comment">/* é›ªèŠ±å½¢çŠ¶ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>fallSpeed <span class="token operator">=</span> snow<span class="token punctuation">.</span>fallSpeed <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">/* å è½é€Ÿåº¦ */</span><span class="token punctuation">&#125;</span><span class="token comment">/* å…¼å®¹å†™æ³• */</span>requestAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>msRequestAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>oRequestAnimationFrame <span class="token operator">||</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>cancelAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>mozCancelAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>webkitCancelAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>msCancelAnimationFrame <span class="token operator">||</span>    window<span class="token punctuation">.</span>oCancelAnimationFrame<span class="token punctuation">;</span><span class="token comment">/* å¼€å§‹ä¸‹é›ª */</span>snowFall<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">/* åˆ›å»ºç”»å¸ƒ */</span>    <span class="token function">snowCanvas</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* åˆ›å»ºé›ªèŠ±å½¢çŠ¶ */</span>    <span class="token function">createFlakes</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* ç”»é›ª */</span>    <span class="token function">drawSnow</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token comment">/* åˆ›å»ºç”»å¸ƒ */</span><span class="token keyword">function</span> <span class="token function">snowCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/* æ·»åŠ Domç»“ç‚¹ */</span>    <span class="token keyword">var</span> snowcanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    snowcanvas<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"snowfall"</span><span class="token punctuation">;</span>    snowcanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>    snowcanvas<span class="token punctuation">.</span>height <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>    snowcanvas<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">,</span> <span class="token string">"position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>snowcanvas<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>canvas <span class="token operator">=</span> snowcanvas<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> snowcanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* çª—å£å¤§å°æ”¹å˜çš„å¤„ç† */</span>    window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        snowcanvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>        <span class="token comment">/* snowcanvas.height = window.innerHeight */</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* é›ªè¿åŠ¨å¯¹è±¡ */</span><span class="token keyword">function</span> <span class="token function">flakeMove</span><span class="token punctuation">(</span><span class="token parameter">canvasWidth<span class="token punctuation">,</span> canvasHeight<span class="token punctuation">,</span> flakeSize<span class="token punctuation">,</span> fallSpeed</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> canvasWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">/* xåæ ‡ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> canvasHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/* yåæ ‡ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> flakeSize <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>          <span class="token comment">/* å½¢çŠ¶ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>maxSize <span class="token operator">=</span> flakeSize<span class="token punctuation">;</span>                           <span class="token comment">/* æœ€å¤§å½¢çŠ¶ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">+</span> fallSpeed<span class="token punctuation">;</span>         <span class="token comment">/* å è½é€Ÿåº¦ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>fallSpeed <span class="token operator">=</span> fallSpeed<span class="token punctuation">;</span>                         <span class="token comment">/* å è½é€Ÿåº¦ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>                             <span class="token comment">/* Yæ–¹å‘é€Ÿåº¦ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velX <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                                      <span class="token comment">/* Xæ–¹å‘é€Ÿåº¦ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>stepSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">;</span>                 <span class="token comment">/* æ­¥é•¿ */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>step <span class="token operator">=</span> <span class="token number">0</span>                                       <span class="token comment">/* æ­¥æ•° */</span><span class="token punctuation">&#125;</span>flakeMove<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>        y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token comment">/* å·¦å³æ‘†åŠ¨(ä½™å¼¦) */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velX <span class="token operator">*=</span> <span class="token number">0.98</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>velY <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>velY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed    <span class="token punctuation">&#125;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velX <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>step <span class="token operator">+=</span> <span class="token number">.05</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stepSize<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velY<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velX<span class="token punctuation">;</span>    <span class="token comment">/* é£å‡ºè¾¹ç•Œçš„å¤„ç† */</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">>=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">>=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/* é£å‡ºè¾¹ç•Œ-æ”¾ç½®æœ€é¡¶ç«¯ç»§ç»­å è½ */</span>flakeMove<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">width<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxSize <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fallSpeed<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>velX <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// æ¸²æŸ“é›ªèŠ±-éšæœºå½¢çŠ¶ï¼ˆæ­¤å¤„å¯ä¿®æ”¹é›ªèŠ±é¢œè‰²ï¼ï¼ï¼ï¼‰</span>flakeMove<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> snowFlake <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    snowFlake<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgba(255, 255, 255, 0.9)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/* æ­¤å¤„æ˜¯é›ªèŠ±é¢œè‰²ï¼Œé»˜è®¤æ˜¯ç™½è‰² */</span>    snowFlake<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"rgba(255, 255, 255, 0.5)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* è‹¥è¦æ”¹ä¸ºå…¶ä»–é¢œè‰²ï¼Œè¯·è‡ªè¡ŒæŸ¥ */</span>    snowFlake<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"rgba(255, 255, 255, 0)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* æ‰¾16è¿›åˆ¶çš„RGB é¢œè‰²ä»£ç ã€‚ */</span>    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> snowFlake<span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">/* åˆ›å»ºé›ªèŠ±-å®šä¹‰å½¢çŠ¶ */</span><span class="token keyword">function</span> <span class="token function">createFlakes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> maxFlake <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxFlake<span class="token punctuation">,</span>        flakes <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>flakes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        canvas <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxFlake<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        flakes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">flakeMove</span><span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>flakeSize<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fallSpeed<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ç”»é›ª */</span><span class="token keyword">function</span> <span class="token function">drawSnow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> maxFlake <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxFlake<span class="token punctuation">,</span>        flakes <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>flakes<span class="token punctuation">;</span>    ctx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">,</span> canvas <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">,</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token comment">/* æ¸…ç©ºé›ªèŠ± */</span>    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> e <span class="token operator">&lt;</span> maxFlake<span class="token punctuation">;</span> e<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        flakes<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        flakes<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/*  ä¸€å¸§ä¸€å¸§çš„ç”» */</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">drawSnow</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>that<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* è°ƒç”¨åŠæ§åˆ¶æ–¹æ³• */</span><span class="token keyword">var</span> snow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">snowFall</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">maxFlake</span><span class="token operator">:</span><span class="token number">60</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>snow<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>themes/matery/layout/layout.ejs</code>é‡Œæ·»åŠ ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!-- é›ªèŠ±ç‰¹æ•ˆ --></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>snow<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>libs<span class="token punctuation">.</span>js<span class="token punctuation">.</span>snow </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œ<code>libs.js</code>é‡Œæ·»åŠ ä¸€è¡Œ</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">snow</span><span class="token punctuation">:</span> /libs/others/snow.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æœ€åæ·»åŠ ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># é›ªèŠ±ç‰¹æ•ˆ</span><span class="token key atrule">snow</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>å‚è€ƒï¼š<a href="https://godweiyang.com/2018/04/13/hexo-blog/#toc-heading-20">è¶…è¯¦ç»†Hexo+Githubåšå®¢æ­å»ºå°ç™½æ•™ç¨‹ | éŸ¦é˜³çš„åšå®¢ (godweiyang.com)</a></p></blockquote><h2 id="é¼ æ ‡ç‰¹æ•ˆ"><a href="#é¼ æ ‡ç‰¹æ•ˆ" class="headerlink" title="é¼ æ ‡ç‰¹æ•ˆ"></a>é¼ æ ‡ç‰¹æ•ˆ</h2><h3 id="ç‚¹å‡»æ˜¾ç¤ºæ–‡å­—"><a href="#ç‚¹å‡»æ˜¾ç¤ºæ–‡å­—" class="headerlink" title="ç‚¹å‡»æ˜¾ç¤ºæ–‡å­—"></a>ç‚¹å‡»æ˜¾ç¤ºæ–‡å­—</h3><p>åœ¨ <code>themes\matery\source\js</code> ä¸‹æ–°å»º <code>click_show_text.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a_idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token function">jQuery</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span>        <span class="token punctuation">(</span><span class="token string">"å¯Œå¼º"</span><span class="token punctuation">,</span> <span class="token string">"æ°‘ä¸»"</span><span class="token punctuation">,</span> <span class="token string">"æ–‡æ˜"</span><span class="token punctuation">,</span> <span class="token string">"å’Œè°"</span><span class="token punctuation">,</span> <span class="token string">"è‡ªç”±"</span><span class="token punctuation">,</span> <span class="token string">"å¹³ç­‰"</span><span class="token punctuation">,</span> <span class="token string">"å…¬æ­£"</span><span class="token punctuation">,</span> <span class="token string">"æ³•æ²»"</span><span class="token punctuation">,</span> <span class="token string">"çˆ±å›½"</span><span class="token punctuation">,</span> <span class="token string">"æ•¬ä¸š"</span><span class="token punctuation">,</span> <span class="token string">"è¯šä¿¡"</span><span class="token punctuation">,</span> <span class="token string">"å‹å–„"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> $i <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"&lt;span/>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>a_idx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        a_idx <span class="token operator">=</span> <span class="token punctuation">(</span>a_idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span>        y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>        $i<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token string-property property">"z-index"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>            <span class="token string-property property">"top"</span><span class="token operator">:</span> y <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">,</span>            <span class="token string-property property">"left"</span><span class="token operator">:</span> x<span class="token punctuation">,</span>            <span class="token string-property property">"position"</span><span class="token operator">:</span> <span class="token string">"absolute"</span><span class="token punctuation">,</span>            <span class="token string-property property">"font-weight"</span><span class="token operator">:</span> <span class="token string">"bold"</span><span class="token punctuation">,</span>            <span class="token string-property property">"color"</span><span class="token operator">:</span> <span class="token string">"rgb("</span> <span class="token operator">+</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$i<span class="token punctuation">)</span><span class="token punctuation">;</span>        $i<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token string-property property">"top"</span><span class="token operator">:</span> y <span class="token operator">-</span> <span class="token number">180</span><span class="token punctuation">,</span>            <span class="token string-property property">"opacity"</span><span class="token operator">:</span> <span class="token number">0</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token number">3000</span><span class="token punctuation">,</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       $i<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">'delay()'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".buryit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token string">"onclick"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>themes\matery\layout\layout.ejs</code> çš„ <code>body</code> æ ‡ç­¾é‡Œå¼•å…¥</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>å•å‡»æ˜¾ç¤ºæ–‡å­—<span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"/js/click_show_text.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å‚è€ƒï¼š<a href="https://yunfulin.gitee.io/blog/no-013.html#toc-heading-5">Materyä¸»é¢˜ä¼˜åŒ–ï¼ˆä¸€ï¼‰ | YFå°æ—çŠŸ (gitee.io)</a></p></blockquote><h3 id="ç¤¼èŠ±ç‰¹æ•ˆ"><a href="#ç¤¼èŠ±ç‰¹æ•ˆ" class="headerlink" title="ç¤¼èŠ±ç‰¹æ•ˆ"></a>ç¤¼èŠ±ç‰¹æ•ˆ</h3><p>åœ¨ä¸»é¢˜æ–‡ä»¶ <code>themes\hexo-theme-matery\source\js</code> ä¸‹æ–°å»º <code>mouse_snow.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">function</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">i</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"touchmove"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"touchstart"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>      window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      d <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>      window<span class="token punctuation">.</span>innerHeight  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>touches<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token punctuation">.</span>touches<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>              <span class="token function">s</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>touches<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>clientX<span class="token punctuation">,</span> t<span class="token punctuation">.</span>touches<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>clientY<span class="token punctuation">,</span> r<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> r<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      u<span class="token punctuation">.</span>x <span class="token operator">=</span> t<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>      u<span class="token punctuation">.</span>y <span class="token operator">=</span> t<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>      <span class="token function">s</span><span class="token punctuation">(</span>u<span class="token punctuation">.</span>x<span class="token punctuation">,</span> u<span class="token punctuation">.</span>y<span class="token punctuation">,</span> r<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> r<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">l</span><span class="token punctuation">;</span>      e<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span>      f<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> f<span class="token punctuation">.</span>length<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span>          f<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> f<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> t <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">--</span><span class="token punctuation">)</span>          f<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>lifeSpan <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          f<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>character <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">,</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>lifeSpan <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">,</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>initialStyles <span class="token operator">=</span> <span class="token punctuation">&#123;</span>          <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">"fixed"</span><span class="token punctuation">,</span>          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>          <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">"block"</span><span class="token punctuation">,</span>          <span class="token literal-property property">pointerEvents</span><span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>          <span class="token string-property property">"z-index"</span><span class="token operator">:</span> <span class="token string">"10000000"</span><span class="token punctuation">,</span>          <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span>          <span class="token string-property property">"will-change"</span><span class="token operator">:</span> <span class="token string">"transform"</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> i<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token punctuation">&#123;</span>              <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">.5</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">1</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token punctuation">&#123;</span>              <span class="token literal-property property">x</span><span class="token operator">:</span> t <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span>              <span class="token literal-property property">y</span><span class="token operator">:</span> i <span class="token operator">-</span> <span class="token number">20</span>          <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>initialStyles<span class="token punctuation">.</span>color <span class="token operator">=</span> n<span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>character<span class="token punctuation">,</span>          <span class="token function">c</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialStyles<span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x<span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y<span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>lifeSpan<span class="token operator">--</span><span class="token punctuation">,</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"translate3d("</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">"px,"</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">"px,0) scale("</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lifeSpan <span class="token operator">/</span> <span class="token number">120</span> <span class="token operator">+</span> <span class="token string">")"</span>      <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">die</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>element<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token keyword">in</span> i<span class="token punctuation">)</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">[</span>n<span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"#D61C59"</span><span class="token punctuation">,</span> <span class="token string">"#E7D84B"</span><span class="token punctuation">,</span> <span class="token string">"#1B8798"</span><span class="token punctuation">]</span>    <span class="token punctuation">,</span> d <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth    <span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>      <span class="token literal-property property">x</span><span class="token operator">:</span> d <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      <span class="token literal-property property">y</span><span class="token operator">:</span> d <span class="token operator">/</span> <span class="token number">2</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>themes\matery\layout\layout.ejs</code> çš„ <code>body</code> æ ‡ç­¾é‡Œé¢ å¼•å…¥</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> é¼ æ ‡ç§»åŠ¨ç‰¹æ•ˆ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"/js/mouse_snow.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å‚è€ƒï¼š<a href="https://yunfulin.gitee.io/blog/no-013.html#toc-heading-5">Materyä¸»é¢˜ä¼˜åŒ–ï¼ˆä¸€ï¼‰ | YFå°æ—çŠŸ (gitee.io)</a></p></blockquote><h3 id="ç‚¹å‡»çˆ†ç‚¸"><a href="#ç‚¹å‡»çˆ†ç‚¸" class="headerlink" title="ç‚¹å‡»çˆ†ç‚¸"></a>ç‚¹å‡»çˆ†ç‚¸</h3><p>åœ¨<code>themes/matery/source/js</code>ä¸‹æ–°å»ºfireworks.jsï¼Œæ‰“å¼€è¿™ä¸ªç½‘å€<a href="https://cdn.jsdelivr.net/gh/Yafine/cdn@2.5/source/js/fireworks.js">è¿æ¥</a>ï¼Œå°†å†…å®¹å¤åˆ¶ç²˜è´´åˆ°fireworks.jså³å¯ã€‚</p><p>ç„¶åå†åˆ°themes&#x2F;matery&#x2F;layout&#x2F;layout.ejsä¸­æ·»åŠ ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fireworks<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//cdn.bootcss.com/animejs/2.2.0/anime.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/fireworks.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç„¶åhexo clean &amp;&amp; hexo g &amp;&amp; hexo så³å¯è¿›è¡Œæœ¬åœ°é¢„è§ˆï¼Œå°±å¯ä»¥æŸ¥çœ‹æ•ˆæœäº†ã€‚</p><blockquote><p>å‚è€ƒï¼š<a href="https://crazyyuchi.github.io/2022/05/02/bo-ke-da-jian-mei-hua-ju-xi-ban-ben/#toc-heading-28">åšå®¢æ­å»º+ç¾åŒ–ï¼ˆå·¨ç»†ç‰ˆæœ¬ï¼‰ | å…´å¹³ (crazyyuchi.github.io)</a></p></blockquote><h3 id="æµ®å‡ºçˆ±å¿ƒ"><a href="#æµ®å‡ºçˆ±å¿ƒ" class="headerlink" title="æµ®å‡ºçˆ±å¿ƒ"></a>æµ®å‡ºçˆ±å¿ƒ</h3><p>åœ¨<code>themes/matery/source/libs/others</code>ä¸‹æ–°å»ºæ–‡ä»¶<code>click_love.js</code>ï¼Œå¹¶æ’å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>t<span class="token punctuation">,</span>a</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> e<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>e<span class="token operator">&lt;</span>n<span class="token punctuation">.</span>length<span class="token punctuation">;</span>e<span class="token operator">++</span><span class="token punctuation">)</span>            n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">?</span>                <span class="token punctuation">(</span>t<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>                <span class="token punctuation">(</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">--</span><span class="token punctuation">,</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale<span class="token operator">+=</span><span class="token number">.004</span><span class="token punctuation">,</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">-=</span><span class="token number">.013</span><span class="token punctuation">,</span>                 n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText<span class="token operator">=</span><span class="token string">"left:"</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token string">"px;top:"</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token string">"px;opacity:"</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">+</span><span class="token string">";transform:scale("</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale<span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale<span class="token operator">+</span><span class="token string">") rotate(45deg);background:"</span><span class="token operator">+</span>n<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>color<span class="token operator">+</span><span class="token string">";z-index:99999"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">var</span> n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span>requestAnimationFrame<span class="token operator">=</span>e<span class="token punctuation">.</span>requestAnimationFrame<span class="token operator">||</span>e<span class="token punctuation">.</span>webkitRequestAnimationFrame<span class="token operator">||</span>e<span class="token punctuation">.</span>mozRequestAnimationFrame<span class="token operator">||</span>e<span class="token punctuation">.</span>oRequestAnimationFrame<span class="token operator">||</span>e<span class="token punctuation">.</span>msRequestAnimationFrame<span class="token operator">||</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span><span class="token number">1e3</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> a<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        a<span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">"text/css"</span><span class="token punctuation">;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            a<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            a<span class="token punctuation">.</span>styleSheet<span class="token punctuation">.</span>cssText<span class="token operator">=</span>e        <span class="token punctuation">&#125;</span>        t<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"head"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> a<span class="token operator">=</span><span class="token string">"function"</span><span class="token operator">==</span><span class="token keyword">typeof</span> e<span class="token punctuation">.</span>onclick<span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>onclick<span class="token punctuation">;</span>        e<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            a<span class="token operator">&amp;&amp;</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> a<span class="token operator">=</span>t<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                a<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">"heart"</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">el</span><span class="token operator">:</span>a<span class="token punctuation">,</span><span class="token literal-property property">x</span><span class="token operator">:</span>e<span class="token punctuation">.</span>clientX<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token literal-property property">y</span><span class="token operator">:</span>e<span class="token punctuation">.</span>clientY<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token literal-property property">scale</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">alpha</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">color</span><span class="token operator">:</span><span class="token string">"rgb("</span><span class="token operator">+</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨<code>themes/matery/layout/layout.ejs</code>é‡Œæ·»åŠ ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!--  --></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>clicklove<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> theme<span class="token punctuation">.</span>jsDelivr<span class="token punctuation">.</span>url </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">url_for</span><span class="token punctuation">(</span>theme<span class="token punctuation">.</span>libs<span class="token punctuation">.</span>js<span class="token punctuation">.</span>clicklove<span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">async</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>async<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œ<code>libs.js</code>é‡Œæ·»åŠ ä¸€è¡Œ</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">snow</span><span class="token punctuation">:</span> /libs/others/click_love.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€ååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æœ€åæ·»åŠ ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># ç‚¹å‡»é¡µé¢æµ®å‡º'çˆ±å¿ƒ'æ•ˆæœ</span><span class="token key atrule">clicklove</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h3><p><a href="https://www.jb51.net/article/132511.htm">10ä¸ªç»å…¸çš„ç½‘é¡µé¼ æ ‡ç‰¹æ•ˆä»£ç _javascriptæŠ€å·§_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p><h2 id="åŠ¨æ€æ ‡ç­¾æ "><a href="#åŠ¨æ€æ ‡ç­¾æ " class="headerlink" title="åŠ¨æ€æ ‡ç­¾æ "></a>åŠ¨æ€æ ‡ç­¾æ </h2><p>åœ¨æ–‡ä»¶ <code>themes\matery\layout\layout.ejs</code> çš„ <code>body</code> æ ‡ç­¾é‡Œæ·»åŠ </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> åŠ¨æ€æ ‡ç­¾æ  <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>  <span class="token keyword">var</span> OriginTitile <span class="token operator">=</span> document<span class="token punctuation">.</span>title<span class="token punctuation">,</span> st<span class="token punctuation">;</span>   document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     document<span class="token punctuation">.</span>hidden <span class="token operator">?</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"çˆ±æˆ‘ï¼Œåˆ«èµ°ï¼"</span><span class="token punctuation">,</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"å’¦ï¼Œä½ æ¥å•¦ï¼"</span><span class="token punctuation">,</span> st <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> document<span class="token punctuation">.</span>title <span class="token operator">=</span> OriginTitile <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3e3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><a href="https://yunfulin.gitee.io/blog/no-013.html#toc-heading-5">Materyä¸»é¢˜ä¼˜åŒ–ï¼ˆä¸€ï¼‰ | YFå°æ—çŠŸ (gitee.io)</a></p></blockquote><h2 id="å†’æ³¡ç‰¹æ•ˆ"><a href="#å†’æ³¡ç‰¹æ•ˆ" class="headerlink" title="å†’æ³¡ç‰¹æ•ˆ"></a>å†’æ³¡ç‰¹æ•ˆ</h2><p>åœ¨ <code>themes&gt;matery&gt;source&gt;libs&gt;others</code>ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ bubble.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// é¦–é¡µè½®æ’­å†’æ³¡</span><span class="token keyword">function</span> <span class="token function">bubble</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.carousel-item, .pd-header'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">circleMagic</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token literal-property property">density</span><span class="token operator">:</span> <span class="token number">.2</span><span class="token punctuation">,</span>    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'rgba(255,255,255,.4)'</span><span class="token punctuation">,</span>    <span class="token literal-property property">clearOffset</span><span class="token operator">:</span> <span class="token number">0.99</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token operator">!</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  p<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">circleMagic</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> o<span class="token punctuation">,</span> a<span class="token punctuation">,</span> n<span class="token punctuation">,</span> r<span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>      i <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>      d <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"rgba(255,0,0,.5)"</span><span class="token punctuation">,</span>        <span class="token literal-property property">radius</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>        <span class="token literal-property property">density</span><span class="token operator">:</span> <span class="token number">.3</span><span class="token punctuation">,</span>        <span class="token literal-property property">clearOffset</span><span class="token operator">:</span> <span class="token number">.2</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>      l <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">c</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      e <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">></span> a<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">function</span> <span class="token function">s</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      o <span class="token operator">=</span> l<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span> a <span class="token operator">=</span> l<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span> l<span class="token punctuation">.</span>height <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span>width <span class="token operator">=</span> o<span class="token punctuation">,</span> n<span class="token punctuation">.</span>height <span class="token operator">=</span> a    <span class="token punctuation">&#125;</span>    <span class="token keyword">function</span> <span class="token function">h</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t <span class="token keyword">in</span> r<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> o<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> i<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">function</span> <span class="token function">f</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>      <span class="token keyword">function</span> <span class="token function">e</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> o<span class="token punctuation">,</span> t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>y <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">.1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> d<span class="token punctuation">.</span>clearOffset<span class="token punctuation">,</span>          t<span class="token punctuation">.</span>scale <span class="token operator">=</span> <span class="token number">.1</span> <span class="token operator">+</span> <span class="token number">.3</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>speed <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"random"</span> <span class="token operator">===</span> d<span class="token punctuation">.</span>color <span class="token operator">?</span> t<span class="token punctuation">.</span>color <span class="token operator">=</span>            <span class="token string">"rgba("</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>              <span class="token number">0</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>color <span class="token operator">=</span> d<span class="token punctuation">.</span>color      <span class="token punctuation">&#125;</span>      t<span class="token punctuation">.</span>pos <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        t<span class="token punctuation">.</span>alpha <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>y <span class="token operator">-=</span> t<span class="token punctuation">.</span>speed<span class="token punctuation">,</span> t<span class="token punctuation">.</span>alpha <span class="token operator">-=</span> <span class="token number">5e-4</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>x<span class="token punctuation">,</span> t<span class="token punctuation">.</span>pos<span class="token punctuation">.</span>y<span class="token punctuation">,</span>          t<span class="token punctuation">.</span>scale <span class="token operator">*</span> d<span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> t<span class="token punctuation">.</span>color<span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span> <span class="token operator">!</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      o <span class="token operator">=</span> l<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">,</span> a <span class="token operator">=</span> l<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">,</span>        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">var</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          t<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"canvas"</span><span class="token punctuation">;</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token number">0</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token number">0</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          t<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">"absolute"</span><span class="token punctuation">;</span>          l<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>          t<span class="token punctuation">.</span>parentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">"hidden"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width <span class="token operator">=</span> o<span class="token punctuation">,</span> n<span class="token punctuation">.</span>height <span class="token operator">=</span> a<span class="token punctuation">,</span> r <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> o <span class="token operator">*</span> d<span class="token punctuation">.</span>density<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">f</span><span class="token punctuation">;</span>        i<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>      <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">bubble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>themes\hexo-theme-matery\_config.yml</code> æ‰¾åˆ° <code>libs:</code> ç„¶ååœ¨ js ä¸‹å¼•å…¥</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">bubble</span><span class="token operator">:</span> <span class="token operator">/</span>libs<span class="token operator">/</span>others<span class="token operator">/</span>bubble<span class="token punctuation">.</span>js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ <code>themes\hexo-theme-matery\_config.yml</code> çš„åº•éƒ¨ï¼Œæ·»åŠ ä¸‹é¢ä»£ç </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"># é¦–é¡µè½®æ’­å†’æ³¡<span class="token literal-property property">bubble</span><span class="token operator">:</span>  <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨æ–‡ä»¶ <code>themes\hexo-theme-matery\layout\layout.ejs</code> çš„ <code>body</code> æ ‡ç­¾é‡Œé¢ å¼•å…¥</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ç™½è‰²å†’æ³¡ <span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>bubble<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token operator">%</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"&lt;%- theme.jsDelivr.url %>&lt;%- url_for(theme.libs.js.bubble) %>"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">&#125;</span> <span class="token operator">%</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å‚è€ƒï¼š<a href="https://yunfulin.gitee.io/blog/no-013.html#toc-heading-1">Materyä¸»é¢˜ä¼˜åŒ–ï¼ˆä¸€ï¼‰ | YFå°æ—çŠŸ (gitee.io)</a></p></blockquote><h2 id="æ‰“å­—ç‰¹æ•ˆ"><a href="#æ‰“å­—ç‰¹æ•ˆ" class="headerlink" title="æ‰“å­—ç‰¹æ•ˆ"></a>æ‰“å­—ç‰¹æ•ˆ</h2><p>é¦–å…ˆåœ¨<code>themes\matery\source\js</code>ä¸‹æ–°å»º<code>activate-power-mode.js</code></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span> <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> exports<span class="token punctuation">[</span><span class="token string">"POWERMODE"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> root<span class="token punctuation">[</span><span class="token string">"POWERMODE"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> installedModules <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>            <span class="token keyword">var</span> module <span class="token operator">=</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> moduleId<span class="token punctuation">,</span> <span class="token literal-property property">loaded</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> __webpack_require__<span class="token punctuation">)</span><span class="token punctuation">;</span>            module<span class="token punctuation">.</span>loaded <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        __webpack_require__<span class="token punctuation">.</span>m <span class="token operator">=</span> modules<span class="token punctuation">;</span>        __webpack_require__<span class="token punctuation">.</span>c <span class="token operator">=</span> installedModules<span class="token punctuation">;</span>        __webpack_require__<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token string">'use strict'</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>        canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>        canvas<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">'position: fixed; top: 0; left: 0; pointer-events: none; z-index: 0'</span><span class="token punctuation">;</span>        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> particles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> particlePointer <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token constant">POWERMODE</span><span class="token punctuation">.</span>shake <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">function</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">POWERMODE</span><span class="token punctuation">.</span>colorful<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> u <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token string">'hsla('</span> <span class="token operator">+</span> <span class="token function">getRandom</span><span class="token punctuation">(</span>u <span class="token operator">-</span> <span class="token number">10</span><span class="token punctuation">,</span> u <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">', 100%, '</span> <span class="token operator">+</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%, '</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>color<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">function</span> <span class="token function">getCaret</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span>activeElement<span class="token punctuation">;</span>            <span class="token keyword">var</span> bcr<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">'TEXTAREA'</span> <span class="token operator">||</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">'INPUT'</span> <span class="token operator">&amp;&amp;</span> el<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'type'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> el<span class="token punctuation">.</span>selectionStart<span class="token punctuation">)</span><span class="token punctuation">;</span>                bcr <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">x</span><span class="token operator">:</span> offset<span class="token punctuation">.</span>left <span class="token operator">+</span> bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span>                    <span class="token literal-property property">y</span><span class="token operator">:</span> offset<span class="token punctuation">.</span>top <span class="token operator">+</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">getColor</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">var</span> selection <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>selection<span class="token punctuation">.</span>rangeCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> range <span class="token operator">=</span> selection<span class="token punctuation">.</span><span class="token function">getRangeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> startNode <span class="token operator">=</span> range<span class="token punctuation">.</span>startContainer<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>startNode<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> document<span class="token punctuation">.</span><span class="token constant">TEXT_NODE</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    startNode <span class="token operator">=</span> startNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                bcr <span class="token operator">=</span> range<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">x</span><span class="token operator">:</span> bcr<span class="token punctuation">.</span>left<span class="token punctuation">,</span>                    <span class="token literal-property property">y</span><span class="token operator">:</span> bcr<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">getColor</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'transparent'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">function</span> <span class="token function">createParticle</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">x</span><span class="token operator">:</span> x<span class="token punctuation">,</span>                <span class="token literal-property property">y</span><span class="token operator">:</span> y<span class="token punctuation">,</span>                <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">color</span><span class="token operator">:</span> color<span class="token punctuation">,</span>                <span class="token literal-property property">velocity</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span>                    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">3.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">function</span> <span class="token constant">POWERMODE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> caret <span class="token operator">=</span> <span class="token function">getCaret</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> numParticles <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>numParticles<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                particles<span class="token punctuation">[</span>particlePointer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createParticle</span><span class="token punctuation">(</span>caret<span class="token punctuation">.</span>x<span class="token punctuation">,</span> caret<span class="token punctuation">.</span>y<span class="token punctuation">,</span> caret<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>                particlePointer <span class="token operator">=</span> <span class="token punctuation">(</span>particlePointer <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">500</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">POWERMODE</span><span class="token punctuation">.</span>shake<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> intensity <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> x <span class="token operator">=</span> intensity <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> y <span class="token operator">=</span> intensity <span class="token operator">*</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>                    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginTop <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token constant">POWERMODE</span><span class="token punctuation">.</span>colorful <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> particles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> particle <span class="token operator">=</span> particles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>particle<span class="token punctuation">.</span>alpha <span class="token operator">&lt;=</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                particle<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y <span class="token operator">+=</span> <span class="token number">0.075</span><span class="token punctuation">;</span>                particle<span class="token punctuation">.</span>x <span class="token operator">+=</span> particle<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>x<span class="token punctuation">;</span>                particle<span class="token punctuation">.</span>y <span class="token operator">+=</span> particle<span class="token punctuation">.</span>velocity<span class="token punctuation">.</span>y<span class="token punctuation">;</span>                particle<span class="token punctuation">.</span>alpha <span class="token operator">*=</span> <span class="token number">0.96</span><span class="token punctuation">;</span>                context<span class="token punctuation">.</span>globalAlpha <span class="token operator">=</span> particle<span class="token punctuation">.</span>alpha<span class="token punctuation">;</span>                context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> particle<span class="token punctuation">.</span>color<span class="token punctuation">;</span>                context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>particle<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>particle<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span>        module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token constant">POWERMODE</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> properties <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'direction'</span><span class="token punctuation">,</span> <span class="token string">'boxSizing'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'overflowX'</span><span class="token punctuation">,</span> <span class="token string">'overflowY'</span><span class="token punctuation">,</span> <span class="token string">'borderTopWidth'</span><span class="token punctuation">,</span> <span class="token string">'borderRightWidth'</span><span class="token punctuation">,</span> <span class="token string">'borderBottomWidth'</span><span class="token punctuation">,</span> <span class="token string">'borderLeftWidth'</span><span class="token punctuation">,</span> <span class="token string">'borderStyle'</span><span class="token punctuation">,</span> <span class="token string">'paddingTop'</span><span class="token punctuation">,</span> <span class="token string">'paddingRight'</span><span class="token punctuation">,</span> <span class="token string">'paddingBottom'</span><span class="token punctuation">,</span> <span class="token string">'paddingLeft'</span><span class="token punctuation">,</span> <span class="token string">'fontStyle'</span><span class="token punctuation">,</span> <span class="token string">'fontVariant'</span><span class="token punctuation">,</span> <span class="token string">'fontWeight'</span><span class="token punctuation">,</span> <span class="token string">'fontStretch'</span><span class="token punctuation">,</span> <span class="token string">'fontSize'</span><span class="token punctuation">,</span> <span class="token string">'fontSizeAdjust'</span><span class="token punctuation">,</span> <span class="token string">'lineHeight'</span><span class="token punctuation">,</span> <span class="token string">'fontFamily'</span><span class="token punctuation">,</span> <span class="token string">'textAlign'</span><span class="token punctuation">,</span> <span class="token string">'textTransform'</span><span class="token punctuation">,</span> <span class="token string">'textIndent'</span><span class="token punctuation">,</span> <span class="token string">'textDecoration'</span><span class="token punctuation">,</span> <span class="token string">'letterSpacing'</span><span class="token punctuation">,</span> <span class="token string">'wordSpacing'</span><span class="token punctuation">,</span> <span class="token string">'tabSize'</span><span class="token punctuation">,</span> <span class="token string">'MozTabSize'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> isFirefox <span class="token operator">=</span> window<span class="token punctuation">.</span>mozInnerScreenX <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">function</span> <span class="token function">getCaretCoordinates</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> position<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> debug <span class="token operator">=</span> options <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>debug <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>debug<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#input-textarea-caret-position-mirror-div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        el<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'input-textarea-caret-position-mirror-div'</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> style <span class="token operator">=</span> div<span class="token punctuation">.</span>style<span class="token punctuation">;</span>                <span class="token keyword">var</span> computed <span class="token operator">=</span> window<span class="token punctuation">.</span>getComputedStyle <span class="token operator">?</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token operator">:</span> element<span class="token punctuation">.</span>currentStyle<span class="token punctuation">;</span>                style<span class="token punctuation">.</span>whiteSpace <span class="token operator">=</span> <span class="token string">'pre-wrap'</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>nodeName <span class="token operator">!==</span> <span class="token string">'INPUT'</span><span class="token punctuation">)</span> style<span class="token punctuation">.</span>wordWrap <span class="token operator">=</span> <span class="token string">'break-word'</span><span class="token punctuation">;</span>                style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>debug<span class="token punctuation">)</span> style<span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>                properties<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">prop</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    style<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> computed<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>isFirefox<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>scrollHeight <span class="token operator">></span> <span class="token function">parseInt</span><span class="token punctuation">(</span>computed<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span> style<span class="token punctuation">.</span>overflowY <span class="token operator">=</span> <span class="token string">'scroll'</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                div<span class="token punctuation">.</span>textContent <span class="token operator">=</span> element<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>nodeName <span class="token operator">===</span> <span class="token string">'INPUT'</span><span class="token punctuation">)</span> div<span class="token punctuation">.</span>textContent <span class="token operator">=</span> div<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"\u00a0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                span<span class="token punctuation">.</span>textContent <span class="token operator">=</span> element<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'.'</span><span class="token punctuation">;</span>                div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> coordinates <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> span<span class="token punctuation">.</span>offsetTop <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>computed<span class="token punctuation">[</span><span class="token string">'borderTopWidth'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> span<span class="token punctuation">.</span>offsetLeft <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>computed<span class="token punctuation">[</span><span class="token string">'borderLeftWidth'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>debug<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#aaa'</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> coordinates<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> module <span class="token operator">!=</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module<span class="token punctuation">.</span>exports <span class="token operator">!=</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                module<span class="token punctuation">.</span>exports <span class="token operator">=</span> getCaretCoordinates<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                window<span class="token punctuation">.</span>getCaretCoordinates <span class="token operator">=</span> getCaretCoordinates<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨<code>themes\matery\layout\layout.ejs</code>ä¸­æ·»åŠ </p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token comment">&lt;!-- æ·»åŠ æ‰“å­—çˆ†ç‚¸ç‰¹æ•ˆ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/activate-power-mode.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token constant">POWERMODE</span><span class="token punctuation">.</span>colorful <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// make power mode colorful</span>    <span class="token constant">POWERMODE</span><span class="token punctuation">.</span>shake <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// turn off shake</span>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token constant">POWERMODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰¹æ•ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>valine</title>
      <link href="/posts/9997.html"/>
      <url>/posts/9997.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹å­—ä½“</title>
      <link href="/posts/3356.html"/>
      <url>/posts/3356.html</url>
      
        <content type="html"><![CDATA[<h1 id="å­—ä½“ä¿®æ”¹"><a href="#å­—ä½“ä¿®æ”¹" class="headerlink" title="å­—ä½“ä¿®æ”¹"></a>å­—ä½“ä¿®æ”¹</h1><h2 id="å¸¸è§å­—ä½“"><a href="#å¸¸è§å­—ä½“" class="headerlink" title="å¸¸è§å­—ä½“"></a>å¸¸è§å­—ä½“</h2><p>å­—ä½“æ–‡ä»¶æ ¼å¼åœ¨Webå¼€å‘ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„webå­—ä½“æ ¼å¼ï¼š</p><ol><li><p><strong>TrueType (.ttf)</strong></p><ul><li>TrueType æ˜¯ä¸€ç§å¹¿æ³›åº”ç”¨äºWindowså’ŒMacæ“ä½œç³»ç»Ÿçš„å­—ä½“æ ¼å¼ã€‚å®ƒé€šè¿‡æ•°å­¦æ¨¡å¼å®šä¹‰è½®å»“æŠ€æœ¯ï¼Œä½¿å¾—å­—ä½“åœ¨ç¼©æ”¾æˆ–æ—‹è½¬æ—¶ä¿æŒæ¸…æ™°æ— é”¯é½¿çš„æ˜¾ç¤ºæ•ˆæœã€‚</li></ul></li><li><p><strong>Embedded Open Type (.eot)</strong></p><ul><li>EOTï¼ˆåµŒå…¥å¼OpenTypeï¼‰æ˜¯å¾®è½¯ä¸“ä¸ºç½‘é¡µè®¾è®¡çš„ä¸€ç§å­—ä½“æ ¼å¼ï¼Œå…è®¸å°†OpenTypeå­—ä½“åµŒå…¥åˆ°ç½‘é¡µå¹¶ç”±æµè§ˆå™¨ä¸‹è½½æ¸²æŸ“ã€‚è¿™ç§æ ¼å¼ç¡®ä¿å­—ä½“åªåœ¨ç”¨æˆ·æµè§ˆå½“å‰é¡µé¢æ—¶ä¸´æ—¶å®‰è£…åœ¨ç³»ç»Ÿä¸­ã€‚</li></ul></li><li><p><strong>OpenType (.otf)</strong></p><ul><li>OpenTypeæ˜¯ä¸€ç§é«˜çº§çš„å­—å‹æ ¼å¼ï¼Œç»“åˆäº†TrueTypeå’ŒPostScriptçš„ä¼˜ç‚¹ï¼Œæ”¯æŒå¤šç§å¤æ‚ç‰¹æ€§å¦‚è¿å­—ã€å¤šè¯­è¨€æ”¯æŒç­‰ã€‚ç”±å¾®è½¯ä¸Adobeè”åˆå¼€å‘ï¼Œå…¶æ–‡ä»¶æ‰©å±•åä¸º.otfã€‚</li></ul></li><li><p><strong>Web Open Font Format (.woff)</strong></p><ul><li>WOFFï¼ˆWeb Open Font Formatï¼‰æ˜¯ä¸“é—¨ä¸ºç½‘ç»œåº”ç”¨ä¼˜åŒ–çš„å­—ä½“æ ¼å¼ï¼Œæ˜¯å¯¹TrueTypeå’ŒOpenTypeæ ¼å¼çš„å°è£…å’Œå‹ç¼©ç‰ˆæœ¬ã€‚WOFFæ–‡ä»¶åŒ…å«äº†å­—ä½“æ•°æ®å’Œå…ƒæ•°æ®ï¼Œå¹¶é’ˆå¯¹ç½‘ç»œä¼ è¾“è¿›è¡Œäº†é«˜æ•ˆå‹ç¼©ï¼Œæ— åŠ å¯†æˆ–DRMä¿æŠ¤æªæ–½ï¼Œè¢«å„å¤§ä¸»æµå­—ä½“ä¾›åº”å•†å¹¿æ³›æ”¯æŒã€‚</li></ul></li><li><p><strong>SVG Fonts (.svg, .svgz)</strong></p><ul><li>SVG Fonts ä½¿ç”¨SVGï¼ˆScalable Vector Graphicsï¼‰æŠ€æœ¯æ¥å‘ˆç°å­—ä½“ï¼Œè¿™æ„å‘³ç€å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯çŸ¢é‡å›¾å½¢ï¼Œå¯ä»¥ä»»æ„ç¼©æ”¾è€Œä¸å¤±çœŸã€‚SVGå­—ä½“å¯ä»¥é€šè¿‡ç®€å•çš„æ–‡æœ¬å‘½ä»¤å®ç°ä¸°å¯Œçš„å›¾å½¢å›¾åƒæ•ˆæœï¼ŒåŒ…æ‹¬è‰²å½©æ¸å˜ã€è·¯å¾„ã€è‡ªå®šä¹‰å­—ä½“ä»¥åŠé€æ˜å’Œæ»¤é•œæ•ˆæœç­‰ã€‚å…¶ä¸­.svgzæ˜¯gzipå‹ç¼©è¿‡çš„SVGå­—ä½“æ ¼å¼ï¼Œæ›´åˆ©äºç½‘ç»œä¼ è¾“ã€‚</li></ul></li></ol><p>CSSæ”¯æŒå­—ä½“æ ·å¼ï¼Œé€šè¿‡@font-faceå±æ€§åœ¨ç½‘é¡µä¸­åµŒå…¥è‡ªå®šä¹‰å­—ä½“ï¼Œä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒè¿™ç§æ–¹å¼ï¼ŒåŒæ—¶CSSå­—ä½“å±æ€§è¿˜å¯ä»¥å®šä¹‰å­—ä½“ï¼ŒåŠ ç²—ï¼Œå¤§å°ï¼Œæ–‡å­—æ ·å¼ç­‰ã€‚</p><p>é»˜è®¤æ”¯æŒ:</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"serif"</span><span class="token punctuation">,</span><span class="token string">"sans-serif"</span><span class="token punctuation">,</span><span class="token string">"cursive"</span><span class="token punctuation">,</span><span class="token string">"fantasy"</span><span class="token punctuation">,</span><span class="token string">"monospace"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span><span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"sans-serif,monospace,å¾®è½¯é›…é»‘,é»‘ä½“,å®‹ä½“"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>&lt;body><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘å–œæ¬¢çš„å†™æ³•ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.myfont</span><span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span><span class="token string">"å¾®è½¯é›…é»‘"</span><span class="token punctuation">,</span><span class="token string">"é»‘ä½“"</span><span class="token punctuation">,</span><span class="token string">"å®‹ä½“"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myfont<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> Hello World! è¿™ä¸ªç½‘ç«™å¾ˆé…· zhangxiaocai.cn <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è‡ªå®šä¹‰å¼•å…¥"><a href="#è‡ªå®šä¹‰å¼•å…¥" class="headerlink" title="è‡ªå®šä¹‰å¼•å…¥"></a>è‡ªå®šä¹‰å¼•å…¥</h3><p>å¦‚æœæƒ³ä½¿ç”¨è‡ªå®šä¹‰çš„å­—ä½“ï¼Œé¦–å…ˆå¼•å…¥</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">&#123;</span>       <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myfont'</span><span class="token punctuation">;</span>       <span class="token property">src</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'å­—ä½“æ–‡ä»¶1.woff'</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>     <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'å­—ä½“æ–‡ä»¶2.ttf'</span><span class="token punctuation">)</span></span><span class="token punctuation">,</span>       <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'å­—ä½“æ–‡ä»¶3.eot'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body</span><span class="token punctuation">&#123;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myfont'</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://zhangxiaocai.cn/posts/8f5c11d2.html">é™æ€åšå®¢-å­—ä½“æ›´æ¢ | æ–¯è«ç¬”è®° (zhangxiaocai.cn)</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­—ä½“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¼˜åŒ–</title>
      <link href="/posts/8410.html"/>
      <url>/posts/8410.html</url>
      
        <content type="html"><![CDATA[<h1 id="hexoä¼˜åŒ–"><a href="#hexoä¼˜åŒ–" class="headerlink" title="hexoä¼˜åŒ–"></a>hexoä¼˜åŒ–</h1><h2 id="cnpm"><a href="#cnpm" class="headerlink" title="cnpm"></a>cnpm</h2><blockquote><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="http://npm.taobao.org/">æ·˜å® NPM é•œåƒ</a></strong></p></blockquote><p>è¿™æ˜¯ä¸€ä¸ªå®Œæ•´ <strong>npmjs.org</strong> é•œåƒï¼Œä½ å¯ä»¥ç”¨æ­¤ä»£æ›¿å®˜æ–¹ç‰ˆæœ¬ï¼ˆåªè¯»ï¼‰ï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º 10 åˆ†é’Ÿ ä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡å™¨åŒæ­¥ã€‚åœ¨ <strong>npm</strong> æ— æ³•åŒæ­¥æ—¶æä¾›å¸®åŠ©ã€‚</p><p><strong>æ‰“å¼€å‘½ä»¤è¡Œçª—å£å®‰è£…</strong>ï¼š<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><h4 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h4><p>ä» <a href="https://registry.npm.taobao.org/">registry.npm.taobao.org</a> å®‰è£…æ‰€æœ‰æ¨¡å—ã€‚å½“å®‰è£…çš„æ—¶å€™å‘ç°å®‰è£…çš„æ¨¡å—è¿˜æ²¡æœ‰åŒæ­¥è¿‡æ¥ï¼Œæ·˜å® NPM ä¼šè‡ªåŠ¨åœ¨åå°è¿›è¡ŒåŒæ­¥ï¼Œå¹¶ä¸”ä¼šè®©ä½ ä»å®˜æ–¹ NPM <a href="https://registry.npm.taobao.org/">registry.npm.taobao.org</a> è¿›è¡Œå®‰è£…ã€‚ä¸‹æ¬¡ä½ å†å®‰è£…è¿™ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå°±ä¼šç›´æ¥ä» æ·˜å® NPM å®‰è£…äº†ã€‚</p><pre class="line-numbers language-none"><code class="language-none">$ cnpm install [name]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åŒæ­¥æ¨¡å—"><a href="#åŒæ­¥æ¨¡å—" class="headerlink" title="åŒæ­¥æ¨¡å—"></a>åŒæ­¥æ¨¡å—</h4><p>ç›´æ¥é€šè¿‡ <code>sync</code> å‘½ä»¤é©¬ä¸ŠåŒæ­¥ä¸€ä¸ªæ¨¡å—, åªæœ‰ <code>cnpm</code> å‘½ä»¤è¡Œæ‰æœ‰æ­¤åŠŸèƒ½:</p><pre class="line-numbers language-none"><code class="language-none">$ cnpm sync connect<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å½“ç„¶, ä½ å¯ä»¥ç›´æ¥é€šè¿‡ web æ–¹å¼æ¥åŒæ­¥: <a href="https://npm.taobao.org/sync/connect">&#x2F;sync&#x2F;connect</a></p><pre class="line-numbers language-none"><code class="language-none">$ open https:&#x2F;&#x2F;npm.taobao.org&#x2F;sync&#x2F;connect<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å…¶å®ƒå‘½ä»¤"><a href="#å…¶å®ƒå‘½ä»¤" class="headerlink" title="å…¶å®ƒå‘½ä»¤"></a>å…¶å®ƒå‘½ä»¤</h4><p>æ”¯æŒ <code>npm</code> é™¤äº† <code>publish</code> ä¹‹å¤–çš„æ‰€æœ‰å‘½ä»¤, å¦‚:</p><pre class="line-numbers language-none"><code class="language-none">$ cnpm info connect<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="InstantClick"><a href="#InstantClick" class="headerlink" title="InstantClick"></a>InstantClick</h2><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="https://www.liuxinggang.com/2016-12-06-hexo%E5%8D%9A%E5%AE%A2%E8%BF%9B%E9%98%B6%EF%BC%8D%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">åˆ˜å…´åˆšåšå®¢</a></strong></p><p><strong>Next ä¸»é¢˜ ç°å·²é›†æˆ quicklink</strong></p><p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¸ºäº†å‡å°‘ <strong>DNS</strong> çš„æŸ¥è¯¢æ—¶é—´ï¼Œä½¿ç”¨ <strong>dns prefetch</strong> ä¸ºè¯¥é¡µé¢ä¸­çš„é“¾æ¥åšè§£æï¼Œæå‡é¡µé¢çš„åŠ è½½é€Ÿåº¦ã€‚ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¼ æ ‡æ»‘åˆ°é“¾æ¥ä¸Šåˆ°ç‚¹å‡»çš„æ—¶é—´é—´éš™å»åŠ è½½è¿™ä¸ªé¡µé¢ï¼Œé€šå¸¸è¿™ä¸ªé—´éš™æœ‰å‡ ç™¾æ¯«ç§’ï¼Œåˆ©ç”¨ <strong>InstantClick</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨è¿™å‡ ç™¾æ¯«ç§’ï¼Œè®©ç½‘ç«™èƒ½å¤Ÿç¬é—´æ˜¾ç¤ºæ–°é¡µé¢ï¼Œå‡ ä¹æ²¡æœ‰å»¶è¿Ÿã€‚</p><p>ä½†æ˜¯ <strong>InstantClick</strong> å¹¶ä¸èƒ½æ»¥ç”¨ï¼Œè®¸å¤š <strong>js</strong> æ— æ³•ä¸å®ƒå…¼å®¹ï¼Œå¦‚<strong>è°·æ­Œåˆ†æ</strong>ã€<strong>ç™¾åº¦ç»Ÿè®¡</strong>ä»¥åŠ <strong>fancybox</strong>ã€‚</p><p>åˆå§‹åŒ–å¹¶è§£å†³éƒ¨åˆ† <strong>js</strong> æ— æ³•åŠ è½½çš„é—®é¢˜ï¼š</p><p><strong>æ‰“å¼€</strong>ã€€<code>\hexo-theme-next\layout\_partials\head.njk</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"\js\custom\instantclick.min.js"</span> data<span class="token operator">-</span>no<span class="token operator">-</span>instant<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>   <span class="token operator">&lt;</span>script data<span class="token operator">-</span>no<span class="token operator">-</span>instant<span class="token operator">></span>   InstantClick<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">isInitialLoad</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>isInitialLoad <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> MathJax <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token comment">// support MathJax</span>     MathJax<span class="token punctuation">.</span>Hub<span class="token punctuation">.</span><span class="token function">Queue</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Typeset"</span><span class="token punctuation">,</span>MathJax<span class="token punctuation">.</span>Hub<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prettyPrint <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token comment">// support google code prettify</span>     <span class="token function">prettyPrint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> _hmt <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span>  <span class="token comment">// support ç™¾åº¦ç»Ÿè®¡</span>     _hmt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'_trackPageview'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname <span class="token operator">+</span> location<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> ga <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span>  <span class="token comment">// support google analytics</span>       <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'pageview'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname <span class="token operator">+</span> location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   InstantClick<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¸‹è½½</strong>ã€€ <a href="http://instantclick.io/v3.1.0/instantclick.min.js">instantclick.min.js</a></p><p><strong>æ‰“å¼€</strong>ã€€<code>\hexo-theme-next\source\js\custom\</code></p><p><strong>æ”¾ç½®</strong>ã€€<code>instantclick.min.js</code></p><p>è¿™æ—¶å€™å¯¹äºæ‰€æœ‰é“¾æ¥éƒ½å¼€å¯<strong>é¢„åŠ è½½æ¨¡å¼</strong>ï¼Œä½†å¯ä»¥æŠŠéƒ¨åˆ†é“¾æ¥åŠ å…¥é»‘åå•ï¼š<br><code>&lt;a href=&quot;\blog\&quot; data-no-instant&gt;Blog&lt;/a&gt;</code></p><h2 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h2><h3 id="5-1-Gulp"><a href="#5-1-Gulp" class="headerlink" title="5.1. Gulp"></a>5.1. Gulp</h3><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="https://chanshiyu.com/">è‰æ™‚é›¨</a></strong></p><p><strong>gulp.js</strong> æ˜¯åŸºäºæµçš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>Gulp</strong> ä¸º Hexo å‹ç¼©æ–‡ä»¶</p><p><strong>åœ¨ \blog\ æ‰“å¼€å‘½ä»¤è¡Œçª—å£</strong></p><p><strong>å®‰è£…</strong></p><pre class="line-numbers language-none"><code class="language-none">npm install gulp --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å†æ ¹æ®éœ€è¦å®‰è£…ä»¥ä¸‹æ¨¡å—</strong></p><pre class="line-numbers language-none"><code class="language-none">npm install gulp-minify-css --savenpm install gulp-uglify --savenpm install gulp-htmlmin --savenpm install gulp-htmlclean --savenpm install gulp-imagemin --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\</code></p><p><strong>æ–°å»º</strong>ã€€<code>gulpfile.js</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> minifycss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-minify-css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-uglify'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> htmlmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-htmlmin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> htmlclean <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-htmlclean'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gulp-imagemin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‹ç¼©htmlæ–‡ä»¶</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-html'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./public/**/*.html'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlclean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlmin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token literal-property property">minifyJS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token literal-property property">minifyCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token literal-property property">minifyURLs</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‹ç¼©cssæ–‡ä»¶</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-css'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./public/**/*.css'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">minifycss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‹ç¼©jsæ–‡ä»¶</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./public/**/.js'</span><span class="token punctuation">,</span><span class="token string">'!./public/js/**/*min.js'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‹ç¼© public/images ç›®å½•å†…å›¾ç‰‡</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'minify-images'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./public/images/**/*.*'</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">imagemin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>     <span class="token literal-property property">optimizationLevel</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//ç±»å‹ï¼šNumber  é»˜è®¤ï¼š3  å–å€¼èŒƒå›´ï¼š0-7ï¼ˆä¼˜åŒ–ç­‰çº§ï¼‰</span>     <span class="token literal-property property">progressive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse æ— æŸå‹ç¼©jpgå›¾ç‰‡</span>     <span class="token literal-property property">interlaced</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse éš”è¡Œæ‰«ægifè¿›è¡Œæ¸²æŸ“</span>     <span class="token literal-property property">multipass</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ç±»å‹ï¼šBoolean é»˜è®¤ï¼šfalse å¤šæ¬¡ä¼˜åŒ–svgç›´åˆ°å®Œå…¨ä¼˜åŒ–</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./public/uploads'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é»˜è®¤ä»»åŠ¡ gulp 4.0 é€‚ç”¨çš„æ–¹å¼</span>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token string">'minify-html'</span><span class="token punctuation">,</span> <span class="token string">'minify-css'</span><span class="token punctuation">,</span> <span class="token string">'minify-js'</span><span class="token punctuation">,</span> <span class="token string">'minify-images'</span> <span class="token comment">//build the website</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¾ç…§æ ¼å¼ï¼Œåˆ é™¤æœªå®‰è£…æ¨¡å—çš„ä»£ç éƒ¨åˆ†</strong></p><p><strong>åœ¨å‘½ä»¤è¡Œå†…è¾“å…¥ <code>$ gulp</code> å³å¯è¿è¡Œ</strong></p><p><strong>ä¸€é”®åŒæ­¥ä»£ç å‚ç…§ã€€<a href="https://qianling.pw/hexo-optimization/#7">7. æ‰¹å¤„ç†è„šæœ¬è‡ªåŠ¨åˆ›å»ºæ–‡ç« åŠä¸€é”®éƒ¨ç½²</a></strong></p><p><strong>æŠŠå› åˆ é™¤ç©ºæ ¼ç¼©å°çš„é—´è·è°ƒæ•´å›æ¥ï¼š</strong></p><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\source\_data\styles.styl</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; gulp é—´è·è°ƒæ•´span.leancloud-visitors-count, span.post-comments-count.valine-comment-count &#123;  padding-left: 2px;&#125;i.fa.fa-ravelry &#123;  padding-left: 5px;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-2-hexo-neat"><a href="#5-2-hexo-neat" class="headerlink" title="5.2. hexo-neat"></a>5.2. hexo-neat</h3><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="https://blog.csdn.net/lewky_liu/article/details/82432003">HexoçæŠ˜è…¾ç³»åˆ—(5) - ä½¿ç”¨hexo-neatæ’ä»¶å‹ç¼©é¡µé¢é™æ€èµ„æº</a></strong></p><p><strong>å·²çŸ¥ BUGï¼š</strong></p><ul><li><strong>å‹ç¼© md æ–‡ä»¶ä¼šä½¿ markdown è¯­æ³•çš„ä»£ç å—æ¶ˆå¤±</strong></li><li><strong>ä¼šåˆ é™¤å…¨è§’ç©ºæ ¼</strong></li></ul><p><strong>å®‰è£…</strong>ã€€<code>npm install hexo-neat --save</code></p><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\_config.yml</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># hexo-neat</span><span class="token comment"># å¼€å…³</span><span class="token key atrule">neat_enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token comment"># å‹ç¼© html</span><span class="token key atrule">neat_html</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">exclude</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token string">'**/*.md'</span><span class="token comment"># å‹ç¼© css</span><span class="token key atrule">neat_css</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">exclude</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> <span class="token string">'**/*.min.css'</span><span class="token comment"># å‹ç¼© js</span><span class="token key atrule">neat_js</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">mangle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">output</span><span class="token punctuation">:</span>  <span class="token key atrule">compress</span><span class="token punctuation">:</span>  <span class="token key atrule">exclude</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> <span class="token string">'**/*.min.js'</span>  <span class="token punctuation">-</span> <span class="token string">'**/jquery.fancybox.pack.js'</span>  <span class="token punctuation">-</span> <span class="token string">'**/index.js'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h2><p><strong>æ•™ç¨‹ã€€<a href="https://qianling.pw/service-worker/">Hexo éƒ¨ç½² Service Worker</a></strong></p><p>Service workers æœ¬è´¨ä¸Šå……å½“ Web åº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œä¸ºäº†é€‚åº”è¶Šæ¥è¶Šå¤šçš„ç½‘é¡µåº”ç”¨è€Œäº§ç”Ÿã€‚</p><p>å®ƒå¯ä»¥é€šè¿‡æ‹¦æˆªå¹¶ä¿®æ”¹è®¿é—®å’Œèµ„æºè¯·æ±‚ï¼Œç¼“å­˜ç‰¹å®šçš„ç½‘é¡µèµ„æºï¼Œå¹¶å¯ä»¥å°†ç½‘é¡µåšåˆ°ç¦»çº¿å¯ç”¨ï¼›</p><p>åŒæ—¶ Service Workers ä¹Ÿèƒ½åšåˆ°å®šæœŸåå°åŒæ­¥ä¸ä¿¡æ¯æ¨é€ã€‚</p><p>éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å¯ä»¥èŠ‚çœç”¨æˆ·æµé‡ã€æå‡é¡µé¢äºŒæ¬¡åŠ è½½é€Ÿåº¦ç­‰ã€‚</p><h2 id="æ‰¹å¤„ç†è„šæœ¬è‡ªåŠ¨åˆ›å»ºæ–‡ç« åŠä¸€é”®éƒ¨ç½²"><a href="#æ‰¹å¤„ç†è„šæœ¬è‡ªåŠ¨åˆ›å»ºæ–‡ç« åŠä¸€é”®éƒ¨ç½²" class="headerlink" title="æ‰¹å¤„ç†è„šæœ¬è‡ªåŠ¨åˆ›å»ºæ–‡ç« åŠä¸€é”®éƒ¨ç½²"></a>æ‰¹å¤„ç†è„šæœ¬è‡ªåŠ¨åˆ›å»ºæ–‡ç« åŠä¸€é”®éƒ¨ç½²</h2><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\</code></p><p><strong>æ–°å»º</strong>ã€€<code>æ–°å»ºæ–‡ç« .bat</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">set &quot;a&#x3D;%date:~,4%&quot;set &quot;b&#x3D;%date:~5,2%&quot;set &quot;c&#x3D;%date:~8,2%&quot;hexo new &quot;%a%-%b%-%c%&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å‘½åæ ¼å¼ä¸ºã€€<code>å¹´-æœˆ-æ—¥.md</code></strong></p><p><strong>éƒ¨ç½²å¯å†™ä¸º</strong>ã€€<code>hexo clean &amp; hexo g -d</code></p><p><strong>è‹¥ä½¿ç”¨ gulp åˆ™å†™ä¸º</strong>ã€€<code>hexo clean &amp; hexo g &amp;&amp; gulp &amp; hexo deploy</code></p><h2 id="æ·»åŠ æ ‡é¢˜åº•éƒ¨æ¨ªçº¿"><a href="#æ·»åŠ æ ‡é¢˜åº•éƒ¨æ¨ªçº¿" class="headerlink" title="æ·»åŠ æ ‡é¢˜åº•éƒ¨æ¨ªçº¿"></a>æ·»åŠ æ ‡é¢˜åº•éƒ¨æ¨ªçº¿</h2><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="http://yuchen-lea.github.io/">è·¬æ­¥</a></strong></p><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\source\_data\styles.styl</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">h1, h2, h3, h4, h5, h6 &#123;  border-bottom: 2px solid #8c8c8c;  padding: 0 5% 2px 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é˜…è¯»è¿›åº¦æ¡"><a href="#é˜…è¯»è¿›åº¦æ¡" class="headerlink" title="é˜…è¯»è¿›åº¦æ¡"></a>é˜…è¯»è¿›åº¦æ¡</h2><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="https://isudox.com/2016/07/14/customize-hexo-theme/">I sudo X</a></strong></p><p><strong>æ¯”è‡ªå¸¦çš„æ›´å¥½çœ‹ã€‚</strong></p><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\source\_data\header.njk</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">&lt;div class&#x3D;&quot;top-scroll-bar&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ‰“å¼€</strong>ã€€<code>\blog\source\_data\styles.styl</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;é¡¶éƒ¨é˜…è¯»è¿›åº¦æ¡.top-scroll-bar &#123;  position: fixed;  height: 3px;  top: 0;  left: 0;  transition-duration: 0.7s,0.7s;  transiton-property: width,background;  z-index: 99999;  display: none;  background: #37C6C0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ‰“å¼€</strong>ã€€<code>\hexo-theme-next\source\js\custom\custom.js</code></p><p><strong>æ·»åŠ </strong></p><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;é˜…è¯»è¿›åº¦æ¡$(document).ready(function () &#123;  $(window).scroll(function()&#123;  $(&quot;.top-scroll-bar&quot;).attr(&quot;style&quot;, &quot;width: &quot; + ($(this).scrollTop() &#x2F; ($(document).height() - $(this).height()) * 100) + &quot;%; display: block;&quot;);  var s&#x3D;$(window).scrollTop();  var a&#x3D;$(document).height();  var b&#x3D;$(window).height();  var result&#x3D;parseInt(s&#x2F;(a-b)*100);  $(&quot;.top-scroll-bar&quot;).css(&quot;width&quot;,result+&quot;%&quot;);  if(result&gt;&#x3D;0&amp;&amp;result&lt;&#x3D;19)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#cccccc&quot;);  if(result&gt;&#x3D;20&amp;&amp;result&lt;&#x3D;39)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#50bcb6&quot;);  if(result&gt;&#x3D;40&amp;&amp;result&lt;&#x3D;59)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#85c440&quot;);  if(result&gt;&#x3D;60&amp;&amp;result&lt;&#x3D;79)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#f2b63c&quot;);  if(result&gt;&#x3D;80&amp;&amp;result&lt;&#x3D;99)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#FF0000&quot;);  if(result&#x3D;&#x3D;100)  $(&quot;.top-scroll-bar&quot;).css(&quot;background&quot;,&quot;#f58ca1&quot;);  &#125;);&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åœ¨çº¿é˜…è¯»pdf"><a href="#åœ¨çº¿é˜…è¯»pdf" class="headerlink" title="åœ¨çº¿é˜…è¯»pdf"></a>åœ¨çº¿é˜…è¯»pdf</h2><p>å‚è€ƒï¼š<a href="https://breezs.gitee.io/posts/202203081740.html">å¦‚ä½•åœ¨hexoåšå®¢ä¸­åœ¨çº¿é˜…è¯»pdf | å†°å±±ä¸€æ ‘Sankey (gitee.io)</a></p><h2 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="headerlink" title="å›¾ç‰‡æ‡’åŠ è½½"></a>å›¾ç‰‡æ‡’åŠ è½½</h2><h2 id="æ·»åŠ äºŒçº§èœå•åŠŸèƒ½"><a href="#æ·»åŠ äºŒçº§èœå•åŠŸèƒ½" class="headerlink" title="æ·»åŠ äºŒçº§èœå•åŠŸèƒ½#"></a>æ·»åŠ äºŒçº§èœå•åŠŸèƒ½<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#727338988">#</a></h2><p><a href="https://sunhwee.com/posts/65d7181d.html">https://sunhwee.com/posts/65d7181d.html</a></p><h2 id="æ·»åŠ å—æŠ˜å åŠŸèƒ½"><a href="#æ·»åŠ å—æŠ˜å åŠŸèƒ½" class="headerlink" title="æ·»åŠ å—æŠ˜å åŠŸèƒ½#"></a>æ·»åŠ å—æŠ˜å åŠŸèƒ½<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#540873996">#</a></h2><p><a href="https://www.cnblogs.com/chendeqiang/p/12861726.html">åšå®¢-hexo-materyä¸»é¢˜æ”¹é€ ç¬”è®° - å¤šå¼—æœ—å¼ºå“¥ - åšå®¢å›­ (cnblogs.com)</a></p><p>å®‰è£…æ’ä»¶</p><pre class="line-numbers language-css" data-language="css"><code class="language-css">npm install hexo-sliding-spoiler --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”¨æ³•ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ç”Ÿæˆç”µå½±å¡"><a href="#ç”Ÿæˆç”µå½±å¡" class="headerlink" title="ç”Ÿæˆç”µå½±å¡#"></a>ç”Ÿæˆç”µå½±å¡<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#880159318">#</a></h2><p>å®‰è£…æ’ä»¶</p><pre class="line-numbers language-css" data-language="css"><code class="language-css">npm install hexo-tag-mtime --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”¨æ³•ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">&#123;</span>% mtime <span class="token number">218707</span> %<span class="token punctuation">&#125;</span>idå¯ä»¥åœ¨æ—¶å…‰ç½‘ https://www.mtime.com ç›¸åº”çš„ç”µå½±ç½‘å€è·å–<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="åŒéƒ¨ç½²åˆ†æµæ“ä½œ"><a href="#åŒéƒ¨ç½²åˆ†æµæ“ä½œ" class="headerlink" title="åŒéƒ¨ç½²åˆ†æµæ“ä½œ#"></a>åŒéƒ¨ç½²åˆ†æµæ“ä½œ<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#3338530695">#</a></h2><p><a href="http://www.purethought.cn/74d17cc3.html">www.purethought.cn/74d17cc3.html</a></p><h2 id="è¿œç¨‹éƒ¨ç½²"><a href="#è¿œç¨‹éƒ¨ç½²" class="headerlink" title="è¿œç¨‹éƒ¨ç½²#"></a>è¿œç¨‹éƒ¨ç½²<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#3568245540">#</a></h2><p>åº”ç”¨è…¾è®¯CloudStudioè¿›è¡Œè¿œç¨‹éƒ¨ç½²hexoã€‚è¿™æ ·çš„å¥½å¤„æ˜¯è·å¾—äº†é›†æˆåŒ–å¼€å‘ç¯å¢ƒå’Œå…¨ç½‘åŒ–å¼€å‘åŒ–å¢ƒï¼Œåªè¦æœ‰ç”µè„‘æœ‰ç½‘ç»œçš„åœ°æ–¹éƒ½å¯ä»¥éƒ¨ç½²åšå®¢äº†ã€‚</p><h3 id="ç§æœ‰ä»“åº“"><a href="#ç§æœ‰ä»“åº“" class="headerlink" title="ç§æœ‰ä»“åº“#"></a>ç§æœ‰ä»“åº“<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#3620572302">#</a></h3><p>é»˜è®¤æƒ…å†µä¸‹githubçš„ä»“åº“æ˜¯å…¬æœ‰çš„ï¼Œä»“åº“çš„å†…å®¹ä¼šè¢«æ‰€æœ‰äººçœ‹è§ï¼Œå› æ­¤å…ˆå»ºç«‹ä¸ªç§æœ‰åŒ–ä»“åº“å­˜å‚¨æºç ã€‚<br>åœ¨githubä¸Šæ–°å»ºä¸€ä¸ª<code>Private</code>ä»“åº“ï¼Œå¦‚ï¼šBlog</p><h3 id="ä¸Šä¼ æºç "><a href="#ä¸Šä¼ æºç " class="headerlink" title="ä¸Šä¼ æºç #"></a>ä¸Šä¼ æºç <a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#194976405">#</a></h3><p>åˆ é™¤ç¬¬ä¸‰æ–¹ä¸»é¢˜ä¸‹çš„.gitæ–‡ä»¶å¤¹ï¼›<br>é…ç½®.gitignoreæ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Copy.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šä¼ æºç åˆ°ç§æœ‰ä»“åº“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Copygit init  //åˆå§‹åŒ–æœ¬åœ°ä»“åº“<span class="token function">git</span> remote <span class="token function">add</span> origin ç§æœ‰ä»“åº“çš„gitåœ°å€  //æ·»åŠ è¿œç¨‹ä»“åº“<span class="token function">git</span> pull origin master<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> //æ·»åŠ æœ¬åœ°æ‰€æœ‰æ–‡ä»¶åˆ°ä»“åº“        <span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"blogæºæ–‡ä»¶"</span> //æ·»åŠ commit<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CloudStudio"><a href="#CloudStudio" class="headerlink" title="CloudStudio#"></a>CloudStudio<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#2131830712">#</a></h3><p>ç”³è¯·CloudStudioè´¦å·ï¼Œå¹¶<code>æ–°å»ºå·¥ä½œç©ºé—´</code><br>å…ˆé€‰æ‹©è¿è¡Œç¯å¢ƒï¼Œhexo<br>ç„¶åæ¥æºé€‰å…¶ä»–gitä»“åº“ï¼Œå¡«å†™ç§æœ‰ä»“åº“çš„gitåœ°å€ ï¼Œå¹¶å°†PUblishKeyæ·»åŠ åˆ°githubé‡Œ<br>ç­‰ä¸ªä¸‰äº”åˆ†é’Ÿï¼Œå°±ä¼šçœ‹åˆ°CloudStudioå·¥ä½œç«™äº†<br>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨CloudStudioéƒ¨ç½²åšå®¢äº†ï¼Œä¾‹å¦‚ä½¿ç”¨<code>hexo g</code>æµ‹è¯•ä¸€ä¸‹å…ˆã€‚</p><h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾#"></a>æµç¨‹å›¾<a href="https://www.cnblogs.com/chendeqiang/p/12861726.html#2934767672">#</a></h2><p>å®‰è£…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> hexo-filter-flowchart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”¨æ³•</p><pre class="line-numbers language-out" data-language="out"><code class="language-out">&#96; &#96; &#96;flowst&#x3D;&gt;start: Start|past:&gt;https:&#x2F;&#x2F;www.baidu.com[blank]e&#x3D;&gt;end: End:&gt;https:&#x2F;&#x2F;www.baidu.comop1&#x3D;&gt;operation: My Operation|pastop2&#x3D;&gt;operation: Stuff|currentsub1&#x3D;&gt;subroutine: My Subroutine|invalidcond&#x3D;&gt;condition: Yesor No?|approved:&gt;https:&#x2F;&#x2F;www.baidu.comc2&#x3D;&gt;condition: Good idea|rejectedio&#x3D;&gt;inputoutput: catch something...|requestst-&gt;op1(right)-&gt;condcond(yes, right)-&gt;c2cond(no)-&gt;sub1(left)-&gt;op1c2(yes)-&gt;io-&gt;ec2(no)-&gt;op2-&gt;e&#96; &#96; &#96;st&#x3D;&gt;start: Start|past:&gt;https:&#x2F;&#x2F;www.baidu.com[blank]e&#x3D;&gt;end: End:&gt;https:&#x2F;&#x2F;www.baidu.comop1&#x3D;&gt;operation: My Operation|pastop2&#x3D;&gt;operation: Stuff|currentsub1&#x3D;&gt;subroutine: My Subroutine|invalidcond&#x3D;&gt;condition: Yesor No?|approved:&gt;https:&#x2F;&#x2F;www.baidu.comc2&#x3D;&gt;condition: Good idea|rejectedio&#x3D;&gt;inputoutput: catch something...|requestst-&gt;op1(right)-&gt;condcond(yes, right)-&gt;c2cond(no)-&gt;sub1(left)-&gt;op1c2(yes)-&gt;io-&gt;ec2(no)-&gt;op2-&gt;e<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="SEOä¼˜åŒ–"><a href="#SEOä¼˜åŒ–" class="headerlink" title="SEOä¼˜åŒ–"></a>SEOä¼˜åŒ–</h2><p>- </p><ul><li><a href="https://blog.tianyichuxin.com/2022/05/42878.html#toc-heading-1">åŸºäºHexoçš„materyä¸»é¢˜æ­å»ºåšå®¢å¹¶æ·±åº¦ä¼˜åŒ– | å¤©å¼ˆåˆå¿ƒ (tianyichuxin.com)</a></li></ul><h2 id="ampä¼˜åŒ–"><a href="#ampä¼˜åŒ–" class="headerlink" title="ampä¼˜åŒ–"></a>ampä¼˜åŒ–</h2><p><a href="https://www.cnblogs.com/chendeqiang/p/12861726.html">åšå®¢-hexo-materyä¸»é¢˜æ”¹é€ ç¬”è®° - å¤šå¼—æœ—å¼ºå“¥ - åšå®¢å›­ (cnblogs.com)</a></p><p><code>hexo-generator-amp</code></p><h2 id="é™æ€èµ„æºåŠ é€Ÿï¼Œjsdelivrçš„æ›¿ä»£å“"><a href="#é™æ€èµ„æºåŠ é€Ÿï¼Œjsdelivrçš„æ›¿ä»£å“" class="headerlink" title="é™æ€èµ„æºåŠ é€Ÿï¼Œjsdelivrçš„æ›¿ä»£å“"></a>é™æ€èµ„æºåŠ é€Ÿï¼Œjsdelivrçš„æ›¿ä»£å“</h2><p><a href="https://blog.luzy.top/posts/2757854163/#more">é™æ€èµ„æºåŠ é€Ÿï¼Œå¯»æ‰¾jsdelivrçš„æ›¿ä»£å“ - æ±Ÿé£å¼•é›¨ã®å°poç«™ (luzy.top)</a></p><p><a href="https://blog.luzy.top/posts/2757854163/#more">é™æ€èµ„æºåŠ é€Ÿï¼Œå¯»æ‰¾jsdelivrçš„æ›¿ä»£å“ - æ±Ÿé£å¼•é›¨ã®å°poç«™ (luzy.top)</a></p><h2 id="æ–‡æœ«ç»“æŸæ ‡è®°"><a href="#æ–‡æœ«ç»“æŸæ ‡è®°" class="headerlink" title="æ–‡æœ«ç»“æŸæ ‡è®°"></a>æ–‡æœ«ç»“æŸæ ‡è®°</h2><p><strong>æœ¬èŠ‚å‚è€ƒè‡ªã€€<a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/#5-3-%E6%96%87%E7%AB%A0%E6%9C%AB%E5%B0%BE%E6%B7%BB%E5%8A%A0%E2%80%9C%E6%9C%AC%E6%96%87%E7%BB%93%E6%9D%9F%E2%80%9D%E6%A0%87%E8%AE%B0/">åŠ¡è™šç¬”è®°</a></strong></p><h2 id="è‡ªå®šä¹‰å†…ç½®æ ‡ç­¾"><a href="#è‡ªå®šä¹‰å†…ç½®æ ‡ç­¾" class="headerlink" title="è‡ªå®šä¹‰å†…ç½®æ ‡ç­¾"></a>è‡ªå®šä¹‰å†…ç½®æ ‡ç­¾</h2><p><a href="https://www.cnblogs.com/chendeqiang/p/12861726.html">åšå®¢-hexo-materyä¸»é¢˜æ”¹é€ ç¬”è®° - å¤šå¼—æœ—å¼ºå“¥ - åšå®¢å›­ (cnblogs.com)</a></p><p>åœ¨themes&#x2F;ä¸»é¢˜ ä¸‹æ–°å»ºscriptsæ–‡ä»¶å¤¹ï¼Œhexoä¼šè‡ªåŠ¨æ‰§è¡Œæ­¤æ–‡ä»¶å¤¹çš„å†…å®¹ã€‚<br>åœ¨scriptsæ–‡ä»¶å¤¾ä¸‹æ–°å»ºblock.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Copyhexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>tag<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> className <span class="token operator">=</span>  args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">'&lt;div class="uk-alert uk-alert-danger">&lt;i class="fa fa-warning">&lt;/i> '</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">ends</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>tag<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> className <span class="token operator">=</span>  args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">'&lt;div class="uk-alert uk-alert-success">&lt;i class="fa fa-check-circle">&lt;/i> '</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">ends</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>tag<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> content</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> className <span class="token operator">=</span>  args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token string">'&lt;div class="uk-alert uk-alert-warning">&lt;i class="fa fa-exclamation-circle">&lt;/i> '</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">ends</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨themes&#x2F;ä¸»é¢˜&#x2F;source&#x2F;css&#x2F;my.csså…§æ·»åŠ </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">Copy.uk-alert</span> <span class="token punctuation">&#123;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #ebf7fd<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #2d7091<span class="token punctuation">;</span>  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token function">rgba</span><span class="token punctuation">(</span>45<span class="token punctuation">,</span> 112<span class="token punctuation">,</span> 145<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 1px 0 #ffffff<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Modifier: `uk-alert-success` ========================================================================== */</span><span class="token selector">.uk-alert-success</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #f2fae3<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #659f13<span class="token punctuation">;</span>  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>101<span class="token punctuation">,</span> 159<span class="token punctuation">,</span> 19<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Modifier: `uk-alert-warning` ========================================================================== */</span><span class="token selector">.uk-alert-warning</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #fffceb<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #e28327<span class="token punctuation">;</span>  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>226<span class="token punctuation">,</span> 131<span class="token punctuation">,</span> 39<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* Modifier: `uk-alert-danger` ========================================================================== */</span><span class="token selector">.uk-alert-danger</span> <span class="token punctuation">&#123;</span>  <span class="token property">background</span><span class="token punctuation">:</span> #fff1f0<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #d85030<span class="token punctuation">;</span>  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>216<span class="token punctuation">,</span> 80<span class="token punctuation">,</span> 48<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶å¾Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚<br>ç”¨æ³•ï¼š</p><pre class="line-numbers language-w" data-language="w"><code class="language-w"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><p><a href="https://qianling.pw/hexo-optimization/">Hexo ä¼˜åŒ–æ±‡æ€» | åƒçµ (qianling.pw)</a></p></li><li><p><a href="https://blog.csdn.net/qq_44846853/article/details/104563887">Hexoåšå®¢ä¸»é¢˜å®‰è£…å’Œä¼˜åŒ–ï¼ˆäºŒï¼‰_hexo materyè®¾ç½®é›ªèŠ±é£˜è½-CSDNåšå®¢</a></p></li><li><p><a href="https://blog.sky03.cn/posts/42790.html">Hexoè¿›é˜¶ä¹‹å„ç§ä¼˜åŒ– | Sky03æˆ‘çš„è–°è¡£è‰</a></p></li><li><p><a href="https://www.cnblogs.com/chendeqiang/p/12861726.html">åšå®¢-hexo-materyä¸»é¢˜æ”¹é€ ç¬”è®° - å¤šå¼—æœ—å¼ºå“¥ - åšå®¢å›­ (cnblogs.com)</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¸¸ç”¨å‘½ä»¤</title>
      <link href="/posts/1d91.html"/>
      <url>/posts/1d91.html</url>
      
        <content type="html"><![CDATA[<h1 id="Dockerå¸¸ç”¨å‘½ä»¤"><a href="#Dockerå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Dockerå¸¸ç”¨å‘½ä»¤"></a>Dockerå¸¸ç”¨å‘½ä»¤</h1><p>å¼€å§‹å…¥é—¨Dockerå­¦ä¹ ï¼Œå¼€å§‹æ—¶é—´çš„æ™šäº†ç‚¹ï¼Œåªèƒ½å¤šèŠ±ç‚¹åŠŸå¤«åŠªåŠ›å­¦ä¹ äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402032139023.png" alt="DockerCheatSheet"></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402032139991.png" alt="DockerXmind"></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›¸å†Œè®¾ç½®</title>
      <link href="/posts/fb80.html"/>
      <url>/posts/fb80.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ·»åŠ ç›¸å†Œ"><a href="#æ·»åŠ ç›¸å†Œ" class="headerlink" title="æ·»åŠ ç›¸å†Œ"></a>æ·»åŠ ç›¸å†Œ</h1><h2 id="ä¸ºä»€ä¹ˆæ·»åŠ ç›¸å†Œ"><a href="#ä¸ºä»€ä¹ˆæ·»åŠ ç›¸å†Œ" class="headerlink" title="ä¸ºä»€ä¹ˆæ·»åŠ ç›¸å†Œ"></a>ä¸ºä»€ä¹ˆæ·»åŠ ç›¸å†Œ</h2><p>ä¸ªäººåšå®¢ä¸­æ·»åŠ ç›¸å†ŒåŠŸèƒ½ï¼Œä¸ä»…å…·å¤‡å¤šé¡¹å®ç”¨æ€§ä¸å¨±ä¹æ€§ä¼˜ç‚¹ï¼Œè€Œä¸”èƒ½å¤Ÿä¸°å¯Œåšå®¢çš„è¡¨è¾¾å½¢å¼ä¸å†…å®¹å±‚æ¬¡ï¼š</p><ol><li><strong>ä¿å­˜å’Œå±•ç¤ºå›¾ç‰‡</strong>ï¼šåšä¸»å¯ä»¥å°†è‡ªå·±æ‹æ‘„æˆ–æ”¶é›†åˆ°çš„å„ç§å–œæ¬¢çš„å›¾ç‰‡ä¸Šä¼ è‡³ç›¸å†Œï¼Œå¦‚æ—…è¡Œç…§ç‰‡ã€ä½œå“é›†ã€çµæ„Ÿç´ æç­‰ï¼Œä¸ºè‡ªå·±çš„åšå®¢åˆ›å»ºä¸€ä¸ªç‹¬ç‰¹çš„è§†è§‰æ¡£æ¡ˆåº“ï¼Œæ–¹ä¾¿éšæ—¶æŸ¥çœ‹å’Œåˆ†äº«ã€‚</li><li><strong>è®°å½•æ—¥å¸¸ç”Ÿæ´»</strong>ï¼šé€šè¿‡ç›¸å†ŒåŠŸèƒ½ï¼Œåšä¸»èƒ½å¤Ÿä»¥ç›´è§‚ä¸”ç”ŸåŠ¨çš„æ–¹å¼è®°å½•ä¸‹ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´ï¼Œå¦‚ç¾é£Ÿåˆ¶ä½œè¿‡ç¨‹ã€å®¶åº­èšä¼šç¬é—´ã€å­¦ä¹ å·¥ä½œè¿›å±•ã€æˆ·å¤–æ¢é™©ç»å†ç­‰ã€‚è¿™äº›å›¾åƒèµ„æ–™æ—¢æ˜¯å¯¹ç”Ÿæ´»è®°å¿†çš„æœ‰æ•ˆç•™å­˜ï¼Œä¹Ÿæ˜¯å‘è¯»è€…å±•ç°çœŸå®è‡ªæˆ‘ã€å¢è¿›æƒ…æ„Ÿäº¤æµçš„é‡è¦è½½ä½“ã€‚</li><li><strong>æ¿€å‘åˆ›ä½œçµæ„Ÿ</strong>ï¼šå¯¹äºè‰ºæœ¯åˆ›ä½œè€…æˆ–è€…å†™ä½œè€…æ¥è¯´ï¼Œè¿‡å¾€çš„å›¾ç‰‡è®°å½•å¯èƒ½æ˜¯æœªæ¥çš„åˆ›ä½œæºæ³‰ï¼Œç›¸å†Œçš„å­˜åœ¨å¯ä»¥å¸®åŠ©ä»–ä»¬å›é¡¾è¿‡å»ï¼ŒæŒ–æ˜æ–°çš„åˆ›æ„çµæ„Ÿã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨ä¸ªäººåšå®¢ä¸­æ·»åŠ ç›¸å†ŒåŠŸèƒ½ï¼Œä¸ä»…å¯ä»¥æ»¡è¶³åšä¸»ä¸ªæ€§åŒ–çš„éœ€æ±‚ï¼Œè¿˜èƒ½æœ‰æ•ˆå¢å¼ºåšå®¢çš„å¸å¼•åŠ›ï¼Œæå‡ç”¨æˆ·çš„æµè§ˆæ»¡æ„åº¦ï¼Œå¹¶ä¸ºåšä¸»æä¾›ä¸€ä¸ªçè´µçš„è®°å¿†å®åº“å’ŒæŒç»­åˆ›æ–°çš„åŠ¨åŠ›æ¥æºã€‚</p><h2 id="æ ·å¼ä¸€"><a href="#æ ·å¼ä¸€" class="headerlink" title="æ ·å¼ä¸€"></a>æ ·å¼ä¸€</h2><h3 id="æ¼”ç¤ºæ•ˆæœ"><a href="#æ¼”ç¤ºæ•ˆæœ" class="headerlink" title="æ¼”ç¤ºæ•ˆæœ"></a>æ¼”ç¤ºæ•ˆæœ</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402022017255.png" alt="galleries"></p><h3 id="æ·»åŠ ã€ç›¸å†Œã€‘èœå•"><a href="#æ·»åŠ ã€ç›¸å†Œã€‘èœå•" class="headerlink" title="æ·»åŠ ã€ç›¸å†Œã€‘èœå•"></a>æ·»åŠ ã€ç›¸å†Œã€‘èœå•</h3><ol><li><p>è¿›å…¥ä¸»é¢˜ï¼ˆmateryï¼‰ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlï¼Œåœ¨menuä¸‹æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">Galleries</span><span class="token punctuation">:</span>    <span class="token key atrule">url</span><span class="token punctuation">:</span> /galleries    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fa<span class="token punctuation">-</span>photo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨ä¸»é¢˜ï¼ˆmateryï¼‰ä¸‹çš„languagesä¸‹çš„</p><p>default.ymlï¼ˆè‹±æ–‡ï¼‰æ·»åŠ ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">galleries</span><span class="token punctuation">:</span> galleries<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>zh-CN.ymlï¼ˆä¸­æ–‡ï¼‰æ·»åŠ ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">galleries</span><span class="token punctuation">:</span> ç›¸å†Œ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>åœ¨matery&#x2F;layout&#x2F;_partial&#x2F;ä¸‹çš„<code>navigation.ejs</code>å’Œ<code>mobile-nav.ejs</code>æ–‡ä»¶é‡Œæ·»åŠ ï¼š</p><p>è‡³äºæ·»åŠ çš„ä½ç½®ï¼Œæ‰“å¼€æ–‡ä»¶åå°±çŸ¥é“äº†ï¼Œé‡Œé¢ä¼šæœ‰ç±»ä¼¼æ ¼å¼çš„ä»£ç ï¼Œå¾ˆå®¹æ˜“æ‰¾åˆ°çš„</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">menuMap.set("Galleries"<span class="token punctuation">,</span> "ç›¸å†Œ");<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>åœ¨ç«™ç‚¹æ ¹ç›®å½•sourceä¸‹æ–°å»ºgalleriesæ–‡ä»¶ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºindex.mdï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> ç›¸å†Œ<span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"galleries"</span><span class="token punctuation">---</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h3 id="è®¾ç½®æ ·å¼"><a href="#è®¾ç½®æ ·å¼" class="headerlink" title="è®¾ç½®æ ·å¼"></a>è®¾ç½®æ ·å¼</h3><p>åœ¨matery&#x2F;source&#x2F;cssä¸‹æ–°å»ºgallery.cssæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹æ ·å¼ï¼š</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.gallery-wrapper</span><span class="token punctuation">&#123;</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.gallery-wrapper .gallery-box</span><span class="token punctuation">&#123;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px <span class="token important">!important</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.gallery-wrapper .gallery-item</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.gallery-cover-box</span><span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> center center no-repeat<span class="token punctuation">;</span>  <span class="token property">-webkit-background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.gallery-cover-box .gallery-cover-img</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.gallery-item .gallery-name</span><span class="token punctuation">&#123;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.waterfall</span> <span class="token punctuation">&#123;</span>  <span class="token property">column-count</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>  <span class="token property">column-gap</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.photo-wrapper</span><span class="token punctuation">&#123;</span>  <span class="token property">padding-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.photo-item</span> <span class="token punctuation">&#123;</span>  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>  <span class="token property">-moz-page-break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">-webkit-column-break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>  <span class="token property">-moz-box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.22<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.photo-item img</span> <span class="token punctuation">&#123;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.photo-item .photo-name</span><span class="token punctuation">&#123;</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>  <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #dddddd<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*é€‚é…ç§»åŠ¨ç«¯å¸ƒå±€*/</span><span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>  <span class="token selector">.waterfall</span> <span class="token punctuation">&#123;</span>    <span class="token property">column-count</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>    <span class="token property">column-gap</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨matery&#x2F;layoutç›®å½•ä¸‹</p><ul><li><p>æ–°å»ºgalleries.ejsæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-ej" data-language="ej"><code class="language-ej">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;gallery.css&quot;&gt;&lt;%- partial(&#39;_partial&#x2F;bg-cover&#39;) %&gt;&lt;main class&#x3D;&quot;content&quot;&gt;    &lt;div class&#x3D;&quot;container&quot;&gt;        &lt;% if (site.data &amp;&amp; site.data.galleries) &#123; %&gt;        &lt;% var galleries &#x3D; site.data.galleries; %&gt;        &lt;div class&#x3D;&quot;gallery-wrapper row&quot;&gt;            &lt;% for (var i &#x3D; 0, len &#x3D; galleries.length; i &lt; len; i++) &#123; %&gt;            &lt;% var gallery &#x3D; galleries[i]; %&gt;            &lt;div class&#x3D;&quot;col s6 m4 l4 xl3 gallery-box&quot;&gt;                &lt;a href&#x3D;&quot;.&#x2F;&lt;%- gallery.name %&gt;&quot; class&#x3D;&quot;gallery-item&quot; data-aos&#x3D;&quot;zoom-in-up&quot;&gt;                    &lt;div class&#x3D;&quot;gallery-cover-box&quot; style&#x3D;&quot;background-image: url(http:&#x2F;&#x2F;å›¾ç‰‡åœ°å€.com&#x2F;&lt;%- gallery.cover%&gt;);&quot;&gt;                    &lt;&#x2F;div&gt;                    &lt;p class&#x3D;&quot;gallery-name&quot;&gt;                        &lt;%- gallery.name %&gt;                    &lt;&#x2F;p&gt;                &lt;&#x2F;a&gt;            &lt;&#x2F;div&gt;            &lt;% &#125; %&gt;        &lt;&#x2F;div&gt;        &lt;% &#125; %&gt;    &lt;&#x2F;div&gt;&lt;&#x2F;main&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ–°å»ºgallery.ejsï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/gallery.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/fancybox/jquery.fancybox.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/justifiedGallery/justifiedGallery.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/post-cover'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"><span class="token keyword">let</span> galleries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    galleries <span class="token operator">=</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> pageTitle <span class="token operator">=</span> page<span class="token punctuation">.</span>title<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span><span class="token parameter">galleries<span class="token punctuation">,</span> pageTitle</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> galleries<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> pageTitle<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> currentGallery <span class="token operator">=</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span>galleries<span class="token punctuation">,</span> pageTitle<span class="token punctuation">)</span><span class="token keyword">var</span> photos <span class="token operator">=</span> currentGallery<span class="token punctuation">.</span>photos<span class="token punctuation">;</span><span class="token keyword">let</span> imageStr <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> photos<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> photo <span class="token operator">=</span> photos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    imageStr <span class="token operator">+=</span> <span class="token string">"&lt;a href=\"http://å›¾ç‰‡åœ°å€.com/"</span> <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"\""</span> <span class="token operator">+</span>            <span class="token string">"     class=\"photo-item\" rel=\"example_group\""</span> <span class="token operator">+</span>            <span class="token string">"     data-fancybox=\"images\">"</span> <span class="token operator">+</span>            <span class="token string">"      &lt;img src=\"http://å›¾ç‰‡åœ°å€.com/"</span> <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"\""</span> <span class="token operator">+</span>            <span class="token string">"       alt="</span> <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">">\n"</span> <span class="token operator">+</span>            <span class="token string">"    &lt;/a>"</span><span class="token punctuation">&#125;</span></span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>photo-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>waterfall<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mygallery<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> imageStr </span><span class="token delimiter punctuation">%></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/fancybox/fancybox.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/justifiedGallery/justifiedGallery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"a[rel=example_group]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fancybox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#mygallery"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">justifiedGallery</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">margins</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">rowHeight</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="æ·»åŠ å›¾ç‰‡"><a href="#æ·»åŠ å›¾ç‰‡" class="headerlink" title="æ·»åŠ å›¾ç‰‡"></a>æ·»åŠ å›¾ç‰‡</h3><ol><li><p>åœ¨ç«™ç‚¹ç›®å½•sources&#x2F;_dataä¸‹æ–°å»ºä¸€ä¸ªgalleries.jsonçš„æ–‡ä»¶ï¼Œæ¨¡æ¿å¦‚ä¸‹ï¼š</p><p>æ¯ä¸ªç›¸å†Œæœ‰ä»¥ä¸‹å­—æ®µï¼š</p><ul><li>nameæ˜¯ç›¸å†Œæ ‡é¢˜</li><li>coveræ˜¯å°é¢å›¾ç‰‡ï¼Œä»ç›¸å†Œé‡Œéšä¾¿é€‰ä¸€ä¸ªå°±è¡Œ</li><li>descriptionæ˜¯ç›¸å†Œä»‹ç»</li><li>photosæ˜¯å›¾ç‰‡åˆ—è¡¨</li></ul><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ç¾å¥³"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"ç¾å¥³/IMG_20171109_124516.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"2017å¹´è®°å½•"</span><span class="token punctuation">,</span>    <span class="token property">"photos"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">"ç¾å¥³/IMG_ç¾å¥³0924_110224.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"ç¾å¥³/IMG_ç¾å¥³0924_113412.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"ç¾å¥³/IMG_ç¾å¥³1109_124516.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"ç¾å¥³/IMG_ç¾å¥³1125_125304.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"ç¾å¥³/IMG_ç¾å¥³1126_181605.jpg"</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"åŠ¨æ¼«"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"åŠ¨æ¼«/IMG_20181124_125818.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"2018å¹´è®°å½•"</span><span class="token punctuation">,</span>    <span class="token property">"photos"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">"åŠ¨æ¼«/IMG_åŠ¨æ¼«0204_113055.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"åŠ¨æ¼«/IMG_åŠ¨æ¼«0204_113302.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"åŠ¨æ¼«/IMG_åŠ¨æ¼«0204_113442.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"åŠ¨æ¼«/IMG_åŠ¨æ¼«0208_083336.jpg"</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"æ¸¸ç©"</span><span class="token punctuation">,</span>    <span class="token property">"cover"</span><span class="token operator">:</span> <span class="token string">"æ¸¸ç©/IMG_æ¸¸ç©0331_165713_1.jpg"</span><span class="token punctuation">,</span>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"æ¸¸ç©å¹´è®°å½•"</span><span class="token punctuation">,</span>    <span class="token property">"photos"</span><span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token string">"æ¸¸ç©/IMG_æ¸¸ç©0118_200104.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"æ¸¸ç©/IMG_æ¸¸ç©0118_200120.jpg"</span><span class="token punctuation">,</span>      <span class="token string">"æ¸¸ç©/IMG_æ¸¸ç©0118_200456.jpg"</span>    <span class="token punctuation">]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨galleriesä¸‹å»ºç«‹å¯¹åº”çš„ç›¸å†Œåç§°çš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚æˆ‘çš„ç›¸å†Œéœ€è¦å»ºï¼šcomicã€ sceneã€sightseeingã€personå››ä¸ªç›®å½•</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072201517.png" alt="ç›¸å†Œæ–‡ä»¶å¤¹"></p><p>ç„¶ååœ¨ä¸‹é¢å†åˆ†åˆ«æ–°å»ºindex.mdæ–‡ä»¶ï¼Œæ·»åŠ :</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token punctuation">---</span><span class="token key atrule">title</span><span class="token punctuation">:</span> comic<span class="token key atrule">layout</span><span class="token punctuation">:</span> <span class="token string">"gallery"</span><span class="token punctuation">---</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h3 id="é€‰æ‹©å¸ƒå±€"><a href="#é€‰æ‹©å¸ƒå±€" class="headerlink" title="é€‰æ‹©å¸ƒå±€"></a>é€‰æ‹©å¸ƒå±€</h3><p>ä¸Šé¢çš„åšå®¢ç”¨çš„å¸ƒå±€æ¯”è¾ƒç®€å•ç²—æš´ï¼Œéƒ½æ˜¯å›ºå®šçš„å¤§å°å’Œå®½é«˜æ¯”ã€‚ä½†æ˜¯ä¸åŒçš„å›¾ç‰‡æœ‰ä¸åŒçš„å®½é«˜æ¯”ï¼Œç”¨è¿™ç§æ¨¡å¼çš„è¯å›¾ç‰‡æœ‰ä¸¤ç§æ˜¾ç¤ºæ–¹å¼ï¼š</p><ul><li>ä¸€æ˜¯å¼ºåˆ¶ç¼©æ”¾åˆ°å›ºå®šçš„å®½é«˜ï¼Œç¼ºç‚¹æ˜¯å›¾ç‰‡ä¼šå˜å½¢</li><li>äºŒæ˜¯è£åˆ‡åªæ˜¾ç¤ºä¸€éƒ¨åˆ†ï¼Œç¼ºç‚¹æ˜¯å›¾ç‰‡æ˜¾ç¤ºä¸å…¨</li></ul><p>é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸¤å…¨é½ç¾çš„åŠæ³•å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œé€‰ç”¨CSS3çš„æ–°ç‰¹æ€§å®ç°çš„ç€‘å¸ƒæµå¸ƒå±€ï¼Œç‰¹ç‚¹æ˜¯ç­‰å®½å¸ƒå±€ï¼Œå›ºå®šåˆ—æ•°ï¼Œå›¾ç‰‡é«˜åº¦è‡ªé€‚åº”ã€‚ç€‘å¸ƒæµå¸ƒå±€è™½ç¾è§‚ä¸”ç°ä»£åŒ–ï¼Œä½†å›¾ç‰‡æŒ‰ç…§åˆ—å‚ç›´é¡ºåºæ’åˆ—ï¼Œä¸ç¬¦åˆé˜…è¯»ä¹ æƒ¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402022020011.png" alt="ç€‘å¸ƒæµ"></p><p>å¦å¤–ä¸€ç§å¸ƒå±€æ˜¯ç­‰é«˜å¸ƒå±€ï¼Œå›¾ç‰‡é«˜åº¦ä¸€è‡´ï¼Œå®½åº¦è‡ªé€‚åº”ï¼Œå›¾ç‰‡æ‰˜ç®¡ç½‘ç«™flickrå°±æ˜¯ç”¨çš„è¿™ç§æ¨¡å¼ï¼Œä½†ç”¨CSSæ–¹æ³•æ˜¯å®ç°ä¸äº†ï¼Œå› ä¸ºæ¯ä¸€è¡Œæœ€åå¼ å›¾ç‰‡ä¸ä¸€å®šèƒ½æ­£å¥½æ’‘æ»¡è¿™ä¸€è¡Œï¼Œéœ€è¦ç”¨jsåŠ¨æ€è®¾ç½®å›¾ç‰‡çš„å®½é«˜æ¥å®ç°ï¼ŒjustifiedGalleryæ’ä»¶å°±æ˜¯æ¥å®Œæˆè¿™ä¸ªçš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402071927010.png" alt="ç­‰é«˜å¸ƒå±€"></p><p>ä¸‹é¢ä»£ç çš„åŠŸèƒ½å°±æ˜¯åˆå§‹åŒ–è¿™ä¸ªæ’ä»¶ï¼Œé—´è·æ˜¯5pxï¼Œæ¯ä¸€è¡Œçš„é«˜åº¦æ˜¯150px</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs">$("#mygallery").justifiedGallery(&#123;margins: 5, rowHeight: 150&#125;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸¤ç§å¸ƒå±€ä¸Šé¢çš„ä»£ç é‡Œéƒ½æ˜¯åŒ…å«äº†çš„ã€‚æ˜¯å¯ä»¥æ‰‹åŠ¨åˆ‡æ¢ï¼Œåªéœ€è¦æŠŠä¸Šé¢é‚£å¥ä»£ç æ³¨é‡Šæ‰å°±ä¼šåˆ‡æ¢åˆ°ç€‘å¸ƒæµå¸ƒå±€ã€‚</p><p>å½“ç„¶ï¼Œä½ è¦æ˜¯å¯¹è¿™ä¸ªæ ·å¼ä¸æ»¡æ„ä¹Ÿå¯ä»¥è‡ªè¡Œè®¾è®¡æ ·å¼ã€‚</p><h3 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3><p><a href="https://crazyyuchi.github.io/2022/06/27/xin-jian-xiang-ce/">æ–°å»ºç›¸å†Œ | å…´å¹³ (crazyyuchi.github.io)</a></p><h2 id="æ ·å¼äºŒ"><a href="#æ ·å¼äºŒ" class="headerlink" title="æ ·å¼äºŒ"></a>æ ·å¼äºŒ</h2><p>ä¸Šé¢çš„æ ·å¼è™½ç„¶ä¹Ÿå¾ˆä¸é”™ï¼Œä½†æ˜¯å¯¹äºå–œæ¬¢æŠ˜è…¾çš„æˆ‘æ¥è¯´è¿˜æ˜¯ç¨æœ‰ä¸è¶³ï¼Œæ‰€ä»¥åœ¨æˆ‘ç¿»é˜…äº†ä¼—å¤šå¤§ä½¬çš„åšå®¢ç½‘ç«™åâ€”â€”ç»ˆäºå‘ç°ä¸€ä¸ªé¡µé¢è®¾è®¡[æä¸ºä¼˜ç§€çš„åšå®¢ç½‘ç«™](<a href="https://nekodeng.gitee.io/">itsNekoã€Œç”Ÿæ´»æ—¥å¿—ã€ (gitee.io)</a>)ï¼Œåšä¸»è²Œä¼¼è¿˜æ˜¯ä¸€ä½å°å§å§ï¼Œä¸å¾—ä¸æ„Ÿå¹å°å§å§çš„å®åŠ›å¤ªå¼ºå•¦ï¼Œä»å¥¹çš„åšå®¢é‡Œä¹Ÿå­¦åˆ°äº†å¾ˆå¤šï¼Œå¯¹æ­¤æ·±è¡¨æ„Ÿè°¢ã€‚</p><p>ä¸‹é¢å°±æ˜¯å°å§å§çš„ä¼˜ç§€ä½œä¸šå±•ç¤ºæ—¶é—´ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072119989.png" alt="ä¼˜é›…ï¼"></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072121783.png" alt="å®åœ¨æ˜¯ä¼˜é›…"></p><blockquote><p>è®¾ç½®æ•™ç¨‹å¯ä»¥å‚è€ƒå°å§å§çš„åšæ–‡ï¼š</p><p><a href="https://nekodeng.gitee.io/posts/waterfall-flow-photo-album.html#toc-heading-1">å…³äºç»™hexoåšå®¢å¢åŠ ç›¸å†Œé¡µé¢ï¼ˆå®ç°ç€‘å¸ƒæµç›¸å†Œï¼Œå®ç°åŠ å¯†ç›¸å†Œï¼‰ | itsNekoã€Œç”Ÿæ´»æ—¥å¿—ã€ (gitee.io)</a></p></blockquote><h2 id="æˆ‘çš„æ ·å¼"><a href="#æˆ‘çš„æ ·å¼" class="headerlink" title="æˆ‘çš„æ ·å¼"></a>æˆ‘çš„æ ·å¼</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072053757.png" alt="æˆ‘çš„æ ·å¼"></p><p>ç‰¹ç‚¹ï¼š</p><ul><li><p>é‡‡ç”¨é€æ˜è¾¹æ¡†</p></li><li><p>æ·»åŠ äº†ç›¸å†Œé€‰ä¸­åŠ¨ç”»ï¼Œå½“é€‰ä¸­ç›¸å†Œæ—¶ï¼Œç›¸å†Œä¼šå‘ç”Ÿåè½¬<br><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072058371.png" alt="åè½¬"></p></li><li><p>ä¸ºæå‡è®¿å®¢æµè§ˆä½“éªŒï¼Œæˆ‘å¼•å…¥äº†å›¾ç‰‡é€‰ä¸­åŠ¨ç”»æ•ˆæœï¼šå¯¹æœªé€‰ä¸­çš„å›¾ç‰‡åº”ç”¨äº†ä¼˜é›…çš„ç°è‰²è’™æ¿å¤„ç†ã€‚è¿™æ ·ä¸€æ¥ï¼Œåœ¨åˆå§‹çŠ¶æ€ä¸‹æ‰€æœ‰å›¾ç‰‡å°†ä»¥æ·¡é›…çš„ç°è‰²å‘ˆç°ï¼Œä»è€Œå‡å°‘è§†è§‰å¹²æ‰°ã€‚å½“ç”¨æˆ·ç‚¹å‡»é€‰ä¸­æŸå¼ å›¾ç‰‡æ—¶ï¼Œè¯¥å›¾ç‰‡å°†é€‚åº¦æ”¾å¤§å¹¶è¤ªå»è’™æ¿ï¼Œè¿˜åŸå…¶åŸæœ‰çš„é²œè‰³è‰²å½©ï¼Œè¿™ä¸€è®¾è®¡æ—¨åœ¨å¼•å¯¼ç”¨æˆ·çš„æ³¨æ„åŠ›æ›´é›†ä¸­äºå½“å‰æ‰€å…³æ³¨çš„å›¾ç‰‡å†…å®¹ä¸Šï¼Œæœ‰æ•ˆé¿å…å…¶ä»–å›¾ç‰‡å¯¹è§†çº¿çš„åˆ†æ•£å½±å“ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072106787.png" alt="é€‰ä¸­å‰"></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402072109604.png" alt="é€‰ä¸­å"></p></li></ul><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><p>å’Œæ ·å¼ä¸€çš„è®¾ç½®æµç¨‹å¤§è‡´ç›¸åŒï¼Œåªæ˜¯ä»£ç æ ·å¼ä¸åŒ</p><p><code>galleries.ejs</code></p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/bg-cover'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">        <span class="token selector">.gallery-wrapper</span> <span class="token punctuation">&#123;</span>            <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>            <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>            <span class="token property">justify-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-box</span> <span class="token punctuation">&#123;</span>            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>            <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>            <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>            <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 4px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease-in-out<span class="token punctuation">,</span> box-shadow 0.3s ease-in-out<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-box:hover</span> <span class="token punctuation">&#123;</span>            <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.05<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 8px 16px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-item</span> <span class="token punctuation">&#123;</span>            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>            <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>            <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-cover-box</span> <span class="token punctuation">&#123;</span>            <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>            <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>            <span class="token property">background-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>            <span class="token property">border-top-left-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token property">border-top-right-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-info</span> <span class="token punctuation">&#123;</span>            <span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>            <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token selector">.gallery-name</span> <span class="token punctuation">&#123;</span>            <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>            <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">var</span> galleries<span class="token operator">=</span>site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-wrapper row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token operator">=</span>galleries<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>                        <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">var</span> gallery<span class="token operator">=</span>galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> </span><span class="token delimiter punctuation">%></span></span>                            <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">let</span> imgUrl<span class="token operator">=</span><span class="token function">url_for</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/galleries/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>gallery<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>gallery<span class="token punctuation">.</span>cover<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col s12 m6 l4 xl3 gallery-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./<span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> gallery<span class="token punctuation">.</span>name </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-cover-box<span class="token punctuation">"</span></span>                                            <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%=</span><span class="token language-javascript"> imgUrl </span><span class="token delimiter punctuation">%></span></span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gallery-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> gallery<span class="token punctuation">.</span>name </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>gallery.ejs</code></p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/gallery.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/fancybox/jquery.fancybox.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/justifiedGallery/justifiedGallery.min.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/post-cover'</span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">let</span> galleries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  galleries <span class="token operator">=</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>galleries<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> pageTitle <span class="token operator">=</span> page<span class="token punctuation">.</span>title<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span><span class="token parameter">galleries<span class="token punctuation">,</span> pageTitle</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> galleries<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">==</span> pageTitle<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> galleries<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> currentGallery <span class="token operator">=</span> <span class="token function">getCurrentGallery</span><span class="token punctuation">(</span>galleries<span class="token punctuation">,</span> pageTitle<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> photos <span class="token operator">=</span> currentGallery<span class="token punctuation">.</span>photos<span class="token punctuation">;</span><span class="token keyword">let</span> imageStr <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> photos<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> photo <span class="token operator">=</span> photos<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> photoPath <span class="token operator">=</span> <span class="token string">'/medias/galleries/'</span> <span class="token operator">+</span> currentGallery<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> photo<span class="token punctuation">;</span>  imageStr <span class="token operator">+=</span> <span class="token string">"&lt;a href=\""</span> <span class="token operator">+</span> photoPath <span class="token operator">+</span> <span class="token string">"\" class=\"photo-item\" rel=\"example_group\" data-fancybox=\"images\">"</span> <span class="token operator">+</span>               <span class="token string">"&lt;img src=\""</span> <span class="token operator">+</span> photoPath <span class="token operator">+</span><span class="token string">"\" alt=\""</span> <span class="token operator">+</span> photo <span class="token operator">+</span> <span class="token string">"\">"</span> <span class="token operator">+</span>             <span class="token string">"&lt;/a>"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>photo-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>waterfall<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mygallery<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%-</span><span class="token language-javascript"> imageStr </span><span class="token delimiter punctuation">%></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/fancybox/fancybox.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/libs/justifiedGallery/justifiedGallery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  <span class="token selector">.photo-item img</span> <span class="token punctuation">&#123;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease-in-out<span class="token punctuation">,</span> box-shadow 0.3s ease-in-out<span class="token punctuation">,</span> filter 0.3s ease-in-out<span class="token punctuation">;</span>    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span> <span class="token function">opacity</span><span class="token punctuation">(</span>0.7<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 4px 8px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token selector">.photo-item:hover img</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.08<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span>0%<span class="token punctuation">)</span> <span class="token function">opacity</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 8px 16px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token comment">// åˆå§‹åŒ– fancybox</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"[rel=example_group]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fancybox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// é…ç½®å¾ªç¯æ’­æ”¾</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"[rel=example_group]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fancybox</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#mygallery"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">justifiedGallery</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">margins</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>        <span class="token literal-property property">rowHeight</span><span class="token operator">:</span> <span class="token number">150</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="fancybox"><a href="#fancybox" class="headerlink" title="fancybox"></a>fancybox</h2><p>2024&#x2F;2&#x2F;15æ›´æ–°ï¼Œè¿™å‡ å¤©æŸ¥çœ‹å‹é“¾æ—¶ï¼Œå‘ç°äº†ä¸€ç§ä¹ŸæŒºä¸é”™çš„åšå®¢ç›¸å†Œå¸ƒå±€ï¼Œä¸ä»…å¯ä»¥è¿›è¡Œå›¾ç‰‡æ”¾å¤§æŸ¥çœ‹ã€å›¾ç‰‡æ’­æ”¾ï¼Œè¿˜å¯ä»¥è¿›è¡Œæ‰€æœ‰å›¾ç‰‡çš„ç¼©ç•¥å›¾é¢„è§ˆï¼Œå”¯ä¸€ä¸è¶³çš„æ˜¯æš‚æ—¶æ²¡åŠæ³•å°†åŠŸèƒ½æ·»åŠ åˆ°æˆ‘çš„æ ·å¼ä¸­ï¼Œæ¯•ç«Ÿå’Œç€‘å¸ƒæµå¸ƒå±€è¿˜æ˜¯é£æ ¼è¿¥å¼‚çš„ã€‚</p><h3 id="æ•ˆæœé¢„è§ˆ"><a href="#æ•ˆæœé¢„è§ˆ" class="headerlink" title="æ•ˆæœé¢„è§ˆ"></a>æ•ˆæœé¢„è§ˆ</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402161149591.gif" alt="slide"></p><h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p><a href="https://www.cdnpkg.com/fancybox/file/jquery.fancybox.min.css/?id=35159">JQUERY.FANCYBOX.MIN.CSS: DOWNLOAD - CDNPKG</a></p><p><a href="https://yafine.github.io/posts/20200221224129-3b98">ä¿®æ”¹materyåŸæœ‰ä¸»é¢˜ç›¸å†Œ | è¿‡å®¢~åŠ±ã‚€ (yafine.github.io)</a></p><p><a href="https://tianma8023.github.io/post/hexo-material-intergrate-image-display-feature/">Hexo æŠ˜è…¾ï¼šåˆ©ç”¨ Fancybox æ·»åŠ å›¾ç‰‡æ”¾å¤§é¢„è§ˆæŸ¥çœ‹åŠŸèƒ½ | Tianma (tianma8023.github.io)</a></p><h3 id="éœ€è¦çš„ä»£ç "><a href="#éœ€è¦çš„ä»£ç " class="headerlink" title="éœ€è¦çš„ä»£ç "></a>éœ€è¦çš„ä»£ç </h3><p>fancybox&#x2F;3.5.7ï¼š</p><ul><li><p>jquery.fancybox.min.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ==================================================</span><span class="token comment">// fancyBox v3.5.7</span><span class="token comment">//</span><span class="token comment">// Licensed GPLv3 for open source use</span><span class="token comment">// or fancyBox Commercial License for commercial use</span><span class="token comment">//</span><span class="token comment">// http://fancyapps.com/fancybox/</span><span class="token comment">// Copyright 2019 fancyApps</span><span class="token comment">//</span><span class="token comment">// ==================================================</span><span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">isDefaultPrevented</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e <span class="token operator">=</span> e <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>data<span class="token punctuation">.</span>options<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o <span class="token operator">=</span> e<span class="token punctuation">.</span>$target <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"blur"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>a <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>$trigger <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>$trigger<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>selector <span class="token operator">?</span> s <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>selector<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-fancybox"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">,</span>        i <span class="token operator">?</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> t<span class="token punctuation">.</span>data <span class="token operator">?</span> t<span class="token punctuation">.</span>data<span class="token punctuation">.</span>items <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        s <span class="token operator">=</span> s<span class="token punctuation">.</span>length <span class="token operator">?</span> s<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'[data-fancybox="'</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">'"]'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'[data-fancybox="'</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">'"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> s <span class="token operator">=</span> <span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        r <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">,</span>        r <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        a <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> e<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span>        a<span class="token punctuation">.</span>$trigger <span class="token operator">=</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>console <span class="token operator">=</span> t<span class="token punctuation">.</span>console <span class="token operator">||</span> <span class="token punctuation">&#123;</span>        <span class="token function-variable function">info</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>fancybox<span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token keyword">void</span> console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"fancyBox already initialized"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">closeExisting</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">gutter</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>            <span class="token literal-property property">keyboard</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">preventCaptionOverlap</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">arrows</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">infobar</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">smallBtn</span><span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>            <span class="token literal-property property">toolbar</span><span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>            <span class="token literal-property property">buttons</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"zoom"</span><span class="token punctuation">,</span> <span class="token string">"slideShow"</span><span class="token punctuation">,</span> <span class="token string">"thumbs"</span><span class="token punctuation">,</span> <span class="token string">"close"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token literal-property property">idleTime</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>            <span class="token literal-property property">protect</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">modal</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">preload</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">ajax</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">settings</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">fancybox</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">iframe</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">tpl</span><span class="token operator">:</span> <span class="token string">'&lt;iframe id="fancybox-frame&#123;rnd&#125;" name="fancybox-frame&#123;rnd&#125;" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src="">&lt;/iframe>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">preload</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">scrolling</span><span class="token operator">:</span> <span class="token string">"auto"</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">tpl</span><span class="token operator">:</span> <span class="token string">'&lt;video class="fancybox-video" controls controlsList="nodownload" poster="&#123;&#123;poster&#125;&#125;">&lt;source src="&#123;&#123;src&#125;&#125;" type="&#123;&#123;format&#125;&#125;" />Sorry, your browser doesn\'t support embedded videos, &lt;a href="&#123;&#123;src&#125;&#125;">download&lt;/a> and watch with your favorite video player!&lt;/video>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">defaultType</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>            <span class="token literal-property property">animationEffect</span><span class="token operator">:</span> <span class="token string">"zoom"</span><span class="token punctuation">,</span>            <span class="token literal-property property">animationDuration</span><span class="token operator">:</span> <span class="token number">366</span><span class="token punctuation">,</span>            <span class="token literal-property property">zoomOpacity</span><span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>            <span class="token literal-property property">transitionEffect</span><span class="token operator">:</span> <span class="token string">"fade"</span><span class="token punctuation">,</span>            <span class="token literal-property property">transitionDuration</span><span class="token operator">:</span> <span class="token number">366</span><span class="token punctuation">,</span>            <span class="token literal-property property">slideClass</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token literal-property property">baseClass</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token literal-property property">baseTpl</span><span class="token operator">:</span> <span class="token string">'&lt;div class="fancybox-container" role="dialog" tabindex="-1">&lt;div class="fancybox-bg">&lt;/div>&lt;div class="fancybox-inner">&lt;div class="fancybox-infobar">&lt;span data-fancybox-index>&lt;/span>&amp;nbsp;/&amp;nbsp;&lt;span data-fancybox-count>&lt;/span>&lt;/div>&lt;div class="fancybox-toolbar">&#123;&#123;buttons&#125;&#125;&lt;/div>&lt;div class="fancybox-navigation">&#123;&#123;arrows&#125;&#125;&lt;/div>&lt;div class="fancybox-stage">&lt;/div>&lt;div class="fancybox-caption">&lt;div class="fancybox-caption__body">&lt;/div>&lt;/div>&lt;/div>&lt;/div>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">spinnerTpl</span><span class="token operator">:</span> <span class="token string">'&lt;div class="fancybox-loading">&lt;/div>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">errorTpl</span><span class="token operator">:</span> <span class="token string">'&lt;div class="fancybox-error">&lt;p>&#123;&#123;ERROR&#125;&#125;&lt;/p>&lt;/div>'</span><span class="token punctuation">,</span>            <span class="token literal-property property">btnTpl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">download</span><span class="token operator">:</span> <span class="token string">'&lt;a download data-fancybox-download class="fancybox-button fancybox-button--download" title="&#123;&#123;DOWNLOAD&#125;&#125;" href="javascript:;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/>&lt;/svg>&lt;/a>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="&#123;&#123;ZOOM&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/>&lt;/svg>&lt;/button>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">close</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-close class="fancybox-button fancybox-button--close" title="&#123;&#123;CLOSE&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/>&lt;/svg>&lt;/button>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">arrowLeft</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="&#123;&#123;PREV&#125;&#125;">&lt;div>&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/>&lt;/svg>&lt;/div>&lt;/button>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">arrowRight</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="&#123;&#123;NEXT&#125;&#125;">&lt;div>&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/>&lt;/svg>&lt;/div>&lt;/button>'</span><span class="token punctuation">,</span>                <span class="token literal-property property">smallBtn</span><span class="token operator">:</span> <span class="token string">'&lt;button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="&#123;&#123;CLOSE&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24">&lt;path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/>&lt;/svg>&lt;/button>'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">parentEl</span><span class="token operator">:</span> <span class="token string">"body"</span><span class="token punctuation">,</span>            <span class="token literal-property property">hideScrollbar</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">autoFocus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">backFocus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">trapFocus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">fullScreen</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">touch</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">vertical</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">momentum</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            <span class="token literal-property property">media</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">slideShow</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">3e3</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">thumbs</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">hideOnClose</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">parentEl</span><span class="token operator">:</span> <span class="token string">".fancybox-container"</span><span class="token punctuation">,</span>                <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token string">"y"</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">wheel</span><span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>            <span class="token literal-property property">onInit</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">beforeLoad</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">afterLoad</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">beforeShow</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">afterShow</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">beforeClose</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">afterClose</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">onActivate</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token literal-property property">onDeactivate</span><span class="token operator">:</span> n<span class="token punctuation">.</span>noop<span class="token punctuation">,</span>            <span class="token function-variable function">clickContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token string">"zoom"</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">clickSlide</span><span class="token operator">:</span> <span class="token string">"close"</span><span class="token punctuation">,</span>            <span class="token literal-property property">clickOutside</span><span class="token operator">:</span> <span class="token string">"close"</span><span class="token punctuation">,</span>            <span class="token literal-property property">dblclickContent</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">dblclickSlide</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">dblclickOutside</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">preventCaptionOverlap</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">idleTime</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token function-variable function">clickContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token string">"toggleControls"</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token function-variable function">clickSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">?</span> <span class="token string">"toggleControls"</span> <span class="token operator">:</span> <span class="token string">"close"</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token function-variable function">dblclickContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token string">"zoom"</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token function-variable function">dblclickSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token string">"zoom"</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">lang</span><span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>            <span class="token literal-property property">i18n</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">en</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token constant">CLOSE</span><span class="token operator">:</span> <span class="token string">"Close"</span><span class="token punctuation">,</span>                    <span class="token constant">NEXT</span><span class="token operator">:</span> <span class="token string">"Next"</span><span class="token punctuation">,</span>                    <span class="token constant">PREV</span><span class="token operator">:</span> <span class="token string">"Previous"</span><span class="token punctuation">,</span>                    <span class="token constant">ERROR</span><span class="token operator">:</span> <span class="token string">"The requested content cannot be loaded. &lt;br/> Please try again later."</span><span class="token punctuation">,</span>                    <span class="token constant">PLAY_START</span><span class="token operator">:</span> <span class="token string">"Start slideshow"</span><span class="token punctuation">,</span>                    <span class="token constant">PLAY_STOP</span><span class="token operator">:</span> <span class="token string">"Pause slideshow"</span><span class="token punctuation">,</span>                    <span class="token constant">FULL_SCREEN</span><span class="token operator">:</span> <span class="token string">"Full screen"</span><span class="token punctuation">,</span>                    <span class="token constant">THUMBS</span><span class="token operator">:</span> <span class="token string">"Thumbnails"</span><span class="token punctuation">,</span>                    <span class="token constant">DOWNLOAD</span><span class="token operator">:</span> <span class="token string">"Download"</span><span class="token punctuation">,</span>                    <span class="token constant">SHARE</span><span class="token operator">:</span> <span class="token string">"Share"</span><span class="token punctuation">,</span>                    <span class="token constant">ZOOM</span><span class="token operator">:</span> <span class="token string">"Zoom"</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">de</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token constant">CLOSE</span><span class="token operator">:</span> <span class="token string">"Schlie&amp;szlig;en"</span><span class="token punctuation">,</span>                    <span class="token constant">NEXT</span><span class="token operator">:</span> <span class="token string">"Weiter"</span><span class="token punctuation">,</span>                    <span class="token constant">PREV</span><span class="token operator">:</span> <span class="token string">"Zur&amp;uuml;ck"</span><span class="token punctuation">,</span>                    <span class="token constant">ERROR</span><span class="token operator">:</span> <span class="token string">"Die angeforderten Daten konnten nicht geladen werden. &lt;br/> Bitte versuchen Sie es sp&amp;auml;ter nochmal."</span><span class="token punctuation">,</span>                    <span class="token constant">PLAY_START</span><span class="token operator">:</span> <span class="token string">"Diaschau starten"</span><span class="token punctuation">,</span>                    <span class="token constant">PLAY_STOP</span><span class="token operator">:</span> <span class="token string">"Diaschau beenden"</span><span class="token punctuation">,</span>                    <span class="token constant">FULL_SCREEN</span><span class="token operator">:</span> <span class="token string">"Vollbild"</span><span class="token punctuation">,</span>                    <span class="token constant">THUMBS</span><span class="token operator">:</span> <span class="token string">"Vorschaubilder"</span><span class="token punctuation">,</span>                    <span class="token constant">DOWNLOAD</span><span class="token operator">:</span> <span class="token string">"Herunterladen"</span><span class="token punctuation">,</span>                    <span class="token constant">SHARE</span><span class="token operator">:</span> <span class="token string">"Teilen"</span><span class="token punctuation">,</span>                    <span class="token constant">ZOOM</span><span class="token operator">:</span> <span class="token string">"Vergr&amp;ouml;&amp;szlig;ern"</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>          <span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>          <span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>          <span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span>          <span class="token punctuation">,</span> <span class="token function-variable function">l</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>hasOwnProperty <span class="token operator">&amp;&amp;</span> t <span class="token keyword">instanceof</span> <span class="token class-name">n</span>        <span class="token punctuation">&#125;</span>          <span class="token punctuation">,</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> t<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>oRequestAnimationFrame <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token number">1e3</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> <span class="token function-variable function">u</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> t<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>webkitCancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>mozCancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>oCancelAnimationFrame <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t<span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"fakeelement"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">transition</span><span class="token operator">:</span> <span class="token string">"transitionend"</span><span class="token punctuation">,</span>                <span class="token literal-property property">OTransition</span><span class="token operator">:</span> <span class="token string">"oTransitionEnd"</span><span class="token punctuation">,</span>                <span class="token literal-property property">MozTransition</span><span class="token operator">:</span> <span class="token string">"transitionend"</span><span class="token punctuation">,</span>                <span class="token literal-property property">WebkitTransition</span><span class="token operator">:</span> <span class="token string">"webkitTransitionEnd"</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>t <span class="token keyword">in</span> o<span class="token punctuation">)</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> n<span class="token punctuation">.</span>style<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> o<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token string">"transitionend"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> <span class="token function-variable function">p</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight        <span class="token punctuation">&#125;</span>          <span class="token punctuation">,</span> <span class="token function-variable function">h</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                n<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o        <span class="token punctuation">&#125;</span>          <span class="token punctuation">,</span> <span class="token function-variable function">g</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>t <span class="token operator">||</span> t<span class="token punctuation">.</span>ownerDocument <span class="token operator">!==</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"pointer-events"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">x</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left <span class="token operator">+</span> t<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>                <span class="token literal-property property">y</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top <span class="token operator">+</span> t<span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            i <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">elementFromPoint</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>x<span class="token punctuation">,</span> o<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">===</span> t<span class="token punctuation">,</span>            <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"pointer-events"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>          <span class="token punctuation">,</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span>opts <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">index</span><span class="token operator">:</span> o            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>id <span class="token operator">=</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>id <span class="token operator">||</span> <span class="token operator">++</span>c<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>currIndex <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>index<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>prevIndex <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>prevPos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>currPos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>firstRun <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>group <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>slides <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span><span class="token function">addContent</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> a<span class="token punctuation">.</span>group<span class="token punctuation">[</span>a<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">;</span>                r<span class="token punctuation">.</span>closeExisting <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-active"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> r<span class="token punctuation">.</span>hideScrollbar <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight <span class="token operator">></span> t<span class="token punctuation">.</span>innerHeight <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"head"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar&#123;margin-right:'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>innerWidth <span class="token operator">-</span> e<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"px;&#125;&lt;/style>"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"compensate-for-scrollbar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>buttons<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i <span class="token operator">+=</span> r<span class="token punctuation">.</span>btnTpl<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">""</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> r<span class="token punctuation">.</span>baseTpl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&#123;&#123;buttons&#125;&#125;"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&#123;&#123;arrows&#125;&#125;"</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>btnTpl<span class="token punctuation">.</span>arrowLeft <span class="token operator">+</span> r<span class="token punctuation">.</span>btnTpl<span class="token punctuation">.</span>arrowRight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"fancybox-container-"</span> <span class="token operator">+</span> a<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>baseClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"FancyBox"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>parentEl<span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span>$refs <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">container</span><span class="token operator">:</span> o                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">[</span><span class="token string">"bg"</span><span class="token punctuation">,</span> <span class="token string">"inner"</span><span class="token punctuation">,</span> <span class="token string">"infobar"</span><span class="token punctuation">,</span> <span class="token string">"toolbar"</span><span class="token punctuation">,</span> <span class="token string">"stage"</span><span class="token punctuation">,</span> <span class="token string">"caption"</span><span class="token punctuation">,</span> <span class="token string">"navigation"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    a<span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".fancybox-"</span> <span class="token operator">+</span> t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onInit"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>currIndex<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">translate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">[</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>lang<span class="token punctuation">]</span> <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span>en<span class="token punctuation">;</span>                <span class="token keyword">return</span> e<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;(\w+)\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> n<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">?</span> t <span class="token operator">:</span> n<span class="token punctuation">[</span>e<span class="token punctuation">]</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">addContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>                n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                    n<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> e<span class="token punctuation">,</span>                    d <span class="token operator">=</span> e<span class="token punctuation">.</span>opts <span class="token operator">||</span> e<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"object"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>                    d <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                    d <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> d<span class="token punctuation">,</span> d<span class="token punctuation">.</span>options<span class="token punctuation">)</span><span class="token punctuation">,</span>                    d<span class="token punctuation">.</span>$orig <span class="token operator">=</span> i<span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>src <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>src <span class="token operator">||</span> d<span class="token punctuation">.</span>src <span class="token operator">||</span> i<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"href"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>type <span class="token operator">||</span> l<span class="token punctuation">.</span>src <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"inline"</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>src <span class="token operator">=</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> l <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"html"</span><span class="token punctuation">,</span>                        <span class="token literal-property property">src</span><span class="token operator">:</span> e <span class="token operator">+</span> <span class="token string">""</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>buttons <span class="token operator">=</span> d<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>mobile <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>mobile<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    a <span class="token operator">=</span> l<span class="token punctuation">.</span>type <span class="token operator">||</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>type<span class="token punctuation">,</span>                    r <span class="token operator">=</span> l<span class="token punctuation">.</span>src <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">,</span>                    <span class="token operator">!</span>a <span class="token operator">&amp;&amp;</span> r <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(mp4|mov|ogv|webm)((\?|#).*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token string">"video"</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>video<span class="token punctuation">.</span>format <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>video<span class="token punctuation">.</span>format <span class="token operator">=</span> <span class="token string">"video/"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">"ogv"</span> <span class="token operator">===</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">"ogg"</span> <span class="token operator">:</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> r<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span> <span class="token operator">?</span> a <span class="token operator">=</span> <span class="token string">"image"</span> <span class="token operator">:</span> r<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(pdf)((\?|#).*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span>                    l <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">"pdf"</span><span class="token punctuation">,</span>                        <span class="token literal-property property">opts</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">iframe</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                                <span class="token literal-property property">preload</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>                            <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"#"</span> <span class="token operator">===</span> r<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token string">"inline"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    a <span class="token operator">?</span> l<span class="token punctuation">.</span>type <span class="token operator">=</span> a <span class="token operator">:</span> o<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"objectNeedsType"</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>contentType <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>contentType <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"inline"</span><span class="token punctuation">,</span> <span class="token string">"ajax"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token string">"html"</span> <span class="token operator">:</span> l<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>index <span class="token operator">=</span> o<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                    <span class="token string">"auto"</span> <span class="token operator">==</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>smallBtn <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>smallBtn <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">,</span> <span class="token string">"inline"</span><span class="token punctuation">,</span> <span class="token string">"ajax"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token string">"auto"</span> <span class="token operator">===</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>toolbar <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>toolbar <span class="token operator">=</span> <span class="token operator">!</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>smallBtn<span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>$thumb <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$thumb <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$trigger <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>index <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>$thumb <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$trigger<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"img:first"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>$thumb<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$orig <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$trigger<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>$thumb <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>$thumb<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token operator">!</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$orig <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>$thumb <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$orig<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"img:first"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>$thumb <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>l<span class="token punctuation">.</span>$thumb<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>$thumb <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>thumb <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>thumb <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>$thumb <span class="token operator">?</span> l<span class="token punctuation">.</span>$thumb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>src <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token string">"function"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token operator">=</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span><span class="token function">caption</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token punctuation">[</span>o<span class="token punctuation">,</span> l<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token string">"function"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span><span class="token function">caption</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token punctuation">[</span>o<span class="token punctuation">,</span> l<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token keyword">instanceof</span> <span class="token class-name">n</span> <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token string">"ajax"</span> <span class="token operator">===</span> l<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    c<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>src <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>filter <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    l<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>modal <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opts <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> l<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">trapFocus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">infobar</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">toolbar</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">smallBtn</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">keyboard</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">slideShow</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">fullScreen</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">thumbs</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">touch</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                        <span class="token literal-property property">clickContent</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">clickSlide</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">clickOutside</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">dblclickContent</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">dblclickSlide</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">dblclickOutside</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span>group<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>slides<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">updateControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">(</span>e <span class="token operator">=</span> o<span class="token punctuation">.</span>Thumbs<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">addEvents</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                e<span class="token punctuation">.</span><span class="token function">removeEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-close"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-close]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    t<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"touchstart.fb-prev click.fb-prev"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-prev]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    t<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"touchstart.fb-next click.fb-next"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-next]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    t<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-zoom]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">[</span>e<span class="token punctuation">.</span><span class="token function">isScaledDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"scaleToActual"</span> <span class="token operator">:</span> <span class="token string">"scaleToFit"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"orientationchange.fb resize.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>originalEvent <span class="token operator">&amp;&amp;</span> <span class="token string">"resize"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>type <span class="token operator">?</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token function">u</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        e<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> <span class="token string">"iframe"</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>current<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        e<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">?</span> <span class="token number">600</span> <span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"keydown.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox <span class="token operator">?</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>                      <span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>current                      <span class="token punctuation">,</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span>keyCode <span class="token operator">||</span> t<span class="token punctuation">.</span>which<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">9</span> <span class="token operator">==</span> a<span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>trapFocus <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>keyboard <span class="token operator">||</span> t<span class="token punctuation">.</span>ctrlKey <span class="token operator">||</span> t<span class="token punctuation">.</span>altKey <span class="token operator">||</span> t<span class="token punctuation">.</span>shiftKey <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"input,textarea,video,audio,select"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token number">8</span> <span class="token operator">===</span> a <span class="token operator">||</span> <span class="token number">27</span> <span class="token operator">===</span> a <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> e<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">37</span> <span class="token operator">===</span> a <span class="token operator">||</span> <span class="token number">38</span> <span class="token operator">===</span> a <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> e<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">39</span> <span class="token operator">===</span> a <span class="token operator">||</span> <span class="token number">40</span> <span class="token operator">===</span> a <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">void</span> e<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"afterKeydown"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> a<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>group<span class="token punctuation">[</span>e<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>idleTime <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>isIdle <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">showControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>isIdle <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>idleInterval <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token operator">++</span>e<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">>=</span> e<span class="token punctuation">.</span>group<span class="token punctuation">[</span>e<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>idleTime <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>isDragging <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>isIdle <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">hideControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1e3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">removeEvents</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                s<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"orientationchange.fb resize.fb"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"keydown.fb .fb-idle"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">".fb-close .fb-prev .fb-next"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>idleInterval <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>idleInterval<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>idleInterval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">previous</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currPos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currPos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">jumpTo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> d<span class="token punctuation">,</span> u<span class="token punctuation">,</span> f <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> h <span class="token operator">=</span> f<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>isDragging <span class="token operator">||</span> f<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> f<span class="token punctuation">.</span>isAnimating <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span>firstRun<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token operator">=</span> f<span class="token punctuation">.</span>current <span class="token operator">?</span> f<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop <span class="token operator">:</span> f<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> t <span class="token operator">>=</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> f<span class="token punctuation">.</span>firstRun <span class="token operator">=</span> <span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>slides<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>                    r <span class="token operator">=</span> f<span class="token punctuation">.</span>current<span class="token punctuation">,</span>                    f<span class="token punctuation">.</span>prevIndex <span class="token operator">=</span> f<span class="token punctuation">.</span>currIndex<span class="token punctuation">,</span>                    f<span class="token punctuation">.</span>prevPos <span class="token operator">=</span> f<span class="token punctuation">.</span>currPos<span class="token punctuation">,</span>                    s <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">createSlide</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                    h <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">||</span> s<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> h <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span><span class="token function">createSlide</span><span class="token punctuation">(</span>t <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">(</span>a <span class="token operator">||</span> s<span class="token punctuation">.</span>index <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span><span class="token function">createSlide</span><span class="token punctuation">(</span>t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    f<span class="token punctuation">.</span>current <span class="token operator">=</span> s<span class="token punctuation">,</span>                    f<span class="token punctuation">.</span>currIndex <span class="token operator">=</span> s<span class="token punctuation">.</span>index<span class="token punctuation">,</span>                    f<span class="token punctuation">.</span>currPos <span class="token operator">=</span> s<span class="token punctuation">.</span>pos<span class="token punctuation">,</span>                    f<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"beforeShow"</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>                    f<span class="token punctuation">.</span><span class="token function">updateControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    s<span class="token punctuation">.</span>forcedDuration <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">?</span> s<span class="token punctuation">.</span>forcedDuration <span class="token operator">=</span> e <span class="token operator">:</span> e <span class="token operator">=</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>o <span class="token operator">?</span> <span class="token string">"animationDuration"</span> <span class="token operator">:</span> <span class="token string">"transitionDuration"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                    e <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    i <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>                    s<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--current"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">)</span>                        <span class="token keyword">return</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>animationEffect <span class="token operator">&amp;&amp;</span> e <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"transition-duration"</span><span class="token punctuation">,</span> e <span class="token operator">+</span> <span class="token string">"ms"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        f<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-open"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        f<span class="token punctuation">.</span><span class="token function">loadSlide</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> f<span class="token punctuation">.</span><span class="token function">preload</span><span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    c <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                    l <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    r<span class="token punctuation">.</span>pos <span class="token operator">!==</span> s<span class="token punctuation">.</span>pos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    r<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--complete fancybox-slide--current"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    i <span class="token operator">?</span> <span class="token punctuation">(</span>u <span class="token operator">=</span> c<span class="token punctuation">.</span>left <span class="token operator">-</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>pos <span class="token operator">*</span> c<span class="token punctuation">.</span>width <span class="token operator">+</span> r<span class="token punctuation">.</span>pos <span class="token operator">*</span> r<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>gutter<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-animated"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            <span class="token keyword">return</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^|\s)fancybox-fx-\S+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">var</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>pos <span class="token operator">*</span> c<span class="token punctuation">.</span>width <span class="token operator">+</span> o<span class="token punctuation">.</span>pos <span class="token operator">*</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>gutter<span class="token punctuation">;</span>                        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                            <span class="token literal-property property">left</span><span class="token operator">:</span> i <span class="token operator">-</span> l<span class="token punctuation">.</span>left <span class="token operator">+</span> u                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        o<span class="token punctuation">.</span>pos <span class="token operator">!==</span> s<span class="token punctuation">.</span>pos <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>pos <span class="token operator">></span> s<span class="token punctuation">.</span>pos <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"previous"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token function">p</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                            <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>pos <span class="token operator">-</span> s<span class="token punctuation">.</span>pos<span class="token punctuation">)</span> <span class="token operator">*</span> c<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>pos <span class="token operator">-</span> s<span class="token punctuation">.</span>pos<span class="token punctuation">)</span> <span class="token operator">*</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>gutter                        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                                <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                                <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token string">""</span>                            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--next fancybox-slide--previous"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            o<span class="token punctuation">.</span>pos <span class="token operator">===</span> f<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> e <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>transitionEffect <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> <span class="token string">"fancybox-animated fancybox-fx-"</span> <span class="token operator">+</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>transitionEffect<span class="token punctuation">,</span>                    r<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>pos <span class="token operator">></span> s<span class="token punctuation">.</span>pos <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"previous"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        r<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--next fancybox-slide--previous"</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    s<span class="token punctuation">.</span>isLoaded <span class="token operator">?</span> f<span class="token punctuation">.</span><span class="token function">revealContent</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">:</span> f<span class="token punctuation">.</span><span class="token function">loadSlide</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>                    f<span class="token punctuation">.</span><span class="token function">preload</span><span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">createSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> o <span class="token operator">=</span> t <span class="token operator">%</span> i<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length<span class="token punctuation">,</span>                o <span class="token operator">=</span> o <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> i<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">+</span> o <span class="token operator">:</span> o<span class="token punctuation">,</span>                <span class="token operator">!</span>i<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>group<span class="token punctuation">[</span>o<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="fancybox-slide">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>group<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">pos</span><span class="token operator">:</span> t<span class="token punctuation">,</span>                    <span class="token literal-property property">$slide</span><span class="token operator">:</span> e<span class="token punctuation">,</span>                    <span class="token literal-property property">isLoaded</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">updateSlide</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>t<span class="token punctuation">]</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">scaleToActual</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> d <span class="token operator">=</span> l<span class="token punctuation">.</span>current<span class="token punctuation">,</span> u <span class="token operator">=</span> d<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> f <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> p <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span> h <span class="token operator">=</span> d<span class="token punctuation">.</span>width<span class="token punctuation">,</span> g <span class="token operator">=</span> d<span class="token punctuation">.</span>height<span class="token punctuation">;</span>                l<span class="token punctuation">.</span>isAnimating <span class="token operator">||</span> l<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>u <span class="token operator">||</span> <span class="token string">"image"</span> <span class="token operator">!=</span> d<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token operator">!</span>d<span class="token punctuation">.</span>isLoaded <span class="token operator">||</span> d<span class="token punctuation">.</span>hasError <span class="token operator">||</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span>                t <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> t <span class="token operator">?</span> <span class="token number">.5</span> <span class="token operator">*</span> f <span class="token operator">:</span> t<span class="token punctuation">,</span>                e <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> e <span class="token operator">?</span> <span class="token number">.5</span> <span class="token operator">*</span> p <span class="token operator">:</span> e<span class="token punctuation">,</span>                i <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>top <span class="token operator">-=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">,</span>                i<span class="token punctuation">.</span>left <span class="token operator">-=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>                r <span class="token operator">=</span> h <span class="token operator">/</span> i<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                c <span class="token operator">=</span> g <span class="token operator">/</span> i<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                a <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">*</span> f <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> h<span class="token punctuation">,</span>                s <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">*</span> p <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> g<span class="token punctuation">,</span>                h <span class="token operator">></span> f <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> i<span class="token punctuation">.</span>left <span class="token operator">*</span> r <span class="token operator">-</span> <span class="token punctuation">(</span>t <span class="token operator">*</span> r <span class="token operator">-</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">&lt;</span> f <span class="token operator">-</span> h <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> f <span class="token operator">-</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                g <span class="token operator">></span> p <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> i<span class="token punctuation">.</span>top <span class="token operator">*</span> c <span class="token operator">-</span> <span class="token punctuation">(</span>e <span class="token operator">*</span> c <span class="token operator">-</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>                s <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s <span class="token operator">&lt;</span> p <span class="token operator">-</span> g <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> p <span class="token operator">-</span> g<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                l<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> s<span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> a<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleX</span><span class="token operator">:</span> r<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleY</span><span class="token operator">:</span> c                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> o <span class="token operator">||</span> <span class="token number">366</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    l<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                l<span class="token punctuation">.</span>SlideShow <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>SlideShow<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>SlideShow<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">scaleToFit</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>current<span class="token punctuation">,</span> a <span class="token operator">=</span> i<span class="token punctuation">.</span>$content<span class="token punctuation">;</span>                o<span class="token punctuation">.</span>isAnimating <span class="token operator">||</span> o<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>a <span class="token operator">||</span> <span class="token string">"image"</span> <span class="token operator">!=</span> i<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token operator">!</span>i<span class="token punctuation">.</span>isLoaded <span class="token operator">||</span> i<span class="token punctuation">.</span>hasError <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                e <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">getFitPos</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>width<span class="token punctuation">,</span> e<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>left<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleX</span><span class="token operator">:</span> e<span class="token punctuation">.</span>width <span class="token operator">/</span> a<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token literal-property property">scaleY</span><span class="token operator">:</span> e<span class="token punctuation">.</span>height <span class="token operator">/</span> a<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t <span class="token operator">||</span> <span class="token number">366</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    o<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">getFitPos</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> t<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> c <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> l <span class="token operator">=</span> t<span class="token punctuation">.</span>width <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width<span class="token punctuation">,</span> d <span class="token operator">=</span> t<span class="token punctuation">.</span>height <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height<span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>isLoaded <span class="token operator">&amp;&amp;</span> r <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span>                o <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span>                e <span class="token operator">-=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingLeft"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingRight"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginLeft"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginRight"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">-=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingTop"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingBottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginTop"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"marginBottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                l <span class="token operator">&amp;&amp;</span> d <span class="token operator">||</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> e<span class="token punctuation">,</span>                d <span class="token operator">=</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> e <span class="token operator">/</span> l<span class="token punctuation">,</span> o <span class="token operator">/</span> d<span class="token punctuation">)</span><span class="token punctuation">,</span>                l <span class="token operator">*=</span> i<span class="token punctuation">,</span>                d <span class="token operator">*=</span> i<span class="token punctuation">,</span>                l <span class="token operator">></span> e <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>                d <span class="token operator">></span> o <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">?</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>top <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span>o <span class="token operator">-</span> d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingTop"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                u<span class="token punctuation">.</span>left <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span>e <span class="token operator">-</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"paddingLeft"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"video"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>contentType <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height <span class="token operator">?</span> l <span class="token operator">/</span> d <span class="token operator">:</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>ratio <span class="token operator">||</span> <span class="token number">16</span> <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">,</span>                d <span class="token operator">></span> l <span class="token operator">/</span> a <span class="token operator">?</span> d <span class="token operator">=</span> l <span class="token operator">/</span> a <span class="token operator">:</span> l <span class="token operator">></span> d <span class="token operator">*</span> a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> d <span class="token operator">*</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                u<span class="token punctuation">.</span>width <span class="token operator">=</span> l<span class="token punctuation">,</span>                u<span class="token punctuation">.</span>height <span class="token operator">=</span> d<span class="token punctuation">,</span>                u<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">updateSlide</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">updateSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> i <span class="token operator">=</span> t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$content                  <span class="token punctuation">,</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span>width <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width                  <span class="token punctuation">,</span> s <span class="token operator">=</span> t<span class="token punctuation">.</span>height <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height                  <span class="token punctuation">,</span> r <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">;</span>                o<span class="token punctuation">.</span><span class="token function">adjustCaption</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">||</span> s <span class="token operator">||</span> <span class="token string">"video"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">getFitPos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>pos <span class="token operator">===</span> o<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">adjustLayout</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>pos <span class="token operator">===</span> o<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>navigation<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".fancybox-button--arrow_right"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"compensate-for-scrollbar"</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scrollHeight <span class="token operator">></span> r<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onUpdate"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> e<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">centerSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> o <span class="token operator">=</span> e<span class="token punctuation">.</span>current                  <span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>$slide<span class="token punctuation">;</span>                <span class="token operator">!</span>e<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> o <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token string">""</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--previous fancybox-slide--next"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> t <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> t<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                        <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                        <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token string">""</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span>isComplete <span class="token operator">||</span> e<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">isMoved</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> t <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">,</span>                e <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span>i<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-animated"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>top <span class="token operator">-</span> o<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.5</span> <span class="token operator">||</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>left <span class="token operator">-</span> o<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">updateCursor</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> a<span class="token punctuation">.</span>current<span class="token punctuation">,</span> r <span class="token operator">=</span> a<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">;</span>                s <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>a<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>Guestures <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">canPan</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>o <span class="token operator">||</span> a<span class="token punctuation">.</span><span class="token function">isZoomable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-zoomable"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-zoom]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span> <span class="token operator">!</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-can-pan"</span><span class="token punctuation">)</span> <span class="token operator">:</span> i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"zoom"</span> <span class="token operator">===</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>clickContent <span class="token operator">||</span> n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>clickContent<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"zoom"</span> <span class="token operator">==</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span><span class="token function">clickContent</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-can-zoomIn"</span><span class="token punctuation">)</span> <span class="token operator">:</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>touch <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>touch<span class="token punctuation">.</span>vertical <span class="token operator">||</span> a<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"video"</span> <span class="token operator">!==</span> s<span class="token punctuation">.</span>contentType <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-can-swipe"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">isZoomable</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> t<span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span>current<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>n<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">.</span>isLoaded<span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getFitPos</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>width <span class="token operator">></span> t<span class="token punctuation">.</span>width <span class="token operator">||</span> n<span class="token punctuation">.</span>height <span class="token operator">></span> t<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">0</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">isScaledDown</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>                  <span class="token punctuation">,</span> a <span class="token operator">=</span> o<span class="token punctuation">.</span>current                  <span class="token punctuation">,</span> s <span class="token operator">=</span> a<span class="token punctuation">.</span>$content<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> t <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e <span class="token operator">?</span> i <span class="token operator">=</span> t <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> e <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>height <span class="token operator">:</span> s <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> i<span class="token punctuation">.</span>width <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>height <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>                i            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">canPan</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>current                  <span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">null</span>                  <span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token string">"image"</span> <span class="token operator">===</span> i<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>isComplete <span class="token operator">||</span> t <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>i<span class="token punctuation">.</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">getFitPos</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> t <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e <span class="token operator">?</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">width</span><span class="token operator">:</span> t<span class="token punctuation">,</span>                    <span class="token literal-property property">height</span><span class="token operator">:</span> e                <span class="token punctuation">&#125;</span> <span class="token operator">:</span> i<span class="token punctuation">.</span>isComplete <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">&amp;&amp;</span> s <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>width <span class="token operator">-</span> s<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1.5</span> <span class="token operator">||</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>height <span class="token operator">-</span> s<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">loadSlide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>t<span class="token punctuation">.</span>isLoading <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>isLoaded<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> a<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"beforeLoad"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token keyword">return</span> t<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">switch</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> t<span class="token punctuation">.</span>type<span class="token punctuation">,</span>                    o <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span>                    o<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideClass<span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">case</span> <span class="token string">"image"</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">setImage</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">"iframe"</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">setIframe</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">"html"</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> t<span class="token punctuation">.</span>src <span class="token operator">||</span> t<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">"video"</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>video<span class="token punctuation">.</span>tpl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;src\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gi</span></span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&#123;&#123;format&#125;&#125;"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>videoFormat <span class="token operator">||</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>video<span class="token punctuation">.</span>format <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&#123;&#123;poster&#125;&#125;"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>thumb <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">"inline"</span><span class="token operator">:</span>                        <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">?</span> a<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> a<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token string">"ajax"</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                        i <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>ajax<span class="token punctuation">.</span>settings<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                            <span class="token literal-property property">url</span><span class="token operator">:</span> t<span class="token punctuation">.</span>src<span class="token punctuation">,</span>                            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                <span class="token string">"success"</span> <span class="token operator">===</span> n <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span>                            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                            <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                                e <span class="token operator">&amp;&amp;</span> <span class="token string">"abort"</span> <span class="token operator">!==</span> n <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                            <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        o<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            i<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">default</span><span class="token operator">:</span>                        a<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">0</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setImage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> e <span class="token operator">=</span> t<span class="token punctuation">.</span>$image<span class="token punctuation">;</span>                    i<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>isLoading <span class="token operator">||</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>complete <span class="token operator">||</span> t<span class="token punctuation">.</span>hasError <span class="token operator">||</span> i<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">checkSrcset</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="fancybox-content">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-hidden"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--image"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>preload <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>thumb <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                t<span class="token punctuation">.</span>height <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                o <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$ghost <span class="token operator">=</span> <span class="token keyword">null</span>                <span class="token punctuation">&#125;</span>                <span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i<span class="token punctuation">.</span><span class="token function">afterLoad</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>                <span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$ghost <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-image"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>thumb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">setBigImage</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">checkSrcset</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>srcset <span class="token operator">||</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>image<span class="token punctuation">.</span>srcset<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i <span class="token operator">=</span> t<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">,</span>                    a <span class="token operator">=</span> t<span class="token punctuation">.</span>innerWidth <span class="token operator">*</span> i<span class="token punctuation">,</span>                    o <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> n<span class="token punctuation">)</span>                                <span class="token keyword">return</span> e<span class="token punctuation">.</span>url <span class="token operator">=</span> t<span class="token punctuation">;</span>                            o <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>value <span class="token operator">=</span> o<span class="token punctuation">,</span>                            e<span class="token punctuation">.</span>postfix <span class="token operator">=</span> t<span class="token punctuation">[</span>t<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        e                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">return</span> t<span class="token punctuation">.</span>value <span class="token operator">-</span> e<span class="token punctuation">.</span>value                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> o<span class="token punctuation">.</span>length<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">var</span> c <span class="token operator">=</span> o<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"w"</span> <span class="token operator">===</span> c<span class="token punctuation">.</span>postfix <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span>value <span class="token operator">>=</span> a <span class="token operator">||</span> <span class="token string">"x"</span> <span class="token operator">===</span> c<span class="token punctuation">.</span>postfix <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span>value <span class="token operator">>=</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            n <span class="token operator">=</span> c<span class="token punctuation">;</span>                            <span class="token keyword">break</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token operator">!</span>n <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> o<span class="token punctuation">[</span>o<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>src <span class="token operator">=</span> n<span class="token punctuation">.</span>url<span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>height <span class="token operator">&amp;&amp;</span> <span class="token string">"w"</span> <span class="token operator">==</span> n<span class="token punctuation">.</span>postfix <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>height <span class="token operator">=</span> e<span class="token punctuation">.</span>width <span class="token operator">/</span> e<span class="token punctuation">.</span>height <span class="token operator">*</span> n<span class="token punctuation">.</span>value<span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>width <span class="token operator">=</span> n<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>srcset <span class="token operator">=</span> s<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setBigImage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> i <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span>                  <span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                t<span class="token punctuation">.</span>$image <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    o<span class="token punctuation">.</span><span class="token function">setError</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> e<span class="token punctuation">;</span>                    t<span class="token punctuation">.</span>$ghost <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">resolveImageSlideSize</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalWidth<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalHeight<span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span><span class="token function">afterLoad</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>srcset <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>sizes<span class="token punctuation">,</span>                    e <span class="token operator">&amp;&amp;</span> <span class="token string">"auto"</span> <span class="token operator">!==</span> e <span class="token operator">||</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">/</span> t<span class="token punctuation">.</span>height <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> s<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">"100"</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">/</span> t<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"vw"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    a<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"sizes"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"srcset"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>srcset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$ghost <span class="token operator">&amp;&amp;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        t<span class="token punctuation">.</span>$ghost <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>o<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$ghost<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1e3</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">1600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-image"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">(</span>i<span class="token punctuation">.</span>complete <span class="token operator">||</span> <span class="token string">"complete"</span> <span class="token operator">==</span> i<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>naturalWidth <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>naturalHeight <span class="token operator">?</span> a<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"load"</span><span class="token punctuation">)</span> <span class="token operator">:</span> i<span class="token punctuation">.</span>error <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">resolveImageSlideSize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>                  <span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                t<span class="token punctuation">.</span>width <span class="token operator">=</span> e<span class="token punctuation">,</span>                t<span class="token punctuation">.</span>height <span class="token operator">=</span> n<span class="token punctuation">,</span>                o <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">=</span> o<span class="token punctuation">,</span>                t<span class="token punctuation">.</span>height <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>o <span class="token operator">*</span> n <span class="token operator">/</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i <span class="token operator">*</span> e <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>height <span class="token operator">=</span> i<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setIframe</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>iframe<span class="token punctuation">,</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">;</span>                t<span class="token punctuation">.</span>$content <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="fancybox-content'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>preload <span class="token operator">?</span> <span class="token string">" fancybox-is-hidden"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>css<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$iframe <span class="token operator">=</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>tpl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;rnd\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>attr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>preload <span class="token operator">?</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"load.fb error.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>isReady <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span><span class="token function">afterLoad</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"refresh.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> s <span class="token operator">=</span> t<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> r <span class="token operator">=</span> i<span class="token punctuation">.</span>css<span class="token punctuation">.</span>width<span class="token punctuation">,</span> c <span class="token operator">=</span> i<span class="token punctuation">.</span>css<span class="token punctuation">.</span>height<span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isReady<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                            n <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            o <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>                        o <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"overflow"</span><span class="token punctuation">,</span> <span class="token string">"visible"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        s<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                            <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>                            <span class="token string-property property">"max-width"</span><span class="token operator">:</span> <span class="token string">"100%"</span><span class="token punctuation">,</span>                            <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">"9999px"</span>                        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> r <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        s<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"width"</span><span class="token punctuation">,</span> r <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"max-width"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> c <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        s<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">,</span> c <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        a<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"overflow"</span><span class="token punctuation">,</span> <span class="token string">"auto"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        s<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-hidden"</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span><span class="token function">afterLoad</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"iframe"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"//about:blank"</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"refresh.fb"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>isLoaded <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>isRevealed <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                o<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">l</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-content"</span><span class="token punctuation">)</span> <span class="token operator">||</span> e<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-content"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">".fancybox-slide"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$placeholder <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"&lt;div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insertAfter</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">,</span> <span class="token string">"inline-block"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>hasError <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token string">"string"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"&lt;div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>filter <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"&lt;div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>filter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"video,audio"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$placeholder <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$placeholder<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$placeholder <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$smallBtn <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$smallBtn<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>$smallBtn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>hasError <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>isLoaded <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>isRevealed <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"video,audio"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-video"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span><span class="token string">"&lt;div>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>contentType <span class="token operator">=</span> <span class="token string">"video"</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>width <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"width"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>height <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"height"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">"div,form,main,video,audio,article,.fancybox-content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">wrapInner</span><span class="token punctuation">(</span><span class="token string">"&lt;div>&lt;/div>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-content"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">afterLoad</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setError</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t<span class="token punctuation">.</span>hasError <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span>contentType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--error"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>contentType <span class="token operator">=</span> <span class="token string">"html"</span><span class="token punctuation">,</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>errorTpl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>pos <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">showLoading</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token punctuation">(</span>t <span class="token operator">=</span> t <span class="token operator">||</span> e<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>$spinner <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$spinner <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>spinnerTpl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token string">"fast"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">hideLoading</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token punctuation">(</span>t <span class="token operator">=</span> t <span class="token operator">||</span> e<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$spinner <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">delete</span> t<span class="token punctuation">.</span>$spinner<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">afterLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                e<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>isLoading <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>isLoaded <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"afterLoad"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span>t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>smallBtn <span class="token operator">||</span> t<span class="token punctuation">.</span>$smallBtn <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$smallBtn<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$smallBtn <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>btnTpl<span class="token punctuation">.</span>smallBtn<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>protect <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$content <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"contextmenu.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">==</span> t<span class="token punctuation">.</span>button <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token operator">!</span><span class="token number">0</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="fancybox-spaceball">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">adjustCaption</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">adjustLayout</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>pos <span class="token operator">===</span> e<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">revealContent</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">adjustCaption</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> o <span class="token operator">=</span> t <span class="token operator">||</span> n<span class="token punctuation">.</span>current<span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption<span class="token punctuation">,</span> a <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>preventCaptionOverlap<span class="token punctuation">,</span> s <span class="token operator">=</span> n<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>caption<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span>                s<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-caption--separate"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">&amp;&amp;</span> i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>pos <span class="token operator">!==</span> n<span class="token punctuation">.</span>currPos <span class="token operator">?</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> n<span class="token punctuation">.</span>$caption <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> n<span class="token punctuation">.</span>$caption<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"padding-bottom"</span><span class="token punctuation">,</span> r <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">adjustLayout</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> t <span class="token operator">||</span> a<span class="token punctuation">.</span>current<span class="token punctuation">;</span>                s<span class="token punctuation">.</span>isLoaded <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">!==</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>disableLayoutFix <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"margin-bottom"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> s<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">.5</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> s<span class="token punctuation">.</span>$slide<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">[</span><span class="token string">"padding-bottom"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> s<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"padding-bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">parseFloat</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> s<span class="token punctuation">.</span>$slide<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"padding-bottom"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>e <span class="token operator">-</span> s<span class="token punctuation">.</span>$slide<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"padding-bottom"</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"margin-bottom"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">revealContent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> t<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> d <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> u <span class="token operator">=</span> t<span class="token punctuation">.</span>isRevealed<span class="token punctuation">;</span>                <span class="token keyword">return</span> t<span class="token punctuation">.</span>isRevealed <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                e <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>s<span class="token punctuation">.</span>firstRun <span class="token operator">?</span> <span class="token string">"animationEffect"</span> <span class="token operator">:</span> <span class="token string">"transitionEffect"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>s<span class="token punctuation">.</span>firstRun <span class="token operator">?</span> <span class="token string">"animationDuration"</span> <span class="token operator">:</span> <span class="token string">"transitionDuration"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>forcedDuration <span class="token operator">?</span> i <span class="token operator">:</span> t<span class="token punctuation">.</span>forcedDuration<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span>d <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>pos <span class="token operator">===</span> s<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> i <span class="token operator">||</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"zoom"</span> <span class="token operator">===</span> e <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>pos <span class="token operator">===</span> s<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> i <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getThumbPos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getFitPos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">:</span> e <span class="token operator">=</span> <span class="token string">"fade"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"zoom"</span> <span class="token operator">===</span> e <span class="token operator">?</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                c<span class="token punctuation">.</span>scaleX <span class="token operator">=</span> c<span class="token punctuation">.</span>width <span class="token operator">/</span> l<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                c<span class="token punctuation">.</span>scaleY <span class="token operator">=</span> c<span class="token punctuation">.</span>height <span class="token operator">/</span> l<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                a <span class="token operator">=</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>zoomOpacity<span class="token punctuation">,</span>                <span class="token string">"auto"</span> <span class="token operator">==</span> a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>width <span class="token operator">/</span> t<span class="token punctuation">.</span>height <span class="token operator">-</span> l<span class="token punctuation">.</span>width <span class="token operator">/</span> l<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">,</span>                c<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-hidden"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">p</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">void</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> c<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    s<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                    s<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">updateSlide</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                e <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> <span class="token string">"fancybox-slide--"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>pos <span class="token operator">>=</span> s<span class="token punctuation">.</span>prevPos <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"previous"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" fancybox-animated fancybox-fx-"</span> <span class="token operator">+</span> e<span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--current"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-hidden"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"image"</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">void</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token string">"fancybox-slide--current"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    r<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                        <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                        <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token string">""</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span>pos <span class="token operator">===</span> s<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-hidden"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                u <span class="token operator">||</span> <span class="token operator">!</span>d <span class="token operator">||</span> <span class="token string">"image"</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>type <span class="token operator">||</span> t<span class="token punctuation">.</span>hasError <span class="token operator">||</span> t<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fadeIn</span><span class="token punctuation">(</span><span class="token string">"fast"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">void</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>pos <span class="token operator">===</span> s<span class="token punctuation">.</span>currPos <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">getThumbPos</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span> c <span class="token operator">=</span> t<span class="token punctuation">.</span>$thumb<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>c <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">g</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border-top-width"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border-right-width"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border-bottom-width"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"border-left-width"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>top <span class="token operator">+</span> o<span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>left <span class="token operator">+</span> s<span class="token punctuation">,</span>                    <span class="token literal-property property">width</span><span class="token operator">:</span> e<span class="token punctuation">.</span>width <span class="token operator">-</span> i <span class="token operator">-</span> s<span class="token punctuation">,</span>                    <span class="token literal-property property">height</span><span class="token operator">:</span> e<span class="token punctuation">.</span>height <span class="token operator">-</span> o <span class="token operator">-</span> a<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleX</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                    <span class="token literal-property property">scaleY</span><span class="token operator">:</span> <span class="token number">1</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>width <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>height <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> t<span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> o <span class="token operator">=</span> e<span class="token punctuation">.</span>current<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token operator">!</span>e<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>isLoaded <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>isComplete <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>isComplete <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">preload</span><span class="token punctuation">(</span><span class="token string">"inline"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">p</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--complete"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    o<span class="token punctuation">.</span>pos <span class="token operator">>=</span> e<span class="token punctuation">.</span>currPos <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>pos <span class="token operator">&lt;=</span> e<span class="token punctuation">.</span>currPos <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">?</span> i<span class="token punctuation">[</span>o<span class="token punctuation">.</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> o <span class="token operator">:</span> o <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                    o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>slides <span class="token operator">=</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"afterShow"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>video<span class="token punctuation">.</span>autoStart <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"video,audio"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">":visible:first"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"play"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"ended"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    Document<span class="token punctuation">.</span>exitFullscreen <span class="token operator">?</span> Document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>webkitExitFullscreen <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">webkitExitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>autoFocus <span class="token operator">&amp;&amp;</span> <span class="token string">"html"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>contentType <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> o<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"input[autofocus]:enabled:visible:first"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>length <span class="token operator">?</span> t<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">preload</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                o<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> o<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>o<span class="token punctuation">.</span>currPos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                e <span class="token operator">=</span> o<span class="token punctuation">.</span>slides<span class="token punctuation">[</span>o<span class="token punctuation">.</span>currPos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>type <span class="token operator">===</span> t <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">loadSlide</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>                n <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>type <span class="token operator">===</span> t <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">loadSlide</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">focus</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a[href]"</span><span class="token punctuation">,</span> <span class="token string">"area[href]"</span><span class="token punctuation">,</span> <span class="token string">'input:not([disabled]):not([type="hidden"]):not([aria-hidden])'</span><span class="token punctuation">,</span> <span class="token string">"select:not([disabled]):not([aria-hidden])"</span><span class="token punctuation">,</span> <span class="token string">"textarea:not([disabled]):not([aria-hidden])"</span><span class="token punctuation">,</span> <span class="token string">"button:not([disabled]):not([aria-hidden])"</span><span class="token punctuation">,</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span> <span class="token string">"object"</span><span class="token punctuation">,</span> <span class="token string">"embed"</span><span class="token punctuation">,</span> <span class="token string">"video"</span><span class="token punctuation">,</span> <span class="token string">"audio"</span><span class="token punctuation">,</span> <span class="token string">"[contenteditable]"</span><span class="token punctuation">,</span> <span class="token string">'[tabindex]:not([tabindex^="-"])'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                s<span class="token punctuation">.</span>isClosing <span class="token operator">||</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token operator">!</span>t <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>current<span class="token punctuation">.</span>isComplete <span class="token operator">?</span> s<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"*:visible"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>o <span class="token operator">?</span> <span class="token string">":not(.fancybox-close-small)"</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> s<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"*:visible"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"hidden"</span> <span class="token operator">!==</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"visibility"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>activeElement<span class="token punctuation">)</span><span class="token punctuation">,</span>                t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>shiftKey <span class="token operator">?</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">==</span> a<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> a <span class="token operator">==</span> i<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> s<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">activate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"FancyBox"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>id <span class="token operator">!==</span> t<span class="token punctuation">.</span>id <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onDeactivate"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span><span class="token function">removeEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>isVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>isVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                <span class="token punctuation">(</span>t<span class="token punctuation">.</span>current <span class="token operator">||</span> t<span class="token punctuation">.</span>isIdle<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">updateControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onActivate"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">addEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> f <span class="token operator">=</span> u<span class="token punctuation">.</span>current<span class="token punctuation">,</span> <span class="token function-variable function">h</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    u<span class="token punctuation">.</span><span class="token function">cleanUp</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">!</span>u<span class="token punctuation">.</span>isClosing <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>isClosing <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> u<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"beforeClose"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>isClosing <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token function">d</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    u<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span><span class="token function">removeEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a <span class="token operator">=</span> f<span class="token punctuation">.</span>$content<span class="token punctuation">,</span>                o <span class="token operator">=</span> f<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>animationEffect<span class="token punctuation">,</span>                i <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">?</span> e <span class="token operator">:</span> o <span class="token operator">?</span> f<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>animationDuration <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                f<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">!==</span> t <span class="token operator">?</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span> <span class="token operator">:</span> o <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                f<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">siblings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">&amp;&amp;</span> u<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-open"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-closing"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"transition-duration"</span><span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token string">"ms"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                u<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span>                u<span class="token punctuation">.</span><span class="token function">hideControls</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                u<span class="token punctuation">.</span><span class="token function">updateCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"zoom"</span> <span class="token operator">!==</span> o <span class="token operator">||</span> a <span class="token operator">&amp;&amp;</span> i <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">===</span> f<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>u<span class="token punctuation">.</span><span class="token function">isMoved</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>f<span class="token punctuation">.</span>hasError <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l <span class="token operator">=</span> u<span class="token punctuation">.</span><span class="token function">getThumbPos</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> <span class="token string">"fade"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"zoom"</span> <span class="token operator">===</span> o <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                s <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                c <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> s<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> s<span class="token punctuation">.</span>left<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleX</span><span class="token operator">:</span> s<span class="token punctuation">.</span>width <span class="token operator">/</span> l<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                    <span class="token literal-property property">scaleY</span><span class="token operator">:</span> s<span class="token punctuation">.</span>height <span class="token operator">/</span> l<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                    <span class="token literal-property property">width</span><span class="token operator">:</span> l<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                    <span class="token literal-property property">height</span><span class="token operator">:</span> l<span class="token punctuation">.</span>height                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                r <span class="token operator">=</span> f<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>zoomOpacity<span class="token punctuation">,</span>                <span class="token string">"auto"</span> <span class="token operator">==</span> r <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>width <span class="token operator">/</span> f<span class="token punctuation">.</span>height <span class="token operator">-</span> l<span class="token punctuation">.</span>width <span class="token operator">/</span> l<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>l<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">p</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> l<span class="token punctuation">,</span> i<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>o <span class="token operator">&amp;&amp;</span> i <span class="token operator">?</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--previous"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--current"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"fancybox-animated fancybox-fx-"</span> <span class="token operator">+</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> t <span class="token operator">?</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">cleanUp</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$orig<span class="token punctuation">;</span>                s<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onReset"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"afterClose"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>backFocus <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">":visible"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> s<span class="token punctuation">.</span>$trigger<span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> t<span class="token punctuation">.</span>scrollX<span class="token punctuation">,</span>                a <span class="token operator">=</span> t<span class="token punctuation">.</span>scrollY<span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"html, body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-active compensate-for-scrollbar"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"#fancybox-style-noscroll"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>opts <span class="token operator">?</span> e <span class="token operator">:</span> a<span class="token punctuation">.</span>current<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">?</span> i<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">:</span> s <span class="token operator">=</span> a<span class="token punctuation">,</span>                i<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> o<span class="token punctuation">)</span>                    <span class="token keyword">return</span> o<span class="token punctuation">;</span>                <span class="token string">"afterClose"</span> <span class="token operator">!==</span> t <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>$refs <span class="token operator">?</span> a<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>t <span class="token operator">+</span> <span class="token string">".fb"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> r<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>t <span class="token operator">+</span> <span class="token string">".fb"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">updateControls</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> o <span class="token operator">=</span> t<span class="token punctuation">.</span>current                  <span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>index                  <span class="token punctuation">,</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container                  <span class="token punctuation">,</span> s <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>caption                  <span class="token punctuation">,</span> r <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>caption<span class="token punctuation">;</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"refresh"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$caption <span class="token operator">=</span> s<span class="token punctuation">,</span>                s<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>$caption <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>hasHiddenControls <span class="token operator">||</span> t<span class="token punctuation">.</span>isIdle <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">showControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-count]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-index]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-prev]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span> <span class="token operator">!</span>o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-next]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span> <span class="token operator">!</span>o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop <span class="token operator">&amp;&amp;</span> i <span class="token operator">>=</span> t<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"image"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>type <span class="token operator">?</span> a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-zoom]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-download]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"href"</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>image<span class="token punctuation">.</span>src <span class="token operator">||</span> o<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>toolbar <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-download],[data-fancybox-zoom]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>activeElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">":hidden,[disabled]"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">hideControls</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"infobar"</span><span class="token punctuation">,</span> <span class="token string">"toolbar"</span><span class="token punctuation">,</span> <span class="token string">"nav"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token operator">!</span>t <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>preventCaptionOverlap <span class="token operator">||</span> n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"caption"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"fancybox-show-"</span> <span class="token operator">+</span> t                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>hasHiddenControls <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">showControls</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span>                  <span class="token punctuation">,</span> e <span class="token operator">=</span> t<span class="token punctuation">.</span>current <span class="token operator">?</span> t<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts <span class="token operator">:</span> t<span class="token punctuation">.</span>opts                  <span class="token punctuation">,</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">;</span>                t<span class="token punctuation">.</span>hasHiddenControls <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-show-toolbar"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>toolbar <span class="token operator">||</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-show-infobar"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>infobar <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-show-caption"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span>t<span class="token punctuation">.</span>$caption<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-show-nav"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>arrows <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-modal"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token operator">!</span>e<span class="token punctuation">.</span>modal<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">toggleControls</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>hasHiddenControls <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hideControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        n<span class="token punctuation">.</span>fancybox <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">"3.5.7"</span><span class="token punctuation">,</span>            <span class="token literal-property property">defaults</span><span class="token operator">:</span> a<span class="token punctuation">,</span>            <span class="token function-variable function">getInstance</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'.fancybox-container:not(".fancybox-is-closing"):last'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"FancyBox"</span><span class="token punctuation">)</span>                  <span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> e <span class="token keyword">instanceof</span> <span class="token class-name">b</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"string"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">?</span> e<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> o<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"function"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">t</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">open</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">b</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>e<span class="token punctuation">,</span>n<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                e <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> t <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">destroy</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> <span class="token string">"**"</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">isMobile</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function-variable function">use3d</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> t<span class="token punctuation">.</span>getComputedStyle <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">"transform"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>documentMode <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>documentMode <span class="token operator">&lt;</span> <span class="token number">11</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function-variable function">getTranslate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> e<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">!</span>t <span class="token operator">||</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>top <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>left <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token literal-property property">width</span><span class="token operator">:</span> e<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                    <span class="token literal-property property">height</span><span class="token operator">:</span> e<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"opacity"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">setTranslate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token string">""</span>                  <span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">)</span>                    <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>left <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>top <span class="token operator">||</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>left <span class="token operator">?</span> t<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left <span class="token operator">:</span> e<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"px, "</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>top <span class="token operator">?</span> t<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top <span class="token operator">:</span> e<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">,</span>                    n <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>use3d <span class="token operator">?</span> <span class="token string">"translate3d("</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">", 0px)"</span> <span class="token operator">:</span> <span class="token string">"translate("</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleY <span class="token operator">?</span> n <span class="token operator">+=</span> <span class="token string">" scale("</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>scaleY <span class="token operator">+</span> <span class="token string">")"</span> <span class="token operator">:</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">+=</span> <span class="token string">" scaleX("</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>transform <span class="token operator">=</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>opacity <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>opacity <span class="token operator">=</span> e<span class="token punctuation">.</span>opacity<span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>width <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>width <span class="token operator">=</span> e<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>height <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>height <span class="token operator">=</span> e<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>                    t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">animate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> s<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> o<span class="token punctuation">,</span>                o <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                r<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                s <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token punctuation">(</span><span class="token operator">!</span>c <span class="token operator">||</span> <span class="token operator">!</span>c<span class="token punctuation">.</span>originalEvent <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"z-index"</span> <span class="token operator">!=</span> c<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>propertyName<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"transition-duration"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleY <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                        <span class="token literal-property property">left</span><span class="token operator">:</span> e<span class="token punctuation">.</span>left<span class="token punctuation">,</span>                        <span class="token literal-property property">width</span><span class="token operator">:</span> s<span class="token punctuation">.</span>width <span class="token operator">*</span> e<span class="token punctuation">.</span>scaleX<span class="token punctuation">,</span>                        <span class="token literal-property property">height</span><span class="token operator">:</span> s<span class="token punctuation">.</span>height <span class="token operator">*</span> e<span class="token punctuation">.</span>scaleY<span class="token punctuation">,</span>                        <span class="token literal-property property">scaleX</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                        <span class="token literal-property property">scaleY</span><span class="token operator">:</span> <span class="token number">1</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">!==</span> a <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>                    n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">i</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"transition-duration"</span><span class="token punctuation">,</span> o <span class="token operator">+</span> <span class="token string">"ms"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleX <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>scaleY <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">delete</span> e<span class="token punctuation">.</span>width<span class="token punctuation">,</span>                <span class="token keyword">delete</span> e<span class="token punctuation">.</span>height<span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-slide--image"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-scaling"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"timer"</span><span class="token punctuation">,</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    t<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> o <span class="token operator">+</span> <span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"timer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"transition-duration"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-scaling"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        n<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">fancybox</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> e<span class="token punctuation">;</span>            <span class="token keyword">return</span> t <span class="token operator">=</span> t <span class="token operator">||</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            e <span class="token operator">=</span> t<span class="token punctuation">.</span>selector <span class="token operator">||</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            e <span class="token operator">?</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> t            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>                <span class="token literal-property property">options</span><span class="token operator">:</span> t            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">this</span>        <span class="token punctuation">&#125;</span>        <span class="token punctuation">,</span>        r<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox]"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>        r<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-trigger]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">'[data-fancybox="'</span> <span class="token operator">+</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-fancybox-trigger"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-fancybox-index"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">$trigger</span><span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            r<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"mousedown mouseup focus blur"</span><span class="token punctuation">,</span> <span class="token string">".fancybox-button"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">"mousedown"</span><span class="token operator">:</span>                    t <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"mouseup"</span><span class="token operator">:</span>                    t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"focusin"</span><span class="token operator">:</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-focus"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"[disabled]"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-focus"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"focusout"</span><span class="token operator">:</span>                    <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-focus"</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">youtube</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&amp;)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]&#123;11&#125;|\?listType=(.*)&amp;list=(.*))(.*)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">autohide</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">fs</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">hd</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">wmode</span><span class="token operator">:</span> <span class="token string">"transparent"</span><span class="token punctuation">,</span>                <span class="token literal-property property">enablejsapi</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">html5</span><span class="token operator">:</span> <span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">paramPlace</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"https://www.youtube-nocookie.com/embed/$4"</span><span class="token punctuation">,</span>            <span class="token literal-property property">thumb</span><span class="token operator">:</span> <span class="token string">"https://img.youtube.com/vi/$4/hqdefault.jpg"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">vimeo</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^.+vimeo.com\/(.*\/)?([\d]+)(.*)?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">hd</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">show_title</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">show_byline</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">show_portrait</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">fullscreen</span><span class="token operator">:</span> <span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">paramPlace</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"//player.vimeo.com/video/$2"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">instagram</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"//$1/p/$2/media/?size=l"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">gmap_place</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(maps\.)?google\.([a-z]&#123;2,3&#125;(\.[a-z]&#123;2&#125;)?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span>            <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token string">"//maps.google."</span> <span class="token operator">+</span> t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"/?ll="</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">?</span> t<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&amp;z="</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">?</span> t<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">"&amp;"</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">"&amp;"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&amp;output="</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"layer=c"</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"svembed"</span> <span class="token operator">:</span> <span class="token string">"embed"</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">gmap_search</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">matcher</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(maps\.)?google\.([a-z]&#123;2,3&#125;(\.[a-z]&#123;2&#125;)?)\/(maps\/search\/)(.*)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"iframe"</span><span class="token punctuation">,</span>            <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token string">"//maps.google."</span> <span class="token operator">+</span> t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"/maps?q="</span> <span class="token operator">+</span> t<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"query="</span><span class="token punctuation">,</span> <span class="token string">"q="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"api=1"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&amp;output=embed"</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span>            <span class="token keyword">return</span> o <span class="token operator">=</span> o <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token string">"object"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"$"</span> <span class="token operator">+</span> t<span class="token punctuation">,</span> n <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">+=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"&amp;"</span> <span class="token operator">:</span> <span class="token string">"?"</span><span class="token punctuation">)</span> <span class="token operator">+</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>            e    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">t</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"objectNeedsType.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> d<span class="token punctuation">,</span> u<span class="token punctuation">,</span> f<span class="token punctuation">,</span> p <span class="token operator">=</span> a<span class="token punctuation">.</span>src <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span>        s <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>media<span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>matcher<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">=</span> o<span class="token punctuation">.</span>type<span class="token punctuation">,</span>                f <span class="token operator">=</span> e<span class="token punctuation">,</span>                u <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>paramPlace <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">[</span>o<span class="token punctuation">.</span>paramPlace<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    d <span class="token operator">=</span> c<span class="token punctuation">[</span>o<span class="token punctuation">.</span>paramPlace<span class="token punctuation">]</span><span class="token punctuation">,</span>                    <span class="token string">"?"</span> <span class="token operator">==</span> d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    d <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">var</span> s <span class="token operator">=</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token number">2</span> <span class="token operator">==</span> s<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>u<span class="token punctuation">[</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> l <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span>params<span class="token punctuation">,</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">,</span>                p <span class="token operator">=</span> <span class="token string">"function"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>url<span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>                r <span class="token operator">=</span> <span class="token string">"function"</span> <span class="token operator">===</span> t<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>thumb<span class="token punctuation">)</span> <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">thumb</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">n</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>thumb<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token string">"youtube"</span> <span class="token operator">===</span> e <span class="token operator">?</span> p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;t=((\d+)m)?(\d+)s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token string">"&amp;start="</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">?</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"vimeo"</span> <span class="token operator">===</span> e <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"&amp;%23"</span><span class="token punctuation">,</span> <span class="token string">"#"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        h <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>thumb <span class="token operator">||</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$thumb <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>$thumb<span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>thumb <span class="token operator">=</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token string">"iframe"</span> <span class="token operator">===</span> h <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>opts <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">iframe</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">preload</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">scrolling</span><span class="token operator">:</span> <span class="token string">"no"</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> h<span class="token punctuation">,</span>            <span class="token literal-property property">src</span><span class="token operator">:</span> p<span class="token punctuation">,</span>            <span class="token literal-property property">origSrc</span><span class="token operator">:</span> a<span class="token punctuation">.</span>src<span class="token punctuation">,</span>            <span class="token literal-property property">contentSource</span><span class="token operator">:</span> f<span class="token punctuation">,</span>            <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">"image"</span> <span class="token operator">===</span> h <span class="token operator">?</span> <span class="token string">"image"</span> <span class="token operator">:</span> <span class="token string">"gmap_place"</span> <span class="token operator">==</span> f <span class="token operator">||</span> <span class="token string">"gmap_search"</span> <span class="token operator">==</span> f <span class="token operator">?</span> <span class="token string">"map"</span> <span class="token operator">:</span> <span class="token string">"video"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> p <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>type <span class="token operator">=</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>defaultType<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">youtube</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">"https://www.youtube.com/iframe_api"</span><span class="token punctuation">,</span>            <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">"YT"</span><span class="token punctuation">,</span>            <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">loaded</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">vimeo</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">"https://player.vimeo.com/api/player.js"</span><span class="token punctuation">,</span>            <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">"Vimeo"</span><span class="token punctuation">,</span>            <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">loaded</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">load</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> e<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>loaded<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    n<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>loading <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            e <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"text/javascript"</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>src<span class="token punctuation">,</span>            <span class="token string">"youtube"</span> <span class="token operator">===</span> t <span class="token operator">?</span> window<span class="token punctuation">.</span><span class="token function-variable function">onYouTubeIframeAPIReady</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                n<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>loaded <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>            <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                n<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>loaded <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>            <span class="token punctuation">,</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">done</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">;</span>            <span class="token string">"youtube"</span> <span class="token operator">===</span> e <span class="token operator">&amp;&amp;</span> <span class="token keyword">delete</span> window<span class="token punctuation">.</span>onYouTubeIframeAPIReady<span class="token punctuation">,</span>            <span class="token punctuation">(</span>n <span class="token operator">=</span> t<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> n<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"iframe"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token string">"youtube"</span> <span class="token operator">===</span> e <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> <span class="token constant">YT</span> <span class="token operator">&amp;&amp;</span> <span class="token constant">YT</span> <span class="token operator">?</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">YT<span class="token punctuation">.</span>Player</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">events</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token function-variable function">onStateChange</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token number">0</span> <span class="token operator">==</span> t<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"vimeo"</span> <span class="token operator">===</span> e <span class="token operator">&amp;&amp;</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> Vimeo <span class="token operator">&amp;&amp;</span> Vimeo <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vimeo<span class="token punctuation">.</span>Player</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"ended"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">t</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token string-property property">"afterShow.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"youtube"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span>contentSource <span class="token operator">||</span> <span class="token string">"vimeo"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span>contentSource<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>contentSource<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> t<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>oRequestAnimationFrame <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token number">1e3</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">,</span> <span class="token function-variable function">i</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> t<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>webkitCancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>mozCancelAnimationFrame <span class="token operator">||</span> t<span class="token punctuation">.</span>oCancelAnimationFrame <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            t<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">,</span> <span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        e <span class="token operator">=</span> e<span class="token punctuation">.</span>originalEvent <span class="token operator">||</span> e <span class="token operator">||</span> t<span class="token punctuation">.</span>e<span class="token punctuation">,</span>        e <span class="token operator">=</span> e<span class="token punctuation">.</span>touches <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>touches<span class="token punctuation">.</span>length <span class="token operator">?</span> e<span class="token punctuation">.</span>touches <span class="token operator">:</span> e<span class="token punctuation">.</span>changedTouches <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">.</span>length <span class="token operator">?</span> e<span class="token punctuation">.</span>changedTouches <span class="token operator">:</span> <span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> o <span class="token keyword">in</span> e<span class="token punctuation">)</span>            e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>pageX <span class="token operator">?</span> n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>pageX<span class="token punctuation">,</span>                <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>pageY            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>clientX <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">x</span><span class="token operator">:</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>                <span class="token literal-property property">y</span><span class="token operator">:</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">.</span>clientY            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> n    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">s</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> t <span class="token operator">?</span> <span class="token string">"x"</span> <span class="token operator">===</span> n <span class="token operator">?</span> t<span class="token punctuation">.</span>x <span class="token operator">-</span> e<span class="token punctuation">.</span>x <span class="token operator">:</span> <span class="token string">"y"</span> <span class="token operator">===</span> n <span class="token operator">?</span> t<span class="token punctuation">.</span>y <span class="token operator">-</span> e<span class="token punctuation">.</span>y <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>x <span class="token operator">-</span> e<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>y <span class="token operator">-</span> e<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span>    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">r</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">'a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe'</span><span class="token punctuation">)</span> <span class="token operator">||</span> n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick<span class="token punctuation">)</span> <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"selectable"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> o <span class="token operator">=</span> t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>attributes<span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>length<span class="token punctuation">;</span> e <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> e<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"data-fancybox-"</span> <span class="token operator">===</span> o<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">1</span>    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">c</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"overflow-y"</span><span class="token punctuation">]</span>          <span class="token punctuation">,</span> o <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"overflow-x"</span><span class="token punctuation">]</span>          <span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"scroll"</span> <span class="token operator">===</span> n <span class="token operator">||</span> <span class="token string">"auto"</span> <span class="token operator">===</span> n<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>scrollHeight <span class="token operator">></span> e<span class="token punctuation">.</span>clientHeight          <span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"scroll"</span> <span class="token operator">===</span> o <span class="token operator">||</span> <span class="token string">"auto"</span> <span class="token operator">===</span> o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>scrollWidth <span class="token operator">></span> e<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>        <span class="token keyword">return</span> i <span class="token operator">||</span> a    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">l</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token operator">!</span>t<span class="token punctuation">.</span>length <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-stage"</span><span class="token punctuation">)</span> <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">break</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> e    <span class="token punctuation">&#125;</span>      <span class="token punctuation">,</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        e<span class="token punctuation">.</span>instance <span class="token operator">=</span> t<span class="token punctuation">,</span>        e<span class="token punctuation">.</span>$bg <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>bg<span class="token punctuation">,</span>        e<span class="token punctuation">.</span>$stage <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">,</span>        e<span class="token punctuation">.</span>$container <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">,</span>        e<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"touchstart.fb.touch mousedown.fb.touch"</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">"ontouchstart"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">destroy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        t<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">".fb.touch"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">".fb.touch"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">i</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>tapped <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>tapped<span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>tapped <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ontouchstart</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">this</span>          <span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>target<span class="token punctuation">)</span>          <span class="token punctuation">,</span> d <span class="token operator">=</span> i<span class="token punctuation">.</span>instance          <span class="token punctuation">,</span> u <span class="token operator">=</span> d<span class="token punctuation">.</span>current          <span class="token punctuation">,</span> f <span class="token operator">=</span> u<span class="token punctuation">.</span>$slide          <span class="token punctuation">,</span> p <span class="token operator">=</span> u<span class="token punctuation">.</span>$content          <span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token string">"touchstart"</span> <span class="token operator">==</span> o<span class="token punctuation">.</span>type<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"mousedown.fb.touch"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token operator">!</span>o<span class="token punctuation">.</span>originalEvent <span class="token operator">||</span> <span class="token number">2</span> <span class="token operator">!=</span> o<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> f<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">r</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">r</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>clientX <span class="token operator">></span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>u <span class="token operator">||</span> d<span class="token punctuation">.</span>isAnimating <span class="token operator">||</span> u<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-animated"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> o<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token keyword">void</span> o<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            i<span class="token punctuation">.</span>realPoints <span class="token operator">=</span> i<span class="token punctuation">.</span>startPoints <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>startPoints<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>touch <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>startEvent <span class="token operator">=</span> o<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>$target <span class="token operator">=</span> c<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>$content <span class="token operator">=</span> p<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>opts <span class="token operator">=</span> u<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>touch<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isPanning <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isZooming <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isScrolling <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>canPan <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">canPan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>startTime <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>distanceX <span class="token operator">=</span> i<span class="token punctuation">.</span>distanceY <span class="token operator">=</span> i<span class="token punctuation">.</span>distance <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>canvasWidth <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>canvasHeight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>contentLastPos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>contentStartPos <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$content<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>sliderStartPos <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>stagePos <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>top <span class="token operator">-=</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>top<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>left <span class="token operator">-=</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>left<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>top <span class="token operator">-=</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>top<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>left <span class="token operator">-=</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>left<span class="token punctuation">,</span>            <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">".fb.touch"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>h <span class="token operator">?</span> <span class="token string">"touchend.fb.touch touchcancel.fb.touch"</span> <span class="token operator">:</span> <span class="token string">"mouseup.fb.touch mouseleave.fb.touch"</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"ontouchend"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>h <span class="token operator">?</span> <span class="token string">"touchmove.fb.touch"</span> <span class="token operator">:</span> <span class="token string">"mousemove.fb.touch"</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"ontouchmove"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>onscroll<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>opts <span class="token operator">||</span> i<span class="token punctuation">.</span>canPan<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$stage<span class="token punctuation">)</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>$stage<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">".fancybox-image"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span><span class="token function">parents</span><span class="token punctuation">(</span><span class="token string">".fancybox-caption"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>isScrollable <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">l</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>isScrollable <span class="token operator">||</span> o<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">===</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">.</span>length <span class="token operator">||</span> u<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>canPan <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isPanning <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> i<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-grabbing"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token number">2</span> <span class="token operator">===</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">===</span> u<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>u<span class="token punctuation">.</span>isLoaded <span class="token operator">||</span> u<span class="token punctuation">.</span>$ghost<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isPanning <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>isZooming <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$content<span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>centerPointStartX <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>centerPointStartY <span class="token operator">=</span> <span class="token number">.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            i<span class="token punctuation">.</span>percentageOfImageAtPinchPointX <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>centerPointStartX <span class="token operator">-</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">/</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>width<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>percentageOfImageAtPinchPointY <span class="token operator">=</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>centerPointStartY <span class="token operator">-</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token operator">/</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>height<span class="token punctuation">,</span>            i<span class="token punctuation">.</span>startDistanceBetweenFingers <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        n<span class="token punctuation">.</span>isScrolling <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> n<span class="token punctuation">.</span>onscroll<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ontouchmove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token number">0</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>buttons <span class="token operator">&amp;&amp;</span> <span class="token number">0</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>buttons <span class="token operator">?</span> <span class="token keyword">void</span> e<span class="token punctuation">.</span><span class="token function">ontouchend</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span>isScrolling <span class="token operator">?</span> <span class="token keyword">void</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>opts <span class="token operator">||</span> e<span class="token punctuation">.</span>canPan<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>newPoints<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>newPoints<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>isSwiping <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>isSwiping <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>distanceX <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>distanceY <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>distance <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>startPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>distance <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>isSwiping <span class="token operator">?</span> e<span class="token punctuation">.</span><span class="token function">onSwipe</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span>isPanning <span class="token operator">?</span> e<span class="token punctuation">.</span><span class="token function">onPan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span>isZooming <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span><span class="token function">onZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onSwipe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span>instance<span class="token punctuation">,</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span>isSwiping<span class="token punctuation">,</span> l <span class="token operator">=</span> s<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>left <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span> <span class="token operator">!==</span> c<span class="token punctuation">)</span>            <span class="token string">"x"</span> <span class="token operator">==</span> c <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>distanceX <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">===</span> s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop<span class="token punctuation">)</span> <span class="token operator">?</span> l <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>distanceX<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">:</span> s<span class="token punctuation">.</span>distanceX <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>index <span class="token operator">===</span> s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop<span class="token punctuation">)</span> <span class="token operator">?</span> l <span class="token operator">-=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token operator">-</span>s<span class="token punctuation">.</span>distanceX<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">:</span> l <span class="token operator">+=</span> s<span class="token punctuation">.</span>distanceX<span class="token punctuation">)</span><span class="token punctuation">,</span>            s<span class="token punctuation">.</span>sliderLastPos <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"x"</span> <span class="token operator">==</span> c <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> s<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>top <span class="token operator">+</span> s<span class="token punctuation">.</span>distanceY<span class="token punctuation">,</span>                <span class="token literal-property property">left</span><span class="token operator">:</span> l            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            s<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">i</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>            s<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            s<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                s<span class="token punctuation">.</span>sliderLastPos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">var</span> o <span class="token operator">=</span> e<span class="token punctuation">.</span>pos <span class="token operator">-</span> s<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>currPos<span class="token punctuation">;</span>                    n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                        <span class="token literal-property property">top</span><span class="token operator">:</span> s<span class="token punctuation">.</span>sliderLastPos<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                        <span class="token literal-property property">left</span><span class="token operator">:</span> s<span class="token punctuation">.</span>sliderLastPos<span class="token punctuation">.</span>left <span class="token operator">+</span> o <span class="token operator">*</span> s<span class="token punctuation">.</span>canvasWidth <span class="token operator">+</span> o <span class="token operator">*</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>gutter                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-sliding"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>distance<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            r<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>vertical <span class="token operator">?</span> s<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token string">"y"</span> <span class="token operator">:</span> r<span class="token punctuation">.</span>isDragging <span class="token operator">||</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>vertical <span class="token operator">||</span> <span class="token string">"auto"</span> <span class="token operator">===</span> s<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>vertical <span class="token operator">&amp;&amp;</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">800</span> <span class="token operator">?</span> s<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token string">"x"</span> <span class="token operator">:</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token number">180</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>distanceY<span class="token punctuation">,</span> s<span class="token punctuation">.</span>distanceX<span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            s<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> a <span class="token operator">></span> <span class="token number">45</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;</span> <span class="token number">135</span> <span class="token operator">?</span> <span class="token string">"y"</span> <span class="token operator">:</span> <span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token string">"y"</span> <span class="token operator">===</span> s<span class="token punctuation">.</span>isSwiping <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>isScrollable<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>isScrolling <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            r<span class="token punctuation">.</span>isDragging <span class="token operator">=</span> s<span class="token punctuation">.</span>isSwiping<span class="token punctuation">,</span>            s<span class="token punctuation">.</span>startPoints <span class="token operator">=</span> s<span class="token punctuation">.</span>newPoints<span class="token punctuation">,</span>            n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>slides<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o<span class="token punctuation">,</span> i<span class="token punctuation">;</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                o <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$slide<span class="token punctuation">)</span><span class="token punctuation">,</span>                i <span class="token operator">=</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getTranslate</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                    <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>                    <span class="token string-property property">"transition-duration"</span><span class="token operator">:</span> <span class="token string">""</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-animated"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^|\s)fancybox-fx-\S+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                e<span class="token punctuation">.</span>pos <span class="token operator">===</span> r<span class="token punctuation">.</span>current<span class="token punctuation">.</span>pos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>top <span class="token operator">=</span> o<span class="token punctuation">.</span>top <span class="token operator">-</span> i<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                s<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>left <span class="token operator">=</span> o<span class="token punctuation">.</span>left <span class="token operator">-</span> i<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span>                n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">top</span><span class="token operator">:</span> o<span class="token punctuation">.</span>top <span class="token operator">-</span> i<span class="token punctuation">.</span>top<span class="token punctuation">,</span>                    <span class="token literal-property property">left</span><span class="token operator">:</span> o<span class="token punctuation">.</span>left <span class="token operator">-</span> i<span class="token punctuation">.</span>left                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            r<span class="token punctuation">.</span>SlideShow <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>SlideShow<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span>SlideShow<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onPan</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">s</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>realPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>isMobile <span class="token operator">?</span> <span class="token number">10</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>startPoints <span class="token operator">=</span> t<span class="token punctuation">.</span>newPoints<span class="token punctuation">)</span><span class="token punctuation">;</span>        t<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>contentLastPos <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">limitMovement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token function">i</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>        t<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> t<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">limitMovement</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span>canvasWidth<span class="token punctuation">,</span> c <span class="token operator">=</span> s<span class="token punctuation">.</span>canvasHeight<span class="token punctuation">,</span> l <span class="token operator">=</span> s<span class="token punctuation">.</span>distanceX<span class="token punctuation">,</span> d <span class="token operator">=</span> s<span class="token punctuation">.</span>distanceY<span class="token punctuation">,</span> u <span class="token operator">=</span> s<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">,</span> f <span class="token operator">=</span> u<span class="token punctuation">.</span>left<span class="token punctuation">,</span> p <span class="token operator">=</span> u<span class="token punctuation">.</span>top<span class="token punctuation">,</span> h <span class="token operator">=</span> u<span class="token punctuation">.</span>width<span class="token punctuation">,</span> g <span class="token operator">=</span> u<span class="token punctuation">.</span>height<span class="token punctuation">;</span>        <span class="token keyword">return</span> i <span class="token operator">=</span> h <span class="token operator">></span> r <span class="token operator">?</span> f <span class="token operator">+</span> l <span class="token operator">:</span> f<span class="token punctuation">,</span>        a <span class="token operator">=</span> p <span class="token operator">+</span> d<span class="token punctuation">,</span>        t <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span> <span class="token operator">*</span> r <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span>        e <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span> <span class="token operator">*</span> c <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> g<span class="token punctuation">)</span><span class="token punctuation">,</span>        n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>r <span class="token operator">-</span> h<span class="token punctuation">,</span> <span class="token number">.5</span> <span class="token operator">*</span> r <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> h<span class="token punctuation">)</span><span class="token punctuation">,</span>        o <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>c <span class="token operator">-</span> g<span class="token punctuation">,</span> <span class="token number">.5</span> <span class="token operator">*</span> c <span class="token operator">-</span> <span class="token number">.5</span> <span class="token operator">*</span> g<span class="token punctuation">)</span><span class="token punctuation">,</span>        l <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">></span> t <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> t <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token operator">-</span>t <span class="token operator">+</span> f <span class="token operator">+</span> l<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        l <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>n <span class="token operator">-</span> f <span class="token operator">-</span> l<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        d <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">></span> e <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> e <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token operator">-</span>e <span class="token operator">+</span> p <span class="token operator">+</span> d<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        d <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;</span> o <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> o <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>o <span class="token operator">-</span> p <span class="token operator">-</span> d<span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> a<span class="token punctuation">,</span>            <span class="token literal-property property">left</span><span class="token operator">:</span> i        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">limitPosition</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">this</span>          <span class="token punctuation">,</span> a <span class="token operator">=</span> i<span class="token punctuation">.</span>canvasWidth          <span class="token punctuation">,</span> s <span class="token operator">=</span> i<span class="token punctuation">.</span>canvasHeight<span class="token punctuation">;</span>        <span class="token keyword">return</span> n <span class="token operator">></span> a <span class="token operator">?</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> t <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> t<span class="token punctuation">,</span>        t <span class="token operator">=</span> t <span class="token operator">&lt;</span> a <span class="token operator">-</span> n <span class="token operator">?</span> a <span class="token operator">-</span> n <span class="token operator">:</span> t<span class="token punctuation">)</span> <span class="token operator">:</span> t <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> a <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o <span class="token operator">></span> s <span class="token operator">?</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> e <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> e<span class="token punctuation">,</span>        e <span class="token operator">=</span> e <span class="token operator">&lt;</span> s <span class="token operator">-</span> o <span class="token operator">?</span> s <span class="token operator">-</span> o <span class="token operator">:</span> e<span class="token punctuation">)</span> <span class="token operator">:</span> e <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> o <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">,</span>            <span class="token literal-property property">left</span><span class="token operator">:</span> t        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onZoom</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span>          <span class="token punctuation">,</span> a <span class="token operator">=</span> e<span class="token punctuation">.</span>contentStartPos          <span class="token punctuation">,</span> r <span class="token operator">=</span> a<span class="token punctuation">.</span>width          <span class="token punctuation">,</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span>height          <span class="token punctuation">,</span> l <span class="token operator">=</span> a<span class="token punctuation">.</span>left          <span class="token punctuation">,</span> d <span class="token operator">=</span> a<span class="token punctuation">.</span>top          <span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> f <span class="token operator">=</span> u <span class="token operator">/</span> e<span class="token punctuation">.</span>startDistanceBetweenFingers          <span class="token punctuation">,</span> p <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>r <span class="token operator">*</span> f<span class="token punctuation">)</span>          <span class="token punctuation">,</span> h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>c <span class="token operator">*</span> f<span class="token punctuation">)</span>          <span class="token punctuation">,</span> g <span class="token operator">=</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> p<span class="token punctuation">)</span> <span class="token operator">*</span> e<span class="token punctuation">.</span>percentageOfImageAtPinchPointX          <span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">-</span> h<span class="token punctuation">)</span> <span class="token operator">*</span> e<span class="token punctuation">.</span>percentageOfImageAtPinchPointY          <span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span> e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> v <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span> e<span class="token punctuation">.</span>newPoints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> y <span class="token operator">=</span> m <span class="token operator">-</span> e<span class="token punctuation">.</span>centerPointStartX          <span class="token punctuation">,</span> x <span class="token operator">=</span> v <span class="token operator">-</span> e<span class="token punctuation">.</span>centerPointStartY          <span class="token punctuation">,</span> w <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>g <span class="token operator">+</span> y<span class="token punctuation">)</span>          <span class="token punctuation">,</span> $ <span class="token operator">=</span> d <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">+</span> x<span class="token punctuation">)</span>          <span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> $<span class="token punctuation">,</span>            <span class="token literal-property property">left</span><span class="token operator">:</span> w<span class="token punctuation">,</span>            <span class="token literal-property property">scaleX</span><span class="token operator">:</span> f<span class="token punctuation">,</span>            <span class="token literal-property property">scaleY</span><span class="token operator">:</span> f        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        e<span class="token punctuation">.</span>canTap <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>newWidth <span class="token operator">=</span> p<span class="token punctuation">,</span>        e<span class="token punctuation">.</span>newHeight <span class="token operator">=</span> h<span class="token punctuation">,</span>        e<span class="token punctuation">.</span>contentLastPos <span class="token operator">=</span> <span class="token constant">S</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token function">i</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> e<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ontouchend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>          <span class="token punctuation">,</span> s <span class="token operator">=</span> o<span class="token punctuation">.</span>isSwiping          <span class="token punctuation">,</span> r <span class="token operator">=</span> o<span class="token punctuation">.</span>isPanning          <span class="token punctuation">,</span> c <span class="token operator">=</span> o<span class="token punctuation">.</span>isZooming          <span class="token punctuation">,</span> l <span class="token operator">=</span> o<span class="token punctuation">.</span>isScrolling<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>endPoints <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>dMs <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> o<span class="token punctuation">.</span>startTime<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-grabbing"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">".fb.touch"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span>onscroll<span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>requestId <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">i</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>requestId<span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>requestId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>isSwiping <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>isPanning <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>isZooming <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>isScrolling <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>isDragging <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>canTap<span class="token punctuation">)</span>            <span class="token keyword">return</span> o<span class="token punctuation">.</span><span class="token function">onTap</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>        o<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>velocityX <span class="token operator">=</span> o<span class="token punctuation">.</span>distanceX <span class="token operator">/</span> o<span class="token punctuation">.</span>dMs <span class="token operator">*</span> <span class="token number">.5</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>velocityY <span class="token operator">=</span> o<span class="token punctuation">.</span>distanceY <span class="token operator">/</span> o<span class="token punctuation">.</span>dMs <span class="token operator">*</span> <span class="token number">.5</span><span class="token punctuation">,</span>        r <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">endPanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> c <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">endZooming</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span><span class="token function">endSwiping</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> l<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">endSwiping</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">this</span>          <span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span>          <span class="token punctuation">,</span> a <span class="token operator">=</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length          <span class="token punctuation">,</span> s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>distanceX<span class="token punctuation">)</span>          <span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token string">"x"</span> <span class="token operator">==</span> t <span class="token operator">&amp;&amp;</span> a <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>dMs <span class="token operator">></span> <span class="token number">130</span> <span class="token operator">&amp;&amp;</span> s <span class="token operator">></span> <span class="token number">10</span> <span class="token operator">||</span> s <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        o<span class="token punctuation">.</span>sliderLastPos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token string">"y"</span> <span class="token operator">==</span> t <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>distanceY<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">50</span> <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$slide<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> o<span class="token punctuation">.</span>sliderStartPos<span class="token punctuation">.</span>top <span class="token operator">+</span> o<span class="token punctuation">.</span>distanceY <span class="token operator">+</span> <span class="token number">150</span> <span class="token operator">*</span> o<span class="token punctuation">.</span>velocityY<span class="token punctuation">,</span>            <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        i <span class="token operator">=</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> r <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>distanceX <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span> <span class="token operator">:</span> r <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>distanceX <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> i <span class="token operator">||</span> <span class="token string">"x"</span> <span class="token operator">!=</span> t <span class="token operator">&amp;&amp;</span> <span class="token string">"y"</span> <span class="token operator">!=</span> t <span class="token operator">||</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">centerSlide</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>$container<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-sliding"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">endPanning</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        i<span class="token punctuation">.</span>contentLastPos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>momentum <span class="token operator">||</span> i<span class="token punctuation">.</span>dMs <span class="token operator">></span> <span class="token number">350</span> <span class="token operator">?</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> i<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>left<span class="token punctuation">,</span>        e <span class="token operator">=</span> i<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> i<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>left <span class="token operator">+</span> <span class="token number">500</span> <span class="token operator">*</span> i<span class="token punctuation">.</span>velocityX<span class="token punctuation">,</span>        e <span class="token operator">=</span> i<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>top <span class="token operator">+</span> <span class="token number">500</span> <span class="token operator">*</span> i<span class="token punctuation">.</span>velocityY<span class="token punctuation">)</span><span class="token punctuation">,</span>        o <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">limitPosition</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>width<span class="token punctuation">,</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span>width <span class="token operator">=</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>width<span class="token punctuation">,</span>        o<span class="token punctuation">.</span>height <span class="token operator">=</span> i<span class="token punctuation">.</span>contentStartPos<span class="token punctuation">.</span>height<span class="token punctuation">,</span>        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> o<span class="token punctuation">,</span> <span class="token number">366</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">endZooming</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> a<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">,</span> r <span class="token operator">=</span> a<span class="token punctuation">.</span>newWidth<span class="token punctuation">,</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span>newHeight<span class="token punctuation">;</span>        a<span class="token punctuation">.</span>contentLastPos <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> a<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>left<span class="token punctuation">,</span>        e <span class="token operator">=</span> a<span class="token punctuation">.</span>contentLastPos<span class="token punctuation">.</span>top<span class="token punctuation">,</span>        i <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">top</span><span class="token operator">:</span> e<span class="token punctuation">,</span>            <span class="token literal-property property">left</span><span class="token operator">:</span> t<span class="token punctuation">,</span>            <span class="token literal-property property">width</span><span class="token operator">:</span> r<span class="token punctuation">,</span>            <span class="token literal-property property">height</span><span class="token operator">:</span> c<span class="token punctuation">,</span>            <span class="token literal-property property">scaleX</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">scaleY</span><span class="token operator">:</span> <span class="token number">1</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">setTranslate</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span>        r <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>canvasWidth <span class="token operator">&amp;&amp;</span> c <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>canvasHeight <span class="token operator">?</span> a<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">scaleToFit</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">:</span> r <span class="token operator">></span> s<span class="token punctuation">.</span>width <span class="token operator">||</span> c <span class="token operator">></span> s<span class="token punctuation">.</span>height <span class="token operator">?</span> a<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">scaleToActual</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>centerPointStartX<span class="token punctuation">,</span> a<span class="token punctuation">.</span>centerPointStartY<span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">limitPosition</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">,</span>        n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>$content<span class="token punctuation">,</span> o<span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    d<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onTap</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span> r <span class="token operator">=</span> i<span class="token punctuation">.</span>instance<span class="token punctuation">,</span> c <span class="token operator">=</span> r<span class="token punctuation">.</span>current<span class="token punctuation">,</span> l <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">a</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>startPoints<span class="token punctuation">,</span> d <span class="token operator">=</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>left <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> u <span class="token operator">=</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">.</span>stagePos<span class="token punctuation">.</span>top <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> o <span class="token operator">=</span> c<span class="token punctuation">.</span>opts<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token punctuation">[</span>c<span class="token punctuation">,</span> e<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">)</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">"close"</span><span class="token operator">:</span>                    r<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>startEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"toggleControls"</span><span class="token operator">:</span>                    r<span class="token punctuation">.</span><span class="token function">toggleControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"next"</span><span class="token operator">:</span>                    r<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"nextOrClose"</span><span class="token operator">:</span>                    r<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> r<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>startEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"zoom"</span><span class="token operator">:</span>                    <span class="token string">"image"</span> <span class="token operator">==</span> c<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>isLoaded <span class="token operator">||</span> c<span class="token punctuation">.</span>$ghost<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">canPan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">scaleToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> r<span class="token punctuation">.</span><span class="token function">isScaledDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">scaleToActual</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> u<span class="token punctuation">)</span> <span class="token operator">:</span> r<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> r<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>startEvent<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>e<span class="token punctuation">.</span>originalEvent <span class="token operator">||</span> <span class="token number">2</span> <span class="token operator">!=</span> e<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>button<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span>d <span class="token operator">></span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientWidth <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                o <span class="token operator">=</span> <span class="token string">"Outside"</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">".fancybox-slide"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                o <span class="token operator">=</span> <span class="token string">"Slide"</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>r<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$content <span class="token operator">||</span> <span class="token operator">!</span>r<span class="token punctuation">.</span>current<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>                    <span class="token keyword">return</span><span class="token punctuation">;</span>                o <span class="token operator">=</span> <span class="token string">"Content"</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>tapped<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>tapped<span class="token punctuation">)</span><span class="token punctuation">,</span>                i<span class="token punctuation">.</span>tapped <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>d <span class="token operator">-</span> i<span class="token punctuation">.</span>tapX<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">50</span> <span class="token operator">||</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>u <span class="token operator">-</span> i<span class="token punctuation">.</span>tapY<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>                <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"dblclick"</span> <span class="token operator">+</span> o<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span>                i<span class="token punctuation">.</span>tapX <span class="token operator">=</span> d<span class="token punctuation">,</span>                i<span class="token punctuation">.</span>tapY <span class="token operator">=</span> u<span class="token punctuation">,</span>                c<span class="token punctuation">.</span>opts<span class="token punctuation">[</span><span class="token string">"dblclick"</span> <span class="token operator">+</span> o<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> c<span class="token punctuation">.</span>opts<span class="token punctuation">[</span><span class="token string">"dblclick"</span> <span class="token operator">+</span> o<span class="token punctuation">]</span> <span class="token operator">!==</span> c<span class="token punctuation">.</span>opts<span class="token punctuation">[</span><span class="token string">"click"</span> <span class="token operator">+</span> o<span class="token punctuation">]</span> <span class="token operator">?</span> i<span class="token punctuation">.</span>tapped <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i<span class="token punctuation">.</span>tapped <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>                    r<span class="token punctuation">.</span>isAnimating <span class="token operator">||</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"click"</span> <span class="token operator">+</span> o<span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"click"</span> <span class="token operator">+</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">,</span>    <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"onActivate.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        e <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>Guestures <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>Guestures <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">d</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"beforeClose.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>Guestures <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>Guestures<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">btnTpl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">slideShow</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-play class="fancybox-button fancybox-button--play" title="&#123;&#123;PLAY_START&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M6.5 5.4v13.2l11-6.6z"/>&lt;/svg>&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/>&lt;/svg>&lt;/button>'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">slideShow</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">speed</span><span class="token operator">:</span> <span class="token number">3e3</span><span class="token punctuation">,</span>            <span class="token literal-property property">progress</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> t<span class="token punctuation">,</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">timer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token literal-property property">isActive</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">$button</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span>              <span class="token punctuation">,</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span>instance              <span class="token punctuation">,</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span>group<span class="token punctuation">[</span>n<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideShow<span class="token punctuation">;</span>            t<span class="token punctuation">.</span>$button <span class="token operator">=</span> n<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-play]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token operator">!</span>o <span class="token operator">?</span> t<span class="token punctuation">.</span>$button<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span>progress <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$progress <span class="token operator">=</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="fancybox-progress">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>inner<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">this</span>              <span class="token punctuation">,</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span>instance              <span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>current<span class="token punctuation">;</span>            i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> t <span class="token operator">||</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop <span class="token operator">||</span> o<span class="token punctuation">.</span>currIndex <span class="token operator">&lt;</span> o<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> n<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token string">"video"</span> <span class="token operator">!==</span> i<span class="token punctuation">.</span>contentType <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>$progress <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>$progress<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">scaleX</span><span class="token operator">:</span> <span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideShow<span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                o<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>loop <span class="token operator">||</span> o<span class="token punctuation">.</span>current<span class="token punctuation">.</span>index <span class="token operator">!=</span> o<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideShow<span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span>idleSecondsCounter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span><span class="token function">showControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">clear</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>$progress <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$progress<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span>              <span class="token punctuation">,</span> e <span class="token operator">=</span> t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">;</span>            e <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$button<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">[</span>e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>lang<span class="token punctuation">]</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span>en<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">PLAY_STOP</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--play"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--pause"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>isComplete <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onSlideShowChange"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span>              <span class="token punctuation">,</span> e <span class="token operator">=</span> t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">;</span>            t<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>$button<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">[</span>e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>lang<span class="token punctuation">]</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>i18n<span class="token punctuation">.</span>en<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token constant">PLAY_START</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--pause"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--play"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onSlideShowChange"</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>$progress <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>$progress<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>            t<span class="token punctuation">.</span>isActive <span class="token operator">?</span> t<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token string-property property">"onInit.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>SlideShow <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>SlideShow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"beforeShow.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> i <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>SlideShow<span class="token punctuation">;</span>            o <span class="token operator">?</span> i <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideShow<span class="token punctuation">.</span>autoStart <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"afterShow.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> o <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>SlideShow<span class="token punctuation">;</span>            o <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"afterKeydown.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> r <span class="token operator">=</span> o <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>SlideShow<span class="token punctuation">;</span>            <span class="token operator">!</span>r <span class="token operator">||</span> <span class="token operator">!</span>i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>slideShow <span class="token operator">||</span> <span class="token number">80</span> <span class="token operator">!==</span> s <span class="token operator">&amp;&amp;</span> <span class="token number">32</span> <span class="token operator">!==</span> s <span class="token operator">||</span> <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>activeElement<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token string">"button,a,input"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            r<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"beforeClose.fb onDeactivate.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> n <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>SlideShow<span class="token punctuation">;</span>            n <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"visibilitychange"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> o <span class="token operator">=</span> n <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>SlideShow<span class="token punctuation">;</span>        o <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>hidden <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"requestFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"exitFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"fullscreenElement"</span><span class="token punctuation">,</span> <span class="token string">"fullscreenEnabled"</span><span class="token punctuation">,</span> <span class="token string">"fullscreenchange"</span><span class="token punctuation">,</span> <span class="token string">"fullscreenerror"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"webkitRequestFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"webkitExitFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"webkitFullscreenElement"</span><span class="token punctuation">,</span> <span class="token string">"webkitFullscreenEnabled"</span><span class="token punctuation">,</span> <span class="token string">"webkitfullscreenchange"</span><span class="token punctuation">,</span> <span class="token string">"webkitfullscreenerror"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"webkitRequestFullScreen"</span><span class="token punctuation">,</span> <span class="token string">"webkitCancelFullScreen"</span><span class="token punctuation">,</span> <span class="token string">"webkitCurrentFullScreenElement"</span><span class="token punctuation">,</span> <span class="token string">"webkitCancelFullScreen"</span><span class="token punctuation">,</span> <span class="token string">"webkitfullscreenchange"</span><span class="token punctuation">,</span> <span class="token string">"webkitfullscreenerror"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"mozRequestFullScreen"</span><span class="token punctuation">,</span> <span class="token string">"mozCancelFullScreen"</span><span class="token punctuation">,</span> <span class="token string">"mozFullScreenElement"</span><span class="token punctuation">,</span> <span class="token string">"mozFullScreenEnabled"</span><span class="token punctuation">,</span> <span class="token string">"mozfullscreenchange"</span><span class="token punctuation">,</span> <span class="token string">"mozfullscreenerror"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"msRequestFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"msExitFullscreen"</span><span class="token punctuation">,</span> <span class="token string">"msFullscreenElement"</span><span class="token punctuation">,</span> <span class="token string">"msFullscreenEnabled"</span><span class="token punctuation">,</span> <span class="token string">"MSFullscreenChange"</span><span class="token punctuation">,</span> <span class="token string">"MSFullscreenError"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> o <span class="token operator">&lt;</span> e<span class="token punctuation">.</span>length<span class="token punctuation">;</span> o<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> i <span class="token operator">=</span> e<span class="token punctuation">[</span>o<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token keyword">in</span> t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> a <span class="token operator">&lt;</span> i<span class="token punctuation">.</span>length<span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span>                    n<span class="token punctuation">[</span>e<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> n            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">1</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token function-variable function">request</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e <span class="token operator">=</span> e <span class="token operator">||</span> t<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span>                e<span class="token punctuation">[</span>n<span class="token punctuation">.</span>requestFullscreen<span class="token punctuation">]</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token constant">ALLOW_KEYBOARD_INPUT</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">exit</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t<span class="token punctuation">[</span>n<span class="token punctuation">.</span>exitFullscreen<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e <span class="token operator">=</span> e <span class="token operator">||</span> t<span class="token punctuation">.</span>documentElement<span class="token punctuation">,</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">isFullscreen</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>n<span class="token punctuation">.</span>fullscreenElement<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token function-variable function">enabled</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>n<span class="token punctuation">.</span>fullscreenEnabled<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">btnTpl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">fullScreen</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="&#123;&#123;FULL_SCREEN&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>&lt;/svg>&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/>&lt;/svg>&lt;/button>'</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">fullScreen</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>fullscreenchange<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">isFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            n <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">===</span> n<span class="token punctuation">.</span>current<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>isAnimating <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>isAnimating <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>isComplete <span class="token operator">||</span> n<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onFullscreenChange"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-fullscreen"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-fullscreen]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--fsenter"</span><span class="token punctuation">,</span> <span class="token operator">!</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-button--fsexit"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token string-property property">"onInit.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> i<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token keyword">void</span> e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-fullscreen]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>group<span class="token punctuation">[</span>e<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>fullScreen <span class="token operator">?</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">,</span>            i<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click.fb-fullscreen"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-fullscreen]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>fullScreen <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> e<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>fullScreen<span class="token punctuation">.</span>autoStart <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>FullScreen <span class="token operator">=</span> o<span class="token punctuation">)</span> <span class="token operator">:</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-fullscreen]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"afterKeydown.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>FullScreen <span class="token operator">&amp;&amp;</span> <span class="token number">70</span> <span class="token operator">===</span> i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>FullScreen<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"beforeClose.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>FullScreen <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-is-fullscreen"</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token string">"fancybox-thumbs"</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">btnTpl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">thumbs</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="&#123;&#123;THUMBS&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/>&lt;/svg>&lt;/button>'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">thumbs</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">autoStart</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token literal-property property">hideOnClose</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token literal-property property">parentEl</span><span class="token operator">:</span> <span class="token string">".fancybox-container"</span><span class="token punctuation">,</span>            <span class="token literal-property property">axis</span><span class="token operator">:</span> <span class="token string">"y"</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">$button</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token literal-property property">$grid</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token literal-property property">$list</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>        <span class="token literal-property property">isVisible</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        <span class="token literal-property property">isActive</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>        <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span>              <span class="token punctuation">,</span> n <span class="token operator">=</span> t<span class="token punctuation">.</span>group              <span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            e<span class="token punctuation">.</span>instance <span class="token operator">=</span> t<span class="token punctuation">,</span>            e<span class="token punctuation">.</span>opts <span class="token operator">=</span> n<span class="token punctuation">[</span>t<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>thumbs<span class="token punctuation">,</span>            t<span class="token punctuation">.</span>Thumbs <span class="token operator">=</span> e<span class="token punctuation">,</span>            e<span class="token punctuation">.</span>$button <span class="token operator">=</span> t<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>toolbar<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox-thumbs]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> a <span class="token operator">=</span> n<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>thumb <span class="token operator">&amp;&amp;</span> o<span class="token operator">++</span><span class="token punctuation">,</span>            <span class="token operator">!</span><span class="token punctuation">(</span>o <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">;</span>            o <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>opts <span class="token operator">?</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>$button<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> e<span class="token punctuation">.</span>$button<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">,</span> a <span class="token operator">=</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>parentEl<span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            o<span class="token punctuation">.</span>$grid <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>$grid <span class="token operator">=</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="'</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>axis <span class="token operator">+</span> <span class="token string">'">&lt;/div>'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span>$grid<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                i<span class="token punctuation">.</span><span class="token function">jumpTo</span><span class="token punctuation">(</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">"data-index"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span>$list <span class="token operator">||</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>$list <span class="token operator">=</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token string">'&lt;div class="'</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">'__list">'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$grid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>group<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                t <span class="token operator">=</span> n<span class="token punctuation">.</span>thumb<span class="token punctuation">,</span>                t <span class="token operator">||</span> <span class="token string">"image"</span> <span class="token operator">!==</span> n<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> n<span class="token punctuation">.</span>src<span class="token punctuation">)</span><span class="token punctuation">,</span>                s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'&lt;a href="javascript:;" tabindex="0" data-index="'</span> <span class="token operator">+</span> e <span class="token operator">+</span> <span class="token string">'"'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token string">' style="background-image:url('</span> <span class="token operator">+</span> t <span class="token operator">+</span> <span class="token string">')"'</span> <span class="token operator">:</span> <span class="token string">'class="fancybox-thumbs-missing"'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">">&lt;/a>"</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            o<span class="token punctuation">.</span>$list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token string">"x"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>axis <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>$list<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>$grid<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">"padding-right"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">*</span> o<span class="token punctuation">.</span>$list<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">focus</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token operator">=</span> o<span class="token punctuation">.</span>$list<span class="token punctuation">,</span> a <span class="token operator">=</span> o<span class="token punctuation">.</span>$grid<span class="token punctuation">;</span>            o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-thumbs-active"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'[data-index="'</span> <span class="token operator">+</span> o<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>current<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token string">'"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-thumbs-active"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            n <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token string">"y"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>axis <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> n<span class="token punctuation">.</span>top <span class="token operator">></span> i<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> e<span class="token punctuation">.</span><span class="token function">outerHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> i<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">scrollTop</span><span class="token operator">:</span> i<span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> n<span class="token punctuation">.</span>top            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">"x"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>axis <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>left <span class="token operator">&lt;</span> a<span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> n<span class="token punctuation">.</span>left <span class="token operator">></span> a<span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> e<span class="token punctuation">.</span><span class="token function">outerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>                <span class="token literal-property property">scrollLeft</span><span class="token operator">:</span> n<span class="token punctuation">.</span>left            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>            t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-show-thumbs"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isVisible<span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>isVisible <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>$grid <span class="token operator">||</span> t<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onThumbsShow"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>$grid <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"onThumbsHide"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            t<span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">hide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">show</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>isVisible <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isVisible<span class="token punctuation">,</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token string-property property">"onInit.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> n<span class="token punctuation">;</span>            e <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>Thumbs <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">o</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span>            n<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> n<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>autoStart <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"beforeShow.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> i <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>Thumbs<span class="token punctuation">;</span>            i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>isVisible <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span>o <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"afterKeydown.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> a <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>Thumbs<span class="token punctuation">;</span>            a <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token number">71</span> <span class="token operator">===</span> i <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            a<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token string-property property">"beforeClose.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> n <span class="token operator">=</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>Thumbs<span class="token punctuation">;</span>            n <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>isVisible <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> n<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>hideOnClose <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>$grid<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string-property property">"&amp;"</span><span class="token operator">:</span> <span class="token string">"&amp;amp;"</span><span class="token punctuation">,</span>            <span class="token string-property property">"&lt;"</span><span class="token operator">:</span> <span class="token string">"&amp;lt;"</span><span class="token punctuation">,</span>            <span class="token string-property property">">"</span><span class="token operator">:</span> <span class="token string">"&amp;gt;"</span><span class="token punctuation">,</span>            <span class="token string-property property">'"'</span><span class="token operator">:</span> <span class="token string">"&amp;quot;"</span><span class="token punctuation">,</span>            <span class="token string-property property">"'"</span><span class="token operator">:</span> <span class="token string">"&amp;#39;"</span><span class="token punctuation">,</span>            <span class="token string-property property">"/"</span><span class="token operator">:</span> <span class="token string">"&amp;#x2F;"</span><span class="token punctuation">,</span>            <span class="token string-property property">"`"</span><span class="token operator">:</span> <span class="token string">"&amp;#x60;"</span><span class="token punctuation">,</span>            <span class="token string-property property">"="</span><span class="token operator">:</span> <span class="token string">"&amp;#x3D;"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[&amp;&lt;>"'`=\/]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> e<span class="token punctuation">[</span>t<span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    e<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token literal-property property">btnTpl</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">share</span><span class="token operator">:</span> <span class="token string">'&lt;button data-fancybox-share class="fancybox-button fancybox-button--share" title="&#123;&#123;SHARE&#125;&#125;">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">&lt;path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/>&lt;/svg>&lt;/button>'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">share</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>            <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>currentHash <span class="token operator">&amp;&amp;</span> <span class="token string">"inline"</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token string">"html"</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>type <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>origSrc <span class="token operator">||</span> e<span class="token punctuation">.</span>src<span class="token punctuation">)</span> <span class="token operator">||</span> window<span class="token punctuation">.</span>location            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token literal-property property">tpl</span><span class="token operator">:</span> <span class="token string">'&lt;div class="fancybox-share">&lt;h1>&#123;&#123;SHARE&#125;&#125;&lt;/h1>&lt;p>&lt;a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u=&#123;&#123;url&#125;&#125;">&lt;svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">&lt;path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" />&lt;/svg>&lt;span>Facebook&lt;/span>&lt;/a>&lt;a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url=&#123;&#123;url&#125;&#125;&amp;text=&#123;&#123;descr&#125;&#125;">&lt;svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">&lt;path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" />&lt;/svg>&lt;span>Twitter&lt;/span>&lt;/a>&lt;a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url=&#123;&#123;url&#125;&#125;&amp;description=&#123;&#123;descr&#125;&#125;&amp;media=&#123;&#123;media&#125;&#125;">&lt;svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">&lt;path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/>&lt;/svg>&lt;span>Pinterest&lt;/span>&lt;/a>&lt;/p>&lt;p>&lt;input class="fancybox-share__input" type="text" value="&#123;&#123;url_raw&#125;&#125;" onclick="select()" />&lt;/p>&lt;/div>'</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token string">"[data-fancybox-share]"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> t<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a <span class="token operator">=</span> i<span class="token punctuation">.</span>current <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"function"</span> <span class="token operator">===</span> e<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>share<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>share<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o <span class="token operator">=</span> a<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>share<span class="token punctuation">.</span>tpl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;media\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"image"</span> <span class="token operator">===</span> a<span class="token punctuation">.</span>type <span class="token operator">?</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>src<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;url\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;url_raw\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\&#123;\&#123;descr\&#125;\&#125;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>$caption <span class="token operator">?</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>$caption<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        e<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token literal-property property">src</span><span class="token operator">:</span> i<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"html"</span><span class="token punctuation">,</span>            <span class="token literal-property property">opts</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">touch</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token literal-property property">animationEffect</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">,</span>                <span class="token function-variable function">afterLoad</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    i<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>container<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">"beforeClose.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        t<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    e<span class="token punctuation">.</span>$content<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".fancybox-share__button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>href<span class="token punctuation">,</span> <span class="token string">"Share"</span><span class="token punctuation">,</span> <span class="token string">"width=550, height=450"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token operator">!</span><span class="token number">1</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token literal-property property">mobile</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>                    <span class="token literal-property property">autoFocus</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token number">1</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e <span class="token operator">=</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span>          <span class="token punctuation">,</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\+?\d+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>n<span class="token punctuation">[</span>n<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span>          <span class="token punctuation">,</span> i <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>            <span class="token literal-property property">hash</span><span class="token operator">:</span> e<span class="token punctuation">,</span>            <span class="token literal-property property">index</span><span class="token operator">:</span> o <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> o<span class="token punctuation">,</span>            <span class="token literal-property property">gallery</span><span class="token operator">:</span> i        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">function</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token string">""</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>gallery <span class="token operator">&amp;&amp;</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token string">"[data-fancybox='"</span> <span class="token operator">+</span> n<span class="token punctuation">.</span><span class="token function">escapeSelector</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>gallery<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"']"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">"click.fb-start"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> e<span class="token punctuation">,</span> n<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>t <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e <span class="token operator">=</span> t<span class="token punctuation">.</span>current <span class="token operator">?</span> t<span class="token punctuation">.</span>current<span class="token punctuation">.</span>opts <span class="token operator">:</span> t<span class="token punctuation">.</span>opts<span class="token punctuation">,</span>        <span class="token string">""</span> <span class="token operator">!==</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> e<span class="token punctuation">.</span>hash <span class="token operator">||</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>$orig <span class="token operator">?</span> e<span class="token punctuation">.</span>$orig<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"fancybox"</span><span class="token punctuation">)</span> <span class="token operator">||</span> e<span class="token punctuation">.</span>$orig<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"fancybox-trigger"</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    n<span class="token punctuation">.</span>escapeSelector <span class="token operator">||</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function-variable function">escapeSelector</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>t <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> e <span class="token operator">?</span> <span class="token string">"\0"</span> <span class="token operator">===</span> t <span class="token operator">?</span> <span class="token string">"ï¿½"</span> <span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">:</span> <span class="token string">"\\"</span> <span class="token operator">+</span> t        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">n</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>hash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>            <span class="token string-property property">"onInit.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> n<span class="token punctuation">,</span> i<span class="token punctuation">;</span>                <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> e<span class="token punctuation">.</span>group<span class="token punctuation">[</span>e<span class="token punctuation">.</span>currIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>opts<span class="token punctuation">.</span>hash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">.</span>gallery <span class="token operator">&amp;&amp;</span> i <span class="token operator">==</span> n<span class="token punctuation">.</span>gallery <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>currIndex <span class="token operator">=</span> n<span class="token punctuation">.</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token string-property property">"beforeShow.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> s</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> r<span class="token punctuation">;</span>                i <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>hash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>currentHash <span class="token operator">=</span> r <span class="token operator">+</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">"-"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">!==</span> <span class="token string">"#"</span> <span class="token operator">+</span> o<span class="token punctuation">.</span>currentHash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>s <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>o<span class="token punctuation">.</span>origHash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>origHash <span class="token operator">=</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>hashTimer <span class="token operator">&amp;&amp;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hashTimer<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>hashTimer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token string">"replaceState"</span><span class="token keyword">in</span> t<span class="token punctuation">.</span>history <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>history<span class="token punctuation">[</span>s <span class="token operator">?</span> <span class="token string">"pushState"</span> <span class="token operator">:</span> <span class="token string">"replaceState"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>title<span class="token punctuation">,</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">+</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search <span class="token operator">+</span> <span class="token string">"#"</span> <span class="token operator">+</span> o<span class="token punctuation">.</span>currentHash<span class="token punctuation">)</span><span class="token punctuation">,</span>                    s <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>hasCreatedHistory <span class="token operator">=</span> <span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> o<span class="token punctuation">.</span>currentHash<span class="token punctuation">,</span>                    o<span class="token punctuation">.</span>hashTimer <span class="token operator">=</span> <span class="token keyword">null</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            <span class="token string-property property">"beforeClose.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                i <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">!==</span> i<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>hash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>hashTimer<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>currentHash <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>hasCreatedHistory <span class="token operator">?</span> t<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> o<span class="token punctuation">.</span>currentHash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">"replaceState"</span><span class="token keyword">in</span> t<span class="token punctuation">.</span>history <span class="token operator">?</span> t<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>title<span class="token punctuation">,</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname <span class="token operator">+</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search <span class="token operator">+</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span>origHash <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> t<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> o<span class="token punctuation">.</span>origHash<span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>currentHash <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">n</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"hashchange.fb"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token punctuation">,</span> e <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            n<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token string">".fancybox-container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"FancyBox"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">.</span>currentHash<span class="token punctuation">)</span>                    <span class="token keyword">return</span> e <span class="token operator">=</span> i<span class="token punctuation">,</span>                    <span class="token operator">!</span><span class="token number">1</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            e <span class="token operator">?</span> e<span class="token punctuation">.</span>currentHash <span class="token operator">===</span> t<span class="token punctuation">.</span>gallery <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span>index <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">===</span> t<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>currentHash <span class="token operator">==</span> t<span class="token punctuation">.</span>gallery <span class="token operator">||</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentHash <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>            e<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span> <span class="token operator">!==</span> t<span class="token punctuation">.</span>gallery <span class="token operator">&amp;&amp;</span> <span class="token function">i</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            n<span class="token punctuation">.</span>fancybox<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">"use strict"</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">e</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token string-property property">"onInit.fb"</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> e<span class="token punctuation">,</span> o</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>stage<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"mousewheel DOMMouseScroll wheel MozMousePixelScroll"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">var</span> o <span class="token operator">=</span> e<span class="token punctuation">.</span>current                  <span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                e<span class="token punctuation">.</span>group<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token number">1</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>wheel <span class="token operator">||</span> <span class="token string">"auto"</span> <span class="token operator">===</span> o<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>wheel <span class="token operator">&amp;&amp;</span> <span class="token string">"image"</span> <span class="token operator">!==</span> o<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                t<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                o<span class="token punctuation">.</span>$slide<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">"fancybox-animated"</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> t<span class="token punctuation">.</span>originalEvent <span class="token operator">||</span> t<span class="token punctuation">,</span>                i <span class="token operator">-</span> n <span class="token operator">&lt;</span> <span class="token number">250</span> <span class="token operator">||</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> i<span class="token punctuation">,</span>                e<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">-</span>t<span class="token punctuation">.</span>deltaY <span class="token operator">||</span> <span class="token operator">-</span>t<span class="token punctuation">.</span>deltaX <span class="token operator">||</span> t<span class="token punctuation">.</span>wheelDelta <span class="token operator">||</span> <span class="token operator">-</span>t<span class="token punctuation">.</span>detail<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"next"</span> <span class="token operator">:</span> <span class="token string">"previous"</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> jQuery<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>jquery.fancybox.min.css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body.compensate-for-scrollbar</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-active</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-hidden</span> <span class="token punctuation">&#123;</span>    <span class="token property">left</span><span class="token punctuation">:</span> -9999px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> -9999px<span class="token punctuation">;</span>    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-container</span> <span class="token punctuation">&#123;</span>    <span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">-ms-touch-action</span><span class="token punctuation">:</span> manipulation<span class="token punctuation">;</span>    <span class="token property">touch-action</span><span class="token punctuation">:</span> manipulation<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99992<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-container *</span> <span class="token punctuation">&#123;</span>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage</span> <span class="token punctuation">&#123;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-outer</span> <span class="token punctuation">&#123;</span>    <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-bg</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #1e1e1e<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transition-duration</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>    <span class="token property">transition-property</span><span class="token punctuation">:</span> opacity<span class="token punctuation">;</span>    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.47<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.74<span class="token punctuation">,</span>.71<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-open .fancybox-bg</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .9<span class="token punctuation">;</span>    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.22<span class="token punctuation">,</span>.61<span class="token punctuation">,</span>.36<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar</span> <span class="token punctuation">&#123;</span>    <span class="token property">direction</span><span class="token punctuation">:</span> ltr<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> opacity .25s ease<span class="token punctuation">,</span>visibility 0s ease .25s<span class="token punctuation">;</span>    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99997<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> opacity .25s ease 0s<span class="token punctuation">,</span>visibility 0s ease 0s<span class="token punctuation">;</span>    <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-infobar</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 13px<span class="token punctuation">;</span>    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> subpixel-antialiased<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">min-width</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">mix-blend-mode</span><span class="token punctuation">:</span> difference<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">-webkit-touch-callout</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-toolbar</span> <span class="token punctuation">&#123;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-stage</span> <span class="token punctuation">&#123;</span>    <span class="token property">direction</span><span class="token punctuation">:</span> ltr<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99994<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-open .fancybox-stage</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide</span> <span class="token punctuation">&#123;</span>    <span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transition-property</span><span class="token punctuation">:</span> transform<span class="token punctuation">,</span>opacity<span class="token punctuation">;</span>    <span class="token property">white-space</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99994<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--image</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 44px 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--image:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--html</span> <span class="token punctuation">&#123;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 6px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--image .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.5<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.14<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>    <span class="token property">background-size</span><span class="token punctuation">:</span> 100% 100%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform-origin</span><span class="token punctuation">:</span> top left<span class="token punctuation">;</span>    <span class="token property">transition-property</span><span class="token punctuation">:</span> transform<span class="token punctuation">,</span>opacity<span class="token punctuation">;</span>    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99995<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-can-zoomOut .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> zoom-out<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-can-zoomIn .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> zoom-in<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> grab<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-grabbing .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> grabbing<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-container [data-selectable=true]</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> text<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-image,.fancybox-spaceball</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">max-height</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-spaceball</span> <span class="token punctuation">&#123;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--video .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--map .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #e5e3df<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--iframe .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-iframe,.fancybox-video</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-iframe</span> <span class="token punctuation">&#123;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-error</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-error p</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #444<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>30<span class="token punctuation">,</span>30<span class="token punctuation">,</span>30<span class="token punctuation">,</span>.6<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> color .2s<span class="token punctuation">;</span>    <span class="token property">vertical-align</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span>    <span class="token property">visibility</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 44px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button,.fancybox-button:link,.fancybox-button:visited</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button:focus</span> <span class="token punctuation">&#123;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button.fancybox-focus</span> <span class="token punctuation">&#123;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> 1px dotted<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button[disabled],.fancybox-button[disabled]:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #888<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button div</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button svg</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button svg path</span> <span class="token punctuation">&#123;</span>    <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>    <span class="token property">stroke-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2)</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-progress</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #ff5268<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transition-property</span><span class="token punctuation">:</span> transform<span class="token punctuation">;</span>    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> linear<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99998<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-close-small</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .8<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> -12px<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> -44px<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 401<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-close-small:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--html .fancybox-close-small</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-slide--image.fancybox-is-scaling .fancybox-content</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-navigation .fancybox-button</span> <span class="token punctuation">&#123;</span>    <span class="token property">background-clip</span><span class="token punctuation">:</span> content-box<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - 50px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 70px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-navigation .fancybox-button div</span> <span class="token punctuation">&#123;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 7px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-navigation .fancybox-button--arrow_left</span> <span class="token punctuation">&#123;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 31px 26px 31px 6px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-navigation .fancybox-button--arrow_right</span> <span class="token punctuation">&#123;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 31px 6px 31px 26px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-right<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>0deg<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.85<span class="token punctuation">)</span> 0<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.3<span class="token punctuation">)</span> 50%<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.15<span class="token punctuation">)</span> 65%<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.075<span class="token punctuation">)</span> 75.5%<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.037<span class="token punctuation">)</span> 82.85%<span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.019<span class="token punctuation">)</span> 88%<span class="token punctuation">,</span>transparent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 75px 44px 25px<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99996<span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.fancybox-caption</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span>75px <span class="token function">max</span><span class="token punctuation">(</span>44px<span class="token punctuation">,</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">max</span><span class="token punctuation">(</span>25px<span class="token punctuation">,</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-bottom<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">max</span><span class="token punctuation">(</span>44px<span class="token punctuation">,</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-left<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption--separate</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> -50px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption__body</span> <span class="token punctuation">&#123;</span>    <span class="token property">max-height</span><span class="token punctuation">:</span> 50vh<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">pointer-events</span><span class="token punctuation">:</span> all<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-caption a:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-loading</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> a 1s linear infinite<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 4px solid #888<span class="token punctuation">;</span>    <span class="token property">border-bottom-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> -25px 0 0 -25px<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .7<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99999<span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> a</span> <span class="token punctuation">&#123;</span>    <span class="token selector">to</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>1turn<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-animated</span> <span class="token punctuation">&#123;</span>    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.25<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-slide.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-slide.fancybox-slide--next</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-slide.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.19<span class="token punctuation">,</span>1<span class="token punctuation">,</span>.22<span class="token punctuation">,</span>1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-fade.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-zoom-in-out.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale3d</span><span class="token punctuation">(</span>1.5<span class="token punctuation">,</span>1.5<span class="token punctuation">,</span>1.5<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-zoom-in-out.fancybox-slide--next</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale3d</span><span class="token punctuation">(</span>.5<span class="token punctuation">,</span>.5<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-zoom-in-out.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-rotate.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-1turn<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-rotate.fancybox-slide--next</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>1turn<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-rotate.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-circular.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-circular.fancybox-slide--next</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-circular.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-tube.fancybox-slide--previous</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>.1<span class="token punctuation">)</span> <span class="token function">skew</span><span class="token punctuation">(</span>-10deg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-tube.fancybox-slide--next</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>100%<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>.1<span class="token punctuation">)</span> <span class="token function">skew</span><span class="token punctuation">(</span>10deg<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-fx-tube.fancybox-slide--current</span> <span class="token punctuation">&#123;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-height</span><span class="token punctuation">:</span> 576px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.fancybox-slide</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding-left</span><span class="token punctuation">:</span>6px<span class="token punctuation">;</span>        <span class="token property">padding-right</span><span class="token punctuation">:</span> 6px    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-slide--image</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 6px 0    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-close-small</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> -6px    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-slide--image .fancybox-close-small</span> <span class="token punctuation">&#123;</span>        <span class="token property">background</span><span class="token punctuation">:</span> #4e4e4e<span class="token punctuation">;</span>        <span class="token property">color</span><span class="token punctuation">:</span> #f2f4f6<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>        <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>        <span class="token property">padding</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 36px    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-caption</span> <span class="token punctuation">&#123;</span>        <span class="token property">padding-left</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>        <span class="token property">padding-right</span><span class="token punctuation">:</span> 12px    <span class="token punctuation">&#125;</span>    <span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>        <span class="token selector">.fancybox-caption</span> <span class="token punctuation">&#123;</span>            <span class="token property">padding-left</span><span class="token punctuation">:</span><span class="token function">max</span><span class="token punctuation">(</span>12px<span class="token punctuation">,</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token property">padding-right</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>12px<span class="token punctuation">,</span><span class="token function">env</span><span class="token punctuation">(</span>safe-area-inset-right<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #f4f4f4<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share h1</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 0 20px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share p</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button</span> <span class="token punctuation">&#123;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>    <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 5px 10px<span class="token punctuation">;</span>    <span class="token property">min-width</span><span class="token punctuation">:</span> 130px<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0 15px<span class="token punctuation">;</span>    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> all .2s<span class="token punctuation">;</span>    <span class="token property">-webkit-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-moz-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">-ms-user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button:link,.fancybox-share__button:visited</span> <span class="token punctuation">&#123;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--fb</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #3b5998<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--fb:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #344e86<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--pt</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #bd081d<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--pt:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #aa0719<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--tw</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #1da1f2<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button--tw:hover</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #0d95e8<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button svg</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>    <span class="token property">margin-right</span><span class="token punctuation">:</span> 7px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> -1px<span class="token punctuation">;</span>    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 25px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__button svg path</span> <span class="token punctuation">&#123;</span>    <span class="token property">fill</span><span class="token punctuation">:</span> #fff<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-share__input</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #d7d7d7<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #5d5b5b<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 10px 0 0<span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px 15px<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">-webkit-overflow-scrolling</span><span class="token punctuation">:</span> touch<span class="token punctuation">;</span>    <span class="token property">-ms-overflow-style</span><span class="token punctuation">:</span> -ms-autohiding-scrollbar<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 2px 2px 4px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 212px<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99995<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs-x</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow-x</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">overflow-y</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-show-thumbs .fancybox-thumbs</span> <span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-show-thumbs .fancybox-inner</span> <span class="token punctuation">&#123;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 212px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs__list</span> <span class="token punctuation">&#123;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">overflow-x</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs-x .fancybox-thumbs__list</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 7px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 0 6px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.3<span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> #2a2a2a<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs__list a</span> <span class="token punctuation">&#123;</span>    <span class="token property">-webkit-backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">backface-visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">background-position</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 75px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>    <span class="token property">max-height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 8px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">max-width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>50% - 4px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">-webkit-tap-highlight-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs__list a:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 6px solid #ff5268<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transition</span><span class="token punctuation">:</span> all .2s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.25<span class="token punctuation">,</span>.46<span class="token punctuation">,</span>.45<span class="token punctuation">,</span>.94<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 99991<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs__list a:focus:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> .5<span class="token punctuation">&#125;</span><span class="token selector">.fancybox-thumbs__list a.fancybox-thumbs-active:before</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 576px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.fancybox-thumbs</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span>110px    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-show-thumbs .fancybox-inner</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 110px    <span class="token punctuation">&#125;</span>    <span class="token selector">.fancybox-thumbs__list a</span> <span class="token punctuation">&#123;</span>        <span class="token property">max-width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 10px<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="Todos"><a href="#Todos" class="headerlink" title="Todos"></a>Todos</h2><p><a href="https://liyangzone.com/article/2019-07-22-hexo-blog-add-gallery-tutorial/">hexoåšå®¢æ·»åŠ ä¸€çº§åˆ†ç±»ç›¸å†ŒåŠŸèƒ½ | liyangâ€™s blog (liyangzone.com)</a></p><p><a href="https://yafine.github.io/posts/20200221224129-3b98">ä¿®æ”¹materyåŸæœ‰ä¸»é¢˜ç›¸å†Œ | è¿‡å®¢~åŠ±ã‚€ (yafine.github.io)</a></p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>é€šè¿‡æ–°å»ºç›¸å†Œï¼Œå¯ä»¥è®©è‡ªå·±çš„åšæ–‡æ›´åŠ å…·æœ‰çœŸå®æ€§ï¼Œæ˜¯ååˆ†å€¼å¾—æ‹¥æœ‰çš„ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æ‚¨ã€‚<br>æœ€åï¼Œå¦‚æœè¿™ç¯‡æ•™ç¨‹èƒ½å¸®åˆ°æ‚¨ï¼Œè¯·ç‚¹å‡»æœ€åçš„ <strong>â€œèµâ€</strong> å­—ï¼Œä¸ç®¡å¤šå°‘éƒ½æ˜¯å¯¹æˆ‘çš„æ”¯æŒï¼Œè°¢è°¢ï¼</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç›¸å†Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰404é¡µé¢</title>
      <link href="/posts/e7a5.html"/>
      <url>/posts/e7a5.html</url>
      
        <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰404"><a href="#è‡ªå®šä¹‰404" class="headerlink" title="è‡ªå®šä¹‰404"></a>è‡ªå®šä¹‰404</h1><p>ä¸€ä¸ªå¥½çš„404é¡µé¢èƒ½å¤Ÿå‹å¥½åœ°å‘ç”¨æˆ·è§£é‡Šé¡µé¢æœªæ‰¾åˆ°çš„åŸå› ï¼Œå¸®åŠ©ç”¨æˆ·ç»§ç»­æµè§ˆç½‘ç«™ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚å½“ç”¨æˆ·è®¿é—®åˆ°404é¡µé¢æ—¶ï¼Œå¦‚æœé¡µé¢è®¾è®¡å¾—å¸å¼•äººã€æœ‰è¶£æˆ–å¯Œæœ‰åˆ›æ„ï¼Œç”¨æˆ·å¯èƒ½ä¼šåœç•™æ›´é•¿æ—¶é—´ï¼Œä»è€Œå‡å°‘ç”¨æˆ·çš„æµå¤±ã€‚</p><p>è™½ç„¶materyä¸»é¢˜è‡ªå¸¦æœ‰404é¡µé¢ï¼Œä½†æ˜¯ä¸å¤Ÿå¥½çœ‹ï¼Œå¯ç©æ€§ä¹Ÿä¸è¶³ã€‚æ‰€ä»¥æˆ‘å†³å®šä¿®æ”¹404é¡µé¢ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©è‡ªå·±DIYæˆ–è€…å€Ÿé‰´ç½‘ç»œä¸Šå¤§ä½¬çš„ä½œå“ã€‚ç»è¿‡æˆ‘çš„ç²¾æŒ‘ç»†é€‰ï¼Œæˆ‘é€‰ç”¨çš„æ˜¯Andrew Lawendyå¤§ä½¬çš„<a href="https://codepen.io/andrew-lawendy/pen/deOpMZ">ä½œå“</a></p><h2 id="æ¼”ç¤ºæ•ˆæœ"><a href="#æ¼”ç¤ºæ•ˆæœ" class="headerlink" title="æ¼”ç¤ºæ•ˆæœ"></a>æ¼”ç¤ºæ•ˆæœ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/404.gif" alt="404"></p><h2 id="ä¿®æ”¹æ­¥éª¤"><a href="#ä¿®æ”¹æ­¥éª¤" class="headerlink" title="ä¿®æ”¹æ­¥éª¤"></a>ä¿®æ”¹æ­¥éª¤</h2><ol><li><p>å°†åŸæ¥sourceç›®å½•ä¸‹çš„404.mdæ–‡ä»¶åˆ é™¤ï¼Œæ–°å»º404.html</p><p>åŸ404.mdä»£ç ï¼š</p><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token front-matter-block"><span class="token punctuation">---</span><span class="token front-matter yaml language-yaml">title: 404date: 2019-07-19 16:41:10type: "404"layout: "404"description: "ä½ ä¼¼ä¹æ¥åˆ°äº†æ²¡æœ‰çŸ¥è¯†çš„è’åŸ~~~"</span><span class="token punctuation">---</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç²˜è´´ä»¥ä¸‹ä»£ç </p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/html; charset=UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Parallax 404 page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>css/404.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/404.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>not-found<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>not-found parallax<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sky-bg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index.html<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-island<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://res.cloudinary.com/andrewhani/image/upload/v1524501929/404/island.svg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Island<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-lost wrp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-boat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>boat<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://res.cloudinary.com/andrewhani/image/upload/v1524501894/404/boat.svg<span class="token punctuation">"</span></span>                <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Boat<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wave-message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>You seem lost<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Click on the island to return<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼š<code>&lt;a href=&quot;index.html&quot; class=&quot;wave-island&quot;&gt;</code>ï¼Œè¯·å°†<code>href</code>è®¾ç½®ä¸ºæƒ³è¦è·³è½¬çš„é¡µé¢</p></blockquote></li><li><p><strong>å°†CSSä»£ç æ·»åŠ åˆ°ä¸»é¢˜ä¸­ï¼š</strong></p><p>åœ¨matery&#x2F;source&#x2F;cssä¸‹ï¼Œæ–°å»º404.cssï¼Œç²˜è´´ä»¥ä¸‹ä»£ç (æ³¨æ„ä¿®æ”¹å›¾ç‰‡çš„è·¯å¾„)</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"Open Sans"</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> -1vh -20vw<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 110vh<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found [class*=wave]</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-1</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-1.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-2</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-2.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-3</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-3.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-4</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-4.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-5</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-5.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-6</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-6.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-7</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/wave-7.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.sky-bg</span> <span class="token punctuation">&#123;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../404/bg.svg<span class="token punctuation">)</span></span><span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div[class*=wave]</span> <span class="token punctuation">&#123;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.99<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div[class*=wave]:not(.wave-4)</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 350px<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found div.wave-4</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 530px<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .boat</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 15%<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> boat 15s <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0.65<span class="token punctuation">,</span> 0.05<span class="token punctuation">,</span> 0.36<span class="token punctuation">,</span> 1<span class="token punctuation">)</span> infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-lost</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 20%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 20rem<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> surf 2s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.not-found .wave-lost</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 13rem<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 16%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.not-found .wave-lost</span> <span class="token punctuation">&#123;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 20rem<span class="token punctuation">;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 22%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-lost span</span> <span class="token punctuation">&#123;</span>    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> float 3s ease-in infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-lost span:nth-child(2)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 2.5s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-lost span:nth-child(3)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 4.5s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-island</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 20%<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 170px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.not-found .wave-message</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">padding-right</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> auto <span class="token important">!important</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>    <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> wave-message 1s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 768px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.not-found .wave-message</span> <span class="token punctuation">&#123;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 16%<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 1.8rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.not-found .wave-message</span> <span class="token punctuation">&#123;</span>        <span class="token property">left</span><span class="token punctuation">:</span> 22%<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> boat</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-15deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>400px<span class="token punctuation">,</span> 0px<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">20%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-20vw<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">25%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-7deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-25vw<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>5deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-50vw<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">60%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-1deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-60vw<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>2deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-100vw<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> float</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%,    100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>3deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0px<span class="token punctuation">,</span> -10px<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-3deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0px<span class="token punctuation">,</span> 10px<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> surf</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 800px<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">30%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 500px<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform-origin</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0px<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> wave-message</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 120%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>å°†JSä»£ç æ·»åŠ åˆ°ä¸»é¢˜ä¸­ï¼š</strong></p><p>matery&#x2F;source&#x2F;jsä¸‹ï¼Œæ–°å»º404.jsï¼Œç²˜è´´ä»¥ä¸‹ä»£ç </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">parallax</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">&lt;</span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> parallax <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.parallax'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> halfFieldWidth <span class="token operator">=</span> parallax<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> halfFieldHeight <span class="token operator">=</span> parallax<span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> fieldPos <span class="token operator">=</span> parallax<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>  <span class="token keyword">var</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> fieldPos<span class="token punctuation">.</span>top<span class="token punctuation">;</span>  <span class="token keyword">var</span> newX <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> halfFieldWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> newY <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> halfFieldHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> waveElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.parallax [class*="wave"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  waveElements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"translate3d("</span> <span class="token operator">+</span> index <span class="token operator">*</span> newX <span class="token operator">+</span> <span class="token string">"px,"</span> <span class="token operator">+</span> index <span class="token operator">*</span> newY <span class="token operator">+</span> <span class="token string">"px,0px"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token function-variable function">stopParallax</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> waveElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.parallax [class*="wave"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    waveElements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"translate(0px, 0px)"</span><span class="token punctuation">;</span>      element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">"all 0.7s"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      waveElements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"not-found"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> parallax<span class="token punctuation">)</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"not-found"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mouseleave"</span><span class="token punctuation">,</span> stopParallax<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>é…ç½®ä¸»é¢˜ä»¥ä½¿ç”¨404é¡µé¢ï¼š</strong></p><ul><li><p>æ‰“å¼€Hexoåšå®¢æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ã€‚æŸ¥æ‰¾æ˜¯å¦æœ‰é…ç½®é¡¹ç”¨äºæŒ‡å®š404é¡µé¢ï¼Œä¾‹å¦‚<code>not_found</code>,å°†å…¶è®¾ç½®ä¸º <code>404.html</code> æˆ–ä½ çš„è‡ªå®šä¹‰404é¡µé¢æ–‡ä»¶åã€‚</p></li><li><p>è·³è¿‡404é¡µé¢æ¸²æŸ“ï¼Œåœ¨ä¸Šé¢æ‰“å¼€çš„<code>_config.yml</code>ä¸­ï¼Œæ‰¾åˆ° <code>skip_render</code> é…ç½®é¡¹ï¼ŒåŠ å…¥404.html</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">skip_render</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token string">"README.md"</span>  <span class="token punctuation">-</span> aboutme/<span class="token important">**</span>  <span class="token comment"># æ„æ€ä¸ºåœ¨å¯¹æ–‡ä»¶è¿›è¡Œæ¸²æŸ“æ—¶è·³è¿‡aboutmeæ–‡ä»¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span>  <span class="token punctuation">-</span> 404.html<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¯·å…ˆä½¿ç”¨<code>hexo cl &amp; hexo g &amp; hexo s</code>é‡æ–°ç”Ÿæˆé¡µé¢ï¼Œå†è¾“å…¥<code>http://localhost:4000/404</code>è¿›è¡Œæ•ˆæœé¢„è§ˆ</p></blockquote></li></ul></li><li><p><strong>é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²åšå®¢ï¼š</strong></p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²Hexoåšå®¢ï¼š</p><pre class="line-numbers language-none"><code class="language-none">hexo cl &amp; hexo g &amp; hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ·æ–°ä½ çš„åšå®¢ï¼Œç°åœ¨åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°è‡ªå®šä¹‰çš„404é¡µé¢äº†ã€‚</p></li></ol><h2 id="ç†è§£HTTPçŠ¶æ€ç "><a href="#ç†è§£HTTPçŠ¶æ€ç " class="headerlink" title="ç†è§£HTTPçŠ¶æ€ç "></a>ç†è§£HTTPçŠ¶æ€ç </h2><h3 id="ä¿¡æ¯å“åº”ï¼ˆ100â€“199ï¼‰"><a href="#ä¿¡æ¯å“åº”ï¼ˆ100â€“199ï¼‰" class="headerlink" title="ä¿¡æ¯å“åº”ï¼ˆ100â€“199ï¼‰"></a>ä¿¡æ¯å“åº”ï¼ˆ100â€“199ï¼‰</h3><ul><li><p><strong>100 Continueï¼ˆç»§ç»­ï¼‰</strong>ï¼šæœåŠ¡å™¨å·²æ”¶åˆ°è¯·æ±‚å¤´ï¼Œå®¢æˆ·ç«¯åº”ç»§ç»­å‘é€è¯·æ±‚ä½“ã€‚</p></li><li><p><strong>101 Switching Protocolsï¼ˆåˆ‡æ¢åè®®ï¼‰</strong>ï¼šè¯·æ±‚è€…è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ã€‚</p></li></ul><h3 id="æˆåŠŸå“åº”ï¼ˆ200â€“299ï¼‰"><a href="#æˆåŠŸå“åº”ï¼ˆ200â€“299ï¼‰" class="headerlink" title="æˆåŠŸå“åº”ï¼ˆ200â€“299ï¼‰"></a>æˆåŠŸå“åº”ï¼ˆ200â€“299ï¼‰</h3><ul><li><p><strong>200 OKï¼ˆæˆåŠŸï¼‰</strong>ï¼šè¯·æ±‚æˆåŠŸã€‚</p></li><li><p><strong>201 Createdï¼ˆå·²åˆ›å»ºï¼‰</strong>ï¼šè¯·æ±‚æˆåŠŸï¼Œå¹¶åˆ›å»ºäº†æ–°çš„èµ„æºã€‚</p></li><li><p><strong>204 No Contentï¼ˆæ— å†…å®¹ï¼‰</strong>ï¼šæœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†æ²¡æœ‰é¢å¤–çš„å†…å®¹è¦å‘é€ã€‚</p></li></ul><h3 id="é‡å®šå‘æ¶ˆæ¯ï¼ˆ300â€“399ï¼‰"><a href="#é‡å®šå‘æ¶ˆæ¯ï¼ˆ300â€“399ï¼‰" class="headerlink" title="é‡å®šå‘æ¶ˆæ¯ï¼ˆ300â€“399ï¼‰"></a>é‡å®šå‘æ¶ˆæ¯ï¼ˆ300â€“399ï¼‰</h3><ul><li><p><strong>301 Moved Permanentlyï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰</strong>ï¼šæ‰€è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨ã€‚</p></li><li><p><strong>302 Foundï¼ˆæˆ–307 Temporary Redirectï¼‰</strong>ï¼šæ‰€è¯·æ±‚çš„èµ„æºæš‚æ—¶å­˜æ”¾åœ¨ä¸åŒçš„URIä¸‹ã€‚</p></li><li><p><strong>304 Not Modifiedï¼ˆæœªä¿®æ”¹ï¼‰</strong>ï¼šè‡ªè¯·æ±‚æŒ‡å®šçš„ç‰ˆæœ¬ä»¥æ¥ï¼Œèµ„æºæœªè¢«ä¿®æ”¹ã€‚</p></li></ul><h3 id="å®¢æˆ·ç«¯é”™è¯¯å“åº”ï¼ˆ400â€“499ï¼‰"><a href="#å®¢æˆ·ç«¯é”™è¯¯å“åº”ï¼ˆ400â€“499ï¼‰" class="headerlink" title="å®¢æˆ·ç«¯é”™è¯¯å“åº”ï¼ˆ400â€“499ï¼‰"></a>å®¢æˆ·ç«¯é”™è¯¯å“åº”ï¼ˆ400â€“499ï¼‰</h3><ul><li><p><strong>400 Bad Requestï¼ˆé”™è¯¯è¯·æ±‚ï¼‰</strong>ï¼šæœåŠ¡å™¨æ— æ³•ç†è§£è¯·æ±‚ã€‚</p></li><li><p><strong>401 Unauthorizedï¼ˆæœªæˆæƒï¼‰</strong>ï¼šè¯·æ±‚è¦æ±‚ç”¨æˆ·èº«ä»½éªŒè¯ã€‚</p></li><li><p><strong>403 Forbiddenï¼ˆç¦æ­¢ï¼‰</strong>ï¼šæœåŠ¡å™¨ç†è§£è¯·æ±‚ï¼Œä½†æ‹’ç»æˆæƒã€‚</p></li><li><p><strong>404 Not Foundï¼ˆæœªæ‰¾åˆ°ï¼‰</strong>ï¼šæœåŠ¡å™¨æœªæ‰¾åˆ°è¯·æ±‚çš„èµ„æºã€‚</p></li><li><p><strong>405 Method Not Allowedï¼ˆæ–¹æ³•ç¦ç”¨ï¼‰</strong>ï¼šè¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•ä¸è¢«å…è®¸ã€‚</p></li><li><p><strong>408 Request Timeoutï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰</strong>ï¼šæœåŠ¡å™¨ç­‰å¾…è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ã€‚</p></li></ul><h3 id="æœåŠ¡å™¨é”™è¯¯å“åº”ï¼ˆ500â€“599ï¼‰"><a href="#æœåŠ¡å™¨é”™è¯¯å“åº”ï¼ˆ500â€“599ï¼‰" class="headerlink" title="æœåŠ¡å™¨é”™è¯¯å“åº”ï¼ˆ500â€“599ï¼‰"></a>æœåŠ¡å™¨é”™è¯¯å“åº”ï¼ˆ500â€“599ï¼‰</h3><ul><li><p><strong>500 Internal Server Errorï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰</strong>ï¼šé‡åˆ°æ„å¤–æ¡ä»¶ï¼ŒæœåŠ¡å™¨æ— æ³•å®Œæˆè¯·æ±‚ã€‚</p></li><li><p><strong>502 Bad Gatewayï¼ˆé”™è¯¯ç½‘å…³ï¼‰</strong>ï¼šæœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”ã€‚</p></li><li><p><strong>503 Service Unavailableï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰</strong>ï¼šæœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚ã€‚</p></li></ul><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.52txr.cn/2022/404html.html">å¥½çœ‹çš„404æ¨¡æ¿</a></p><h2 id="é¡µé¢å‡çº§"><a href="#é¡µé¢å‡çº§" class="headerlink" title="é¡µé¢å‡çº§"></a>é¡µé¢å‡çº§</h2><p>å¶ç„¶åœ¨è¿™ä¸ªç½‘ç«™ä¸Šçœ‹åˆ°äº†è¿™ä¸ªæ•ˆæœçš„404åŠ¨ç”»ï¼Œæ„Ÿè§‰å¯ä»¥æŠŠè¿™ä¸ª404é¡µé¢è®¾ç½®ä¸ºå¤œé—´æ¨¡å¼ï¼Œä¹‹å‰çš„è®¾ä¸ºæ—¥æ¸æ¨¡å¼</p><h3 id="å¤œé—´æ•ˆæœ-æš‚æœªå®ç°"><a href="#å¤œé—´æ•ˆæœ-æš‚æœªå®ç°" class="headerlink" title="å¤œé—´æ•ˆæœ(æš‚æœªå®ç°)"></a>å¤œé—´æ•ˆæœ(æš‚æœªå®ç°)</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/404_night.gif" alt="404_night"></p><p>ç½‘ç«™ï¼š<a href="https://www.footprintcalculator.org/not-found">Ecological Footprint Calculator</a></p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul><li>é€šè¿‡äº†è§£HTTPçŠ¶æ€ç å¹¶åˆ›å»ºè‡ªå®šä¹‰404é”™è¯¯é¡µé¢ï¼Œæ‚¨å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œç•™ä½è®¿å®¢ï¼Œå¹¶å‡è½»ç½‘ç«™æ­»é“¾å¯¹ç”¨æˆ·çš„å½±å“ã€‚å®šæœŸç›‘æµ‹ç½‘ç«™é”™è¯¯å¹¶æ ¹æ®éœ€è¦æ›´æ–°404é¡µé¢ã€‚</li><li>å¦‚æœæ˜¯æ–°å»º<code>404.html</code>æ–‡ä»¶çš„è¯ï¼Œæ˜¯å¯ä»¥è¿›è¡Œæœ¬åœ°é¢„è§ˆçš„ã€‚ä½†æ˜¯è¿™ä¸ªé¢„è§ˆä¸èƒ½ä½¿ç”¨ <code>http://localhost:4000/ä»»æ„å­—ç¬¦</code> æ¥æŸ¥çœ‹ï¼Œå¿…é¡»ä½¿ç”¨ <code>http://localhost:4000/404</code> æ¥è¿›è¡Œæœ¬åœ°é¢„è§ˆ</li><li>æ›´å¤šæ¨¡ç‰ˆæ•ˆæœï¼š<a href="https://frontendin.com/404-page-templates-on-codepen/?amp=1">404æ¨¡ç‰ˆå±•ç¤ºåŠæºç </a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 404 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenMP</title>
      <link href="/posts/8905.html"/>
      <url>/posts/8905.html</url>
      
        <content type="html"><![CDATA[<h1 id="OpenMP"><a href="#OpenMP" class="headerlink" title="OpenMP"></a>OpenMP</h1><h2 id="OpenMPä»‹ç»"><a href="#OpenMPä»‹ç»" class="headerlink" title="OpenMPä»‹ç»"></a>OpenMPä»‹ç»</h2><p>åœ¨C&#x2F;C++ä¸­ï¼ŒOpenMPå¯ä»¥é€šè¿‡ä½¿ç”¨é¢„å¤„ç†æŒ‡ä»¤æ¥è®©ç¨‹åºå¹¶è¡ŒåŒ–ã€‚OpenMPæŒ‡ä»¤ä½¿ç”¨çš„æ ¼å¼ä¸º:</p><pre class="line-numbers language-none"><code class="language-none">#pragma omp æŒ‡ä»¤ [å­å¥[å­å¥]â€¦]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„OpenMPç¨‹åºï¼Œå¯ä»¥è¿è¡Œåè§‚å¯Ÿç»“æœä¸æ™®é€šç¨‹åºæœ‰ä»€ä¹ˆä¸åŒã€‚</p><p>è¯·åœ¨é€‚å½“çš„ä½ç½®å¡«ä¸Š<code>#pragma omp parallel for</code> ä½¿ç¨‹åºå¹¶è¡Œæ‰§è¡Œã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> </span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 2i &#x3D; 0i &#x3D; 6i &#x3D; 1i &#x3D; 8i &#x3D; 5i &#x3D; 4i &#x3D; 7i &#x3D; 9i &#x3D; 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="fork-joinå¹¶è¡Œæ‰§è¡Œæ¨¡å¼çš„æ¦‚å¿µ"><a href="#fork-joinå¹¶è¡Œæ‰§è¡Œæ¨¡å¼çš„æ¦‚å¿µ" class="headerlink" title="fork&#x2F;joinå¹¶è¡Œæ‰§è¡Œæ¨¡å¼çš„æ¦‚å¿µ"></a>fork&#x2F;joinå¹¶è¡Œæ‰§è¡Œæ¨¡å¼çš„æ¦‚å¿µ</h2><p>OpenMPæ˜¯ä¸€å¥—ç”¨äºå…±äº«å†…å­˜å¹¶è¡Œç³»ç»Ÿçš„å¤šå¤„ç†å™¨ç¨‹åºè®¾è®¡çš„æŒ‡å¯¼æ€§çš„ç¼–è¯‘å¤„ç†æ–¹æ¡ˆï¼Œä»ä¹‹å‰çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥å‘ç°ç¨‹åºè¿˜æ˜¯åœ¨å¾ªç¯ç»“æŸä¹‹åæ‰è¿è¡Œreturn 0è¯­å¥ï¼Œå› æ­¤å¯ä»¥æ¨æ–­OpenMPå¹¶è¡Œæ‰§è¡Œçš„ç¨‹åºè¦å…¨éƒ¨ç»“æŸåæ‰ä¼šè¿è¡Œåé¢éå¹¶è¡Œéƒ¨åˆ†çš„ä»£ç ï¼Œè¿™å°±æ˜¯fork&#x2F;joinå¹¶è¡Œæ¨¡å¼ã€‚ä»¥ä¸Šç»“è®ºå¯ä»¥ä»ç¤ºä¾‹ä»£ç ä¸­ä½“ç°ã€‚</p><p>è¯·åœ¨é€‚å½“çš„ä½ç½®å¡«ä¸Š<code>#pragma omp parallel for </code>ä½¿ç¨‹åºå¹¶è¡Œæ‰§è¡Œã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">Time &#x3D; 159Time &#x3D; 161Total time &#x3D; 162<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1e8</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">double</span> t1 <span class="token operator">=</span> <span class="token function">omp_get_wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span></span></span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">double</span> t2 <span class="token operator">=</span> <span class="token function">omp_get_wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Total time = %f seconds\n"</span><span class="token punctuation">,</span> t2 <span class="token operator">-</span> t1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="parallel-æŒ‡ä»¤"><a href="#parallel-æŒ‡ä»¤" class="headerlink" title="parallel æŒ‡ä»¤"></a>parallel æŒ‡ä»¤</h2><p><code>#pragma omp parallel</code> æ˜¯ OpenMP ä¸­ç”¨äºåˆ›å»ºå¹¶è¡ŒåŒºåŸŸï¼ˆparallel regionï¼‰çš„æŒ‡ä»¤ï¼Œå®ƒå¯ä»¥æ­é… <code>for</code> æˆ– <code>sections</code> ä»¥åŠå…¶ä»–å­å¥æ¥å®ç°ä¸åŒçš„å¹¶è¡Œæ“ä½œã€‚</p><p>è¿™ä¸ªæŒ‡ä»¤çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¸­çš„ä»£ç å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼Œä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p><p>ä¸‹é¢æ˜¯å¯¹ <code>#pragma omp parallel</code> çš„è¯¦ç»†è§£é‡Šå’Œç¤ºä¾‹ç”¨æ³•ï¼š</p><ul><li><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li><code>#pragma omp</code> æ˜¯ OpenMP æŒ‡ä»¤çš„å‰ç¼€ï¼Œç”¨äºæŒ‡ç¤ºç¼–è¯‘å™¨æ‰§è¡Œå¹¶è¡ŒåŒ–æ“ä½œã€‚</li><li><code>parallel</code> æŒ‡ä»¤ç”¨äºåˆ›å»ºä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸï¼Œå…¶ä¸­çš„ä»£ç å¯ä»¥ç”±å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚</li><li>åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„ä»£ç å°†ä¼šè¢«å¤šä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å°†æ‰§è¡Œç›¸åŒçš„ä»£ç ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½å°†æ‰§è¡Œè¿™æ®µä»£ç ï¼Œå¹¶è¡Œåœ°è¿›è¡Œè®¡ç®—ï¼Œç›´åˆ°å¹¶è¡ŒåŒºåŸŸç»“æŸä¸ºæ­¢ã€‚</li><li>åœ¨å¹¶è¡ŒåŒºåŸŸå†…éƒ¨çš„å˜é‡å…·æœ‰ä¸åŒçš„ä½œç”¨åŸŸã€‚æ¯”å¦‚åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­ï¼Œå˜é‡çš„å€¼æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å˜é‡å®ä¾‹ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿ç¨‹æ•°é‡ç”±ç³»ç»Ÿå†³å®šï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® <code>OMP_NUM_THREADS</code> ç¯å¢ƒå˜é‡æˆ–è°ƒç”¨ <code>omp_set_num_threads()</code> å‡½æ•°æ¥æŒ‡å®šçº¿ç¨‹æ•°é‡ã€‚</li></ul></li><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸï¼Œä½¿å…¶ä¸­çš„ä»£ç èƒ½å¤Ÿåœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¹¶è¡Œæ‰§è¡Œï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½ã€‚</li><li>ç”¨äºå¹¶è¡ŒåŒ–ä¸€æ®µä»£ç ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å¤šä¸ªçº¿ç¨‹ä¸­åŒæ—¶æ‰§è¡Œï¼ŒåŠ å¿«ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>#pragma omp parallel</code> åªæ˜¯åˆ›å»ºä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸï¼Œä¸ä¼šè‡ªåŠ¨å¯¹ä»£ç è¿›è¡Œå¹¶è¡ŒåŒ–ã€‚åœ¨è¿™ä¸ªå¹¶è¡ŒåŒºåŸŸä¸­çš„ä»£ç å°†è¢«å¤šä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œä½†å¦‚æœæ²¡æœ‰è¿›ä¸€æ­¥çš„æŒ‡ç¤ºï¼Œä»£ç ä»ç„¶æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ã€‚å› æ­¤ï¼Œä¸ºäº†å®ç°çœŸæ­£çš„å¹¶è¡ŒåŒ–ï¼Œéœ€è¦ç»“åˆå…¶ä»– OpenMP æŒ‡ä»¤ï¼ˆæ¯”å¦‚ <code>for</code> å¾ªç¯çš„ <code>parallel for</code> æˆ– <code>parallel sections</code>ï¼‰æ¥å¹¶è¡Œæ‰§è¡Œå…·ä½“çš„ä»»åŠ¡ã€‚</p></li><li><p>ä¸ä¸€æ®µä»£ç å—é…åˆä½¿ç”¨ï¼Œå¯ä»¥æ˜¯å¤åˆè¯­å¥ã€å‡½æ•°æˆ–ä¸€ä¸ª <code>for</code> å¾ªç¯ã€‚</p></li><li><p><code>#pragma omp parallel</code> å¯ä»¥ä¸ä¸åŒçš„å­å¥ä¸€èµ·ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>for</code> æˆ– <code>sections</code>ï¼Œå¹¶å¯ä»¥æ·»åŠ å…¶ä»–å­å¥æ¥è°ƒæ•´å¹¶è¡ŒåŒºåŸŸçš„è¡Œä¸ºã€‚</p></li><li><p>ç¤ºä¾‹1ï¼šä¸ <code>for</code> ç»“åˆä½¿ç”¨</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span></span></span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å¹¶è¡Œæ‰§è¡Œçš„ for å¾ªç¯ä»£ç </span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§ç”¨æ³•å°†ä¸€ä¸ª <code>for</code> å¾ªç¯ä¸­çš„è¿­ä»£åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</p></li><li><p>ç¤ºä¾‹2ï¼šä¸ <code>sections</code> ç»“åˆä½¿ç”¨</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel sections</span></span><span class="token punctuation">&#123;</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section</span></span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// ç¬¬ä¸€ä¸ªéƒ¨åˆ†çš„ä»£ç </span>        <span class="token comment">// ...</span>    <span class="token punctuation">&#125;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section</span></span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// ç¬¬äºŒä¸ªéƒ¨åˆ†çš„ä»£ç </span>        <span class="token comment">// ...</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§ç”¨æ³•å°†ä¸åŒçš„ä»£ç éƒ¨åˆ†åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œï¼Œæ¯ä¸ª <code>section</code> å†…çš„ä»£ç å°†åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</p></li></ul></li><li><p><strong>å…¶ä»–å­å¥</strong>ï¼š</p><ul><li><p>å¯ä»¥åœ¨ <code>#pragma omp parallel</code> åæ·»åŠ å…¶ä»–å­å¥æ¥è°ƒæ•´å¹¶è¡ŒåŒºåŸŸçš„è¡Œä¸ºã€‚æ¯”å¦‚è®¾ç½®çº¿ç¨‹æ•°é‡ã€ç§æœ‰å˜é‡ç­‰ç­‰ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">num_threads</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token function">private</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></span></span><span class="token punctuation">&#123;</span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>num_threads(4)</code>ï¼šæŒ‡å®šå¹¶è¡ŒåŒºåŸŸä¸­çš„çº¿ç¨‹æ•°é‡ä¸º4ã€‚</li><li><code>private(x)</code>ï¼šæŒ‡å®šå˜é‡ <code>x</code> åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­æ˜¯ç§æœ‰çš„ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ <code>x</code> å˜é‡å®ä¾‹ã€‚</li></ul></li></ul></li></ul><p><code>#pragma omp parallel</code> åˆ›å»ºçš„å¹¶è¡ŒåŒºåŸŸä¸­çš„ä»£ç å°†ä¼šåœ¨å¤šä¸ªçº¿ç¨‹é—´å¹¶è¡Œæ‰§è¡Œã€‚åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„å˜é‡å¯èƒ½å…·æœ‰ä¸åŒçš„ä½œç”¨åŸŸå’Œå…±äº«æ€§è´¨ï¼Œéœ€è¦å°å¿ƒå¤„ç†å…±äº«å˜é‡å¯èƒ½å¼•å‘çš„ç«æ€æ¡ä»¶å’Œæ•°æ®åŒæ­¥é—®é¢˜ã€‚</p><h3 id="è¶…ç®—ä¹ å ‚"><a href="#è¶…ç®—ä¹ å ‚" class="headerlink" title="è¶…ç®—ä¹ å ‚"></a>è¶…ç®—ä¹ å ‚</h3><p>parallel æ˜¯æ„é€ å¹¶è¡Œå—çš„ä¸€ä¸ªæŒ‡ä»¤ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é…åˆå…¶ä»–æŒ‡ä»¤å¦‚for, sectionsç­‰æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ã€‚åœ¨è¿™ä¸ªæŒ‡ä»¤åé¢éœ€è¦ä½¿ç”¨ä¸€å¯¹å¤§æ‹¬å·æ¥æŒ‡å®šéœ€è¦å¹¶è¡Œè®¡ç®—çš„ä»£ç ã€‚</p><pre class="line-numbers language-none"><code class="language-none">#pragma omp parallel [for | sections] [å­å¥[å­å¥]â€¦] &#123; &#x2F;&#x2F;å¹¶è¡Œéƒ¨åˆ† &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡å®ä¾‹ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¹¶è¡Œéƒ¨åˆ†åˆ›å»ºå‡ºäº†å¤šä¸ªçº¿ç¨‹æ¥å®Œæˆã€‚</p><p>è¯·åœ¨é€‚å½“çš„ä½ç½®å¡«ä¸Š<code>#pragma omp parallel num_threads(6)</code> ä½¿ç¨‹åºå¹¶è¡Œæ‰§è¡Œã€‚</p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">Thread: 0Thread: 2Thread: 1Thread: 3Thread: 4Thread: 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">num_threads</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> </span></span><span class="token comment">// END OF YOUR CODE</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread: %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="for-æŒ‡ä»¤"><a href="#for-æŒ‡ä»¤" class="headerlink" title="for æŒ‡ä»¤"></a>for æŒ‡ä»¤</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>for</code> å¾ªç¯é€šå¸¸ä¸ <code>#pragma omp parallel for</code> ç»“åˆä½¿ç”¨ï¼Œå°†ä¸€ä¸ª <code>for</code> å¾ªç¯ä¸­çš„è¿­ä»£ä»»åŠ¡åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚ç”¨äºåœ¨å¾ªç¯ä¸­å®ç°å¹¶è¡ŒåŒ–ï¼Œå…è®¸å°†ä¸€ä¸ªæ™®é€šçš„forå¾ªç¯è½¬æ¢ä¸ºä¸€ä¸ªå¹¶è¡ŒåŒ–çš„forå¾ªç¯ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½ï¼ŒåŠ é€Ÿå¾ªç¯ä¸­çš„è®¡ç®—ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹ <code>#pragma omp parallel for</code> çš„è¯¦ç»†è§£é‡Šå’Œä½¿ç”¨æ–¹æ³•ï¼š</p><ul><li><p><strong>è¯­æ³•</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span></span></span><span class="token keyword">for</span> <span class="token punctuation">(</span>åˆå§‹åŒ–è¯­å¥ï¼› å¾ªç¯æ¡ä»¶ï¼› æ›´æ–°è¯­å¥<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// å¾ªç¯ä½“</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li>å°†ä¸€ä¸ª <code>for</code> å¾ªç¯ä¸­çš„è¿­ä»£ä»»åŠ¡åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œï¼ŒåŠ é€Ÿå¾ªç¯çš„è¿è¡Œã€‚</li><li>é€šå¸¸ç”¨äºå¯¹å¤§å‹è¿­ä»£è¿›è¡Œå¹¶è¡ŒåŒ–å¤„ç†ï¼Œä¾‹å¦‚éå†æ•°ç»„ã€çŸ©é˜µè¿ç®—ç­‰ã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p><code>#pragma omp parallel for</code> ç”¨äºå¹¶è¡ŒåŒ–ä¸€ä¸ª <code>for</code> å¾ªç¯ï¼Œç”¨æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span></span></span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å¹¶è¡Œæ‰§è¡Œçš„ for å¾ªç¯ä½“ä»£ç </span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªæŒ‡ä»¤å°† <code>for</code> å¾ªç¯ä¸­çš„è¿­ä»£ä»»åŠ¡å¹³å‡åœ°åˆ†é…ç»™å¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€éƒ¨åˆ†è¿­ä»£ã€‚å¾ªç¯è¿­ä»£ä¼šè¢«åˆ†æˆå¤šä¸ªå—ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œå…¶ä¸­çš„ä¸€ä¸ªå—ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè®¡ç®—æ•°ç»„å…ƒç´ å¹³æ–¹å’Œçš„ç®€å•ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨<code>#pragma omp parallel for</code>å°†å…¶å¹¶è¡ŒåŒ–ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#include &lt;iostream&gt;#include &lt;omp.h&gt;int main() &#123;const int N &#x3D; 1000;double sum &#x3D; 0.0;double arr[N];&#x2F;&#x2F; åˆå§‹åŒ–æ•°ç»„for (int i &#x3D; 0; i &lt; N; ++i) &#123;  arr[i] &#x3D; static_cast&lt;double&gt;(i);&#125;&#x2F;&#x2F; ä½¿ç”¨#pragma omp parallel forè¿›è¡Œå¹¶è¡ŒåŒ–#pragma omp parallel for reduction(+:sum)for (int i &#x3D; 0; i &lt; N; ++i) &#123;  sum +&#x3D; arr[i] * arr[i];&#125;std::cout &lt;&lt; &quot;Sum of squares: &quot; &lt;&lt; sum &lt;&lt; std::endl;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>reduction(+:sum)</code>å­å¥æ¥æŒ‡å®šå¦‚ä½•åˆå¹¶å¤šä¸ªçº¿ç¨‹çš„ç»“æœã€‚è¿™æ ·ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šè®¡ç®—å…¶éƒ¨åˆ†å…ƒç´ çš„å¹³æ–¹å’Œï¼Œå¹¶å°†ç»“æœç´¯åŠ åˆ°å…¨å±€å˜é‡<code>sum</code>ä¸­ã€‚æœ€åï¼Œä¸»çº¿ç¨‹ä¼šè¾“å‡ºæ•´ä¸ªæ•°ç»„å…ƒç´ å¹³æ–¹å’Œçš„ç»“æœã€‚</p></li></ul></li><li><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>åœ¨ä½¿ç”¨ <code>#pragma omp parallel for</code> æ—¶ï¼Œå¾ªç¯å˜é‡ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„ <code>i</code>ï¼‰å¿…é¡»æ˜¯è¿­ä»£å˜é‡ã€‚OpenMP å°†æ ¹æ®è¿­ä»£å˜é‡è‡ªåŠ¨è¿›è¡Œä»»åŠ¡åˆ†é…ã€‚</li><li>å¾ªç¯çš„è¿­ä»£æ¬¡æ•°åº”è¯¥è¶³å¤Ÿå¤§ï¼Œä»¥ä¾¿åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å®ç°æœ‰æ•ˆçš„å¹¶è¡Œæ‰§è¡Œã€‚å¦‚æœå¾ªç¯è¿­ä»£æ¬¡æ•°å¤ªå°ï¼Œåˆ™å¹¶è¡ŒåŒ–çš„å¼€é”€å¯èƒ½è¶…è¿‡äº†å¹¶è¡Œæ‰§è¡Œæ‰€å¸¦æ¥çš„æ€§èƒ½æå‡ã€‚</li></ul></li><li><p><strong>å…¶ä»–å­å¥</strong>ï¼š</p><ul><li><p>å¯ä»¥ä½¿ç”¨å…¶ä»– OpenMP å­å¥æ¥è¿›ä¸€æ­¥æ§åˆ¶å¹¶è¡ŒåŒ–çš„è¡Œä¸ºï¼Œä¾‹å¦‚æŒ‡å®šç§æœ‰å˜é‡ã€æŒ‡å®šçº¿ç¨‹æ•°é‡ã€è®¾ç½®çº¿ç¨‹ç»‘å®šç­‰ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">num_threads</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token function">private</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></span></span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>num_threads(4)</code>ï¼šæŒ‡å®šå¹¶è¡ŒåŒºåŸŸä¸­çš„çº¿ç¨‹æ•°é‡ä¸º4ã€‚</li><li><code>private(x)</code>ï¼šæŒ‡å®šå˜é‡ <code>x</code> åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­æ˜¯ç§æœ‰çš„ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ <code>x</code> å˜é‡å®ä¾‹ã€‚</li></ul></li></ul></li></ul><p><code>#pragma omp parallel for</code> çš„ä½¿ç”¨å¯ä»¥æ˜¾è‘—æé«˜å¾ªç¯è¿­ä»£çš„æ•ˆç‡ï¼Œä½†éœ€è¦æ³¨æ„å¹¶è¡ŒåŒ–å¯èƒ½å¼•å…¥çš„æ•°æ®ç«äº‰å’ŒåŒæ­¥é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…±äº«å˜é‡çš„æ“ä½œéœ€è¦è¿›è¡Œåˆé€‚çš„åŒæ­¥æ§åˆ¶ã€‚</p><h3 id="è¶…ç®—ä¹ å ‚-1"><a href="#è¶…ç®—ä¹ å ‚-1" class="headerlink" title="è¶…ç®—ä¹ å ‚"></a>è¶…ç®—ä¹ å ‚</h3><p>foræŒ‡ä»¤çš„ä½œç”¨æ˜¯ä½¿ä¸€ä¸ªforå¾ªç¯åœ¨å¤šä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¸€èˆ¬foræŒ‡ä»¤ä¼šä¸parallelæŒ‡ä»¤åŒæ—¶ä½¿ç”¨ï¼Œå³parallel foræŒ‡ä»¤ã€‚æ­¤å¤–è¿˜å¯ä»¥åœ¨parallelæŒ‡ä»¤çš„å¹¶è¡Œå—ä¸­å•ç‹¬ä½¿ç”¨ï¼Œåœ¨ä¸€ä¸ªå¹¶è¡Œå—ä¸­å¯ä»¥ä½¿ç”¨å¤šä¸ªforæŒ‡ä»¤ã€‚ä½†æ˜¯å•ç‹¬ä½¿ç”¨foræŒ‡ä»¤æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚</p><p>è¯·åœ¨é€‚å½“çš„ä½ç½®ä½¿ç”¨foræŒ‡ä»¤ä½¿ç¨‹åºå¹¶è¡Œæ‰§è¡Œã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel </span></span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>                <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp <span class="token keyword">for</span> <span class="token function">private</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></span></span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp <span class="token keyword">for</span> <span class="token function">private</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span></span></span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"j = %d\n"</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 1i &#x3D; 0i &#x3D; 4i &#x3D; 3i &#x3D; 2j &#x3D; 0j &#x3D; 2j &#x3D; 1j &#x3D; 3j &#x3D; 4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="sectionså’ŒsectionæŒ‡ä»¤"><a href="#sectionså’ŒsectionæŒ‡ä»¤" class="headerlink" title="sectionså’ŒsectionæŒ‡ä»¤"></a>sectionså’ŒsectionæŒ‡ä»¤</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>#pragma omp sections</code> å’Œ <code>#pragma omp section</code> æ˜¯ç”¨äºå¹¶è¡ŒåŒ–ä»£ç çš„æŒ‡ä»¤ï¼Œå…è®¸å°†ä¸åŒçš„ä»£ç éƒ¨åˆ†åˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚è¿™ç§å¹¶è¡ŒåŒ–æ¨¡å¼å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå„è‡ªçš„ä»£ç æ®µï¼Œå¯ä»¥æé«˜ç¨‹åºçš„æ•ˆç‡ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹ <code>#pragma omp sections</code> å’Œ <code>#pragma omp section</code> çš„è¯¦ç»†è§£é‡Šå’Œç”¨æ³•ï¼š</p><ul><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li><code>#pragma omp sections</code> ç”¨äºåˆ›å»ºä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸï¼Œå†…éƒ¨åŒ…å«å¤šä¸ª <code>section</code>ï¼Œæ¯ä¸ª <code>section</code> ä¸­çš„ä»£ç å¯ä»¥ç”±ä¸åŒçš„çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</li><li><code>#pragma omp section</code> ç”¨äºå®šä¹‰ <code>sections</code> åŒºåŸŸä¸­çš„ä¸€ä¸ªå…·ä½“ä»£ç æ®µã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p><code>#pragma omp sections</code> å¿…é¡»ä¸å¤šä¸ª <code>#pragma omp section</code> ç»“åˆä½¿ç”¨ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel</span></span><span class="token punctuation">&#123;</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp sections</span></span>    <span class="token punctuation">&#123;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section</span></span>        <span class="token punctuation">&#123;</span>            <span class="token comment">// ç¬¬ä¸€ä¸ª section çš„ä»£ç </span>            <span class="token comment">// ...</span>        <span class="token punctuation">&#125;</span>                <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section</span></span>        <span class="token punctuation">&#123;</span>            <span class="token comment">// ç¬¬äºŒä¸ª section çš„ä»£ç </span>            <span class="token comment">// ...</span>        <span class="token punctuation">&#125;</span>                <span class="token comment">// å¯ä»¥æœ‰æ›´å¤šçš„ sections</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§ç”¨æ³•å°† <code>sections</code> åŒºåŸŸå†…çš„ä»£ç åˆ†æˆå¤šä¸ª <code>section</code>ï¼Œæ¯ä¸ª <code>section</code> ä¸­çš„ä»£ç ä¼šè¢«ä¸åŒçš„çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚</p></li></ul></li><li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>æ¯ä¸ª <code>section</code> ä¸­çš„ä»£ç éƒ½æ˜¯ç‹¬ç«‹æ‰§è¡Œçš„ï¼Œå„ä¸ª <code>section</code> ä¹‹é—´çš„æ‰§è¡Œé¡ºåºä¸ç¡®å®šï¼Œå–å†³äºç³»ç»Ÿè°ƒåº¦å’Œçº¿ç¨‹å®Œæˆä»»åŠ¡çš„æ—¶é—´ã€‚</li><li><code>sections</code> åŒºåŸŸä¸­çš„çº¿ç¨‹æ•°ç›®ä¸ <code>section</code> çš„æ•°ç›®æ— å…³ï¼ŒOpenMP ä¼šè‡ªåŠ¨å†³å®šçº¿ç¨‹åˆ†é…æƒ…å†µã€‚</li></ul></li><li><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>æ¯ä¸ª <code>section</code> éƒ½åº”è¯¥æ˜¯äº’ç›¸ç‹¬ç«‹çš„ä»»åŠ¡å•å…ƒï¼Œä¸åº”è¯¥æœ‰å…±äº«å˜é‡çš„ä¿®æ”¹æˆ–è€…ä¾èµ–å…³ç³»ï¼Œä»¥å…å¼•èµ·ç«æ€æ¡ä»¶æˆ–æ­»é”ç­‰é—®é¢˜ã€‚</li><li><code>sections</code> åŒºåŸŸä¸­çš„æ¯ä¸ª <code>section</code> å¯èƒ½ä¼šè¢«ä¸åŒçš„çº¿ç¨‹æ‰§è¡Œï¼Œå› æ­¤è¦ç¡®ä¿æ¯ä¸ª <code>section</code> çš„æ‰§è¡Œæ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šç›¸äº’å½±å“ã€‚</li></ul></li></ul><p><code>#pragma omp sections</code> å’Œ <code>#pragma omp section</code> é€‚ç”¨äºå°†ç¨‹åºä¸­çš„ä¸åŒä»»åŠ¡å¹¶è¡ŒåŒ–æ‰§è¡Œï¼Œç‰¹åˆ«é€‚ç”¨äºä»»åŠ¡é—´æ²¡æœ‰æ•°æ®ä¾èµ–æ€§çš„æƒ…å†µã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥æé«˜ç¨‹åºçš„æ•ˆç‡å’Œæ€§èƒ½ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿ã€‚</p><p>sectionsè¯­å¥å¯ä»¥å°†ä¸‹é¢çš„ä»£ç åˆ†æˆä¸åŒçš„åˆ†å—ï¼Œé€šè¿‡sectionæŒ‡ä»¤æ¥æŒ‡å®šåˆ†å—ã€‚æ¯ä¸€ä¸ªåˆ†å—éƒ½ä¼šå¹¶è¡Œæ‰§è¡Œï¼Œå…·ä½“æ ¼å¼ï¼š<br>#pragma omp [parallel] sections [å­å¥]<br>{<br>    #pragma omp section<br>    {<br>        &#x2F;&#x2F;ä»£ç <br>    }<br>â€¦<br>}</p><p>è¯·åœ¨é€‚å½“çš„ä½ç½®å¡«ä¸Šä½¿ç”¨sectionsæŒ‡ä»¤ä½¿ç¨‹åºå¹¶è¡Œæ‰§è¡Œ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel sections</span></span>    <span class="token punctuation">&#123;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section </span></span>        <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Section 1 ThreadId = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// æŸäº›ä»£ç ä»»åŠ¡</span>        <span class="token punctuation">&#125;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp section</span></span>        <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Section 2 ThreadId = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å¯èƒ½çš„åˆå¹¶ä»»åŠ¡æˆ–å…¶ä»–å¤„ç†</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">Section 2 ThreadId &#x3D; 1Section 1 ThreadId &#x3D; 0Section 4 ThreadId &#x3D; 3Section 3 ThreadId &#x3D; 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="private-å­å¥"><a href="#private-å­å¥" class="headerlink" title="private å­å¥"></a>private å­å¥</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>private</code> å­å¥ç”¨äºæŒ‡å®šå˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„ç§æœ‰æ€§è´¨ã€‚è¿™æ„å‘³ç€æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæ‹¥æœ‰è¯¥å˜é‡çš„ä¸€ä¸ªç§æœ‰å‰¯æœ¬ï¼Œè€Œä¸æ˜¯å…±äº«åŒä¸€ä¸ªå˜é‡å‰¯æœ¬ã€‚è¿™æ ·å¯ä»¥é¿å…å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å’Œä¿®æ”¹åŒä¸€ä¸ªå˜é‡å¼•å‘çš„ç«æ€æ¡ä»¶é—®é¢˜ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹ <code>private</code> å­å¥çš„è¯¦ç»†è§£é‡Šå’Œç”¨æ³•ï¼š</p><ul><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li>åœ¨å¹¶è¡ŒåŒºåŸŸä¸­ï¼Œå°†å˜é‡æŒ‡å®šä¸ºç§æœ‰çš„ï¼Œä»¥ç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„å˜é‡å‰¯æœ¬ã€‚</li><li>é¿å…å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œå¹¶å‘è¯»å†™è€Œå¯¼è‡´çš„æ•°æ®æ··ä¹±æˆ–ä¸ç¡®å®šçš„ç»“æœã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p>åœ¨ OpenMP æŒ‡ä»¤ä¸­ï¼Œé€šè¿‡ <code>private</code> å­å¥æ¥æŒ‡å®šç§æœ‰å˜é‡ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">private</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span></span></span><span class="token punctuation">&#123;</span>    <span class="token comment">// i å’Œ j å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ˜¯ç§æœ‰çš„</span>    <span class="token comment">// æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰è‡ªå·±çš„ i å’Œ j å‰¯æœ¬</span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>i</code> å’Œ <code>j</code> å˜é‡è¢«æŒ‡å®šä¸ºç§æœ‰å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰è‡ªå·±çš„ <code>i</code> å’Œ <code>j</code> çš„å‰¯æœ¬ã€‚ä»»ä½•åœ¨å¹¶è¡ŒåŒºåŸŸå†…å£°æ˜çš„å˜é‡é»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯å…±äº«çš„ï¼Œä½¿ç”¨ <code>private</code> å­å¥å¯ä»¥å°†å…¶è®¾ä¸ºç§æœ‰ã€‚</p></li></ul></li><li><p><strong>ä½œç”¨èŒƒå›´</strong>ï¼š</p><ul><li><code>private</code> å­å¥å¯ä»¥åœ¨ä¸åŒçš„ OpenMP æŒ‡ä»¤ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>parallel</code>, <code>for</code>, <code>sections</code> ç­‰ï¼Œå¹¶ä¸”å¯ä»¥åœ¨åŒä¸€ä¸ªæŒ‡ä»¤å—ä¸­åŒæ—¶æŒ‡å®šå¤šä¸ªç§æœ‰å˜é‡ã€‚</li><li>å¦‚æœåœ¨å¾ªç¯å¹¶è¡ŒåŒ– <code>for</code> ä¸­ä½¿ç”¨äº† <code>private</code> å­å¥ï¼Œåˆ™å¾ªç¯ç´¢å¼•å˜é‡é€šå¸¸éœ€è¦è¢«æŒ‡å®šä¸ºç§æœ‰å˜é‡ã€‚</li></ul></li><li><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>ç§æœ‰å˜é‡ä»…åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ˜¯ç§æœ‰çš„ï¼Œå‡ºäº†å¹¶è¡ŒåŒºåŸŸåï¼Œå˜é‡ä»ç„¶æ˜¯åŸæ¥çš„å…±äº«çŠ¶æ€ã€‚</li><li>è¢«æŒ‡å®šä¸ºç§æœ‰çš„å˜é‡éœ€è¦åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚å› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œå˜é‡å€¼åœ¨ä¸åŒçº¿ç¨‹ä¸­æ˜¯ç‹¬ç«‹çš„ã€‚</li></ul></li></ul><p><code>private</code> å­å¥æ˜¯ç”¨äºæ§åˆ¶å˜é‡ç§æœ‰æ€§çš„é‡è¦å·¥å…·ï¼Œåœ¨å¤šçº¿ç¨‹å¹¶è¡Œç¼–ç¨‹ä¸­ç»å¸¸ç”¨äºé¿å…å…±äº«å˜é‡å¸¦æ¥çš„å¹¶å‘è®¿é—®é—®é¢˜ï¼Œç¡®ä¿ç¨‹åºçš„æ­£ç¡®æ€§å’Œå¯é æ€§ã€‚</p><p>private å­å¥å¯ä»¥å°†å˜é‡å£°æ˜ä¸ºçº¿ç¨‹ç§æœ‰ï¼Œå£°æ˜ç§°çº¿ç¨‹ç§æœ‰å˜é‡ä»¥åï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªè¯¥å˜é‡çš„å‰¯æœ¬ï¼Œçº¿ç¨‹ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•è®¿é—®å…¶ä»–çº¿ç¨‹çš„å‰¯æœ¬ã€‚åŸå˜é‡åœ¨å¹¶è¡Œéƒ¨åˆ†ä¸èµ·ä»»ä½•ä½œç”¨ï¼Œä¹Ÿä¸ä¼šå—åˆ°å¹¶è¡Œéƒ¨åˆ†å†…éƒ¨æ“ä½œçš„å½±å“ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">private</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ‰‹åŠ¨æ›´æ–°å¾ªç¯å¤–çš„ i</span>    <span class="token comment">// å¾—åˆ°æœ€åä¸€ä¸ªå¹¶è¡Œå¾ªç¯ä¸­çš„ i å€¼</span>    i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"outside i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 0i &#x3D; 2i &#x3D; 1i &#x3D; 4i &#x3D; 3i &#x3D; 5i &#x3D; 6i &#x3D; 7i &#x3D; 9i &#x3D; 8outside i &#x3D; 20<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="firstprivateå­å¥"><a href="#firstprivateå­å¥" class="headerlink" title="firstprivateå­å¥"></a>firstprivateå­å¥</h5><p><code>firstprivate</code> å­å¥æ˜¯ OpenMP ä¸­ç”¨äºæŒ‡å®šå¹¶è¡ŒåŒºåŸŸä¸­å˜é‡çš„åˆå§‹ç§æœ‰å€¼çš„ä¸€ç§æŒ‡ä»¤ã€‚å®ƒç”¨äºä¿ç•™å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸå¤–çš„åˆå§‹å€¼ï¼Œå¹¶å°†å…¶ä½œä¸ºæ¯ä¸ªçº¿ç¨‹ç§æœ‰å˜é‡çš„åˆå§‹å€¼ï¼Œä»¥ä¾¿åœ¨å¹¶è¡Œæ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>firstprivate</code> å­å¥çš„ç”¨æ³•ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">firstprivate</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span></span></span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// x å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰å‰¯æœ¬</span>        <span class="token comment">// åˆå§‹å€¼æ˜¯ x åœ¨å¹¶è¡ŒåŒºåŸŸå¤–çš„åˆå§‹å€¼ï¼ˆ5ï¼‰</span>                <span class="token comment">// åœ¨å¹¶è¡ŒåŒºåŸŸå†…ä¿®æ”¹ x çš„å€¼</span>        x <span class="token operator">+=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: x = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// åœ¨å¹¶è¡ŒåŒºåŸŸå¤–æ‰“å° x çš„å€¼ï¼Œå€¼ä»ç„¶ä¸ºåˆå§‹å€¼ï¼ˆ5ï¼‰</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"After parallel region: x = %d\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>firstprivate(x)</code> å°†å˜é‡ <code>x</code> æŒ‡å®šä¸ºç§æœ‰å˜é‡ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç§æœ‰å‰¯æœ¬ï¼Œåˆå§‹å€¼ä¸ºå¹¶è¡ŒåŒºåŸŸå¤– <code>x</code> çš„åˆå§‹å€¼ï¼ˆ5ï¼‰ã€‚åœ¨å¹¶è¡ŒåŒºåŸŸå†…ï¼Œæ¯ä¸ªçº¿ç¨‹å°† <code>x</code> çš„å€¼å¢åŠ äº†å½“å‰çº¿ç¨‹ç¼–å· <code>omp_get_thread_num()</code>ï¼Œç„¶åè¾“å‡ºç»“æœã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å¹¶è¡ŒåŒºåŸŸå†…å¯¹ <code>x</code> è¿›è¡Œäº†ä¿®æ”¹ï¼Œä½†åœ¨å¹¶è¡ŒåŒºåŸŸå¤–ï¼Œ<code>x</code> çš„å€¼ä»ç„¶ä¿æŒåˆå§‹å€¼ï¼Œä¸å—å¹¶è¡ŒåŒºåŸŸå†…ä¿®æ”¹çš„å½±å“ã€‚è¿™æ˜¯å› ä¸º <code>firstprivate</code> å­å¥ä¿ç•™äº†å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸå¤–çš„åˆå§‹å€¼ï¼Œå¹¶åœ¨å¹¶è¡ŒåŒºåŸŸå†…æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„åˆå§‹å€¼å‰¯æœ¬ï¼Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„ <code>x</code>ã€‚</p><p>privateå­å¥ä¸èƒ½ç»§æ‰¿åŸå˜é‡çš„å€¼ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬éœ€è¦çº¿ç¨‹ç§æœ‰å˜é‡ç»§æ‰¿åŸæ¥å˜é‡çš„å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨firstprivateå­å¥æ¥å®ç°ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">firstprivate</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>t <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"t = %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"outside t = %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">t &#x3D; 20t &#x3D; 21t &#x3D; 23t &#x3D; 24t &#x3D; 22outside t &#x3D; 20<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="lastprivateå­å¥"><a href="#lastprivateå­å¥" class="headerlink" title="lastprivateå­å¥"></a>lastprivateå­å¥</h5><p><code>lastprivate</code> å­å¥æ˜¯ OpenMP ä¸­ç”¨äºæŒ‡å®šå¹¶è¡Œå¾ªç¯æˆ–åŒºåŸŸç»“æŸåï¼Œä»å¤šä¸ªçº¿ç¨‹ä¸­è·å–æœ€åä¸€ä¸ªè¿­ä»£çš„å˜é‡å€¼ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™æŒ‡å®šå˜é‡çš„ä¸€ç§æŒ‡ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>lastprivate</code> å­å¥çš„ç”¨æ³•ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> last_val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">lastprivate</span><span class="token punctuation">(</span>last_val<span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        last_val <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: i = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// åœ¨å¹¶è¡Œå¾ªç¯ç»“æŸåï¼Œè·å–æœ€åä¸€ä¸ªè¿­ä»£çš„å€¼èµ‹ç»™ last_val</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Last value after parallel region: %d\n"</span><span class="token punctuation">,</span> last_val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>lastprivate(last_val)</code> å°†å˜é‡ <code>last_val</code> æŒ‡å®šä¸º <code>lastprivate</code> å˜é‡ã€‚åœ¨å¹¶è¡Œå¾ªç¯ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„ <code>last_val</code> å˜é‡ï¼Œä½†æœ€ç»ˆä¼šä»å¤šä¸ªçº¿ç¨‹ä¸­è·å–æœ€åä¸€ä¸ªè¿­ä»£çš„å€¼ï¼Œå¹¶å°†è¯¥å€¼èµ‹ç»™å¤–éƒ¨çš„ <code>last_val</code>ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>lastprivate</code> å­å¥åªå¯¹å¾ªç¯ç»“æŸåçš„æœ€åä¸€ä¸ªè¿­ä»£æœ‰æ•ˆã€‚åœ¨å¹¶è¡Œå¾ªç¯æ‰§è¡ŒæœŸé—´ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šåœ¨è‡ªå·±çš„ <code>last_val</code> ä¸­å­˜å‚¨æœ€åä¸€ä¸ªè¿­ä»£çš„å€¼ï¼Œä½†åªæœ‰åœ¨å¹¶è¡ŒåŒºåŸŸç»“æŸåï¼Œä¼šå°†æœ€åä¸€ä¸ªè¿­ä»£çš„å€¼èµ‹ç»™å¤–éƒ¨çš„ <code>last_val</code>ã€‚</p><p>è¿™å¯¹äºéœ€è¦åœ¨å¹¶è¡Œå¾ªç¯ç»“æŸåè·å–æœ€åä¸€ä¸ªè¿­ä»£çš„å€¼å¹¶ç»§ç»­ä½¿ç”¨çš„æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚éœ€è¦ä¿ç•™å¹¶åˆ©ç”¨å¹¶è¡Œå¾ªç¯ä¸­æœ€åä¸€ä¸ªè¿­ä»£çš„ç»“æœã€‚</p><p>é™¤äº†åœ¨è¿›å…¥å¹¶è¡Œéƒ¨åˆ†æ—¶éœ€è¦ç»§æ‰¿åŸå˜é‡çš„å€¼å¤–ï¼Œæœ‰æ—¶æˆ‘ä»¬è¿˜éœ€è¦å†é€€å‡ºå¹¶è¡Œéƒ¨åˆ†æ—¶å°†è®¡ç®—ç»“æœèµ‹å€¼å›åŸå˜é‡ï¼Œlastprivateå­å¥å°±å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®OpenMPè§„èŒƒï¼Œåœ¨å¾ªç¯è¿­ä»£ä¸­ï¼Œæ˜¯æœ€åä¸€æ¬¡è¿­ä»£çš„å€¼èµ‹å€¼ç»™åŸå˜é‡ï¼›å¦‚æœæ˜¯sectionç»“æ„ï¼Œé‚£ä¹ˆæ˜¯ç¨‹åºè¯­æ³•ä¸Šçš„æœ€åä¸€ä¸ªsectionè¯­å¥èµ‹å€¼ç»™åŸå˜é‡ã€‚<br>å¦‚æœæ˜¯ç±»(class)å˜é‡ä½œä¸ºlastprivateçš„å‚æ•°æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼ºçœæ„é€ å‡½æ•°ï¼Œé™¤éè¯¥å˜é‡ä¹Ÿä½œä¸ºfirstprivateå­å¥çš„å‚æ•°ï¼›æ­¤å¤–è¿˜éœ€è¦ä¸€ä¸ªæ‹·è´èµ‹å€¼æ“ä½œç¬¦ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">firstprivate</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">lastprivate</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>t <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"t = %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"outside t = %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">t &#x3D; 20t &#x3D; 22t &#x3D; 24t &#x3D; 21t &#x3D; 23outside t &#x3D; 24<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="threadprivateå­å¥"><a href="#threadprivateå­å¥" class="headerlink" title="threadprivateå­å¥"></a>threadprivateå­å¥</h5><p><code>threadprivate</code> æ˜¯ OpenMP ä¸­ç”¨äºæŒ‡å®šå…¨å±€å˜é‡åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­å…·æœ‰è‡ªå·±çš„ç§æœ‰å‰¯æœ¬çš„æŒ‡ä»¤ã€‚é€šå¸¸ï¼Œå…¨å±€å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ˜¯å…±äº«çš„ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½èƒ½è®¿é—®å’Œä¿®æ”¹å®ƒã€‚ä½†æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­æ‹¥æœ‰è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œä»¥ä¾¿ä¸åŒçº¿ç¨‹ä¹‹é—´çš„ä¿®æ”¹ä¸ä¼šç›¸äº’å½±å“ã€‚</p><p><code>threadprivate</code> çš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token comment">// å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåœ¨æ¯ä¸ªçº¿ç¨‹ä¸­å°†æ‹¥æœ‰è‡ªå·±çš„ç§æœ‰å‰¯æœ¬</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp <span class="token function">threadprivate</span><span class="token punctuation">(</span>global_var<span class="token punctuation">)</span></span></span><span class="token keyword">int</span> global_var<span class="token punctuation">;</span> <span class="token comment">// å…¨å±€å˜é‡</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    global_var <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// å…¨å±€å˜é‡çš„åˆå§‹å€¼</span>        <span class="token comment">// å¯åŠ¨å¹¶è¡ŒåŒºåŸŸï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—® global_var</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel</span></span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªç§æœ‰çš„ global_var</span>        global_var <span class="token operator">+=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: global_var = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> global_var<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>global_var</code> æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä½†ä½¿ç”¨äº† <code>#pragma omp threadprivate(global_var)</code> æŒ‡ä»¤ï¼Œå› æ­¤åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½ä¼šæœ‰ä¸€ä¸ª <code>global_var</code> çš„ç§æœ‰å‰¯æœ¬ã€‚æ¯ä¸ªçº¿ç¨‹å¯¹ <code>global_var</code> è¿›è¡Œæ“ä½œæ—¶éƒ½åœ¨è‡ªå·±çš„ç§æœ‰å‰¯æœ¬ä¸Šè¿›è¡Œï¼Œä¸ä¼šç›¸äº’å¹²æ‰°ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>threadprivate</code> ç”¨äºæŒ‡å®šå…¨å±€å˜é‡åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­å…·æœ‰è‡ªå·±çš„ç§æœ‰å‰¯æœ¬ã€‚è¿™æ ·çš„è¯ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªä¸å…¶ä»–çº¿ç¨‹ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œå®ƒä»¬äº’ä¸å¹²æ‰°ã€‚</p><p>threadprivateå­å¥å¯ä»¥å°†ä¸€ä¸ªå˜é‡å¤åˆ¶ä¸€ä¸ªç§æœ‰çš„æ‹·è´ç»™å„ä¸ªçº¿ç¨‹ï¼Œå³å„ä¸ªçº¿ç¨‹å…·æœ‰å„è‡ªç§æœ‰çš„å…¨å±€å¯¹è±¡ã€‚<br>æ ¼å¼ï¼š#pragma omp threadprivate(list)</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp <span class="token function">threadprivate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel</span></span><span class="token comment">// END OF YOUR CODE</span><span class="token punctuation">&#123;</span>g <span class="token operator">=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel</span></span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread id: %d g: %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">thread id: 1 g: 1thread id: 5 g: 5thread id: 2 g: 2thread id: 3 g: 3thread id: 6 g: 6thread id: 4 g: 4thread id: 0 g: 0thread id: 7 g: 7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="sharedå­å¥"><a href="#sharedå­å¥" class="headerlink" title="sharedå­å¥"></a>sharedå­å¥</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>shared</code> å­å¥ç”¨äºæŒ‡å®šå˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„å…±äº«æ€§è´¨ã€‚å…±äº«å˜é‡æ˜¯æ‰€æœ‰çº¿ç¨‹å…±åŒè®¿é—®å’Œä¿®æ”¹çš„å˜é‡ã€‚ä½¿ç”¨ <code>shared</code> å­å¥å¯ä»¥å°†å˜é‡æ˜¾å¼åœ°å£°æ˜ä¸ºå…±äº«å˜é‡ï¼Œä»¥ç¡®ä¿æ‰€æœ‰çº¿ç¨‹åœ¨å¹¶è¡ŒåŒºåŸŸä¸­éƒ½ä½¿ç”¨åŒä¸€ä¸ªå˜é‡å‰¯æœ¬ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹ <code>shared</code> å­å¥çš„è¯¦ç»†è§£é‡Šå’Œç”¨æ³•ï¼š</p><ul><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li>åœ¨å¹¶è¡ŒåŒºåŸŸä¸­å°†å˜é‡æŒ‡å®šä¸ºå…±äº«å˜é‡ï¼Œä»¥ç¡®ä¿æ‰€æœ‰çº¿ç¨‹éƒ½å…±äº«åŒä¸€ä¸ªå˜é‡å‰¯æœ¬ã€‚</li><li>å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å’Œä¿®æ”¹å˜é‡çš„å€¼ï¼Œé€‚ç”¨äºçº¿ç¨‹ä¹‹é—´éœ€è¦å…±äº«ä¿¡æ¯çš„æƒ…å†µã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p>åœ¨ OpenMP æŒ‡ä»¤ä¸­ï¼Œé€šè¿‡ <code>shared</code> å­å¥å°†å˜é‡æŒ‡å®šä¸ºå…±äº«å˜é‡ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">shared</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span></span></span><span class="token punctuation">&#123;</span>    <span class="token comment">// x å’Œ y å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ˜¯å…±äº«çš„</span>    <span class="token comment">// æ‰€æœ‰çº¿ç¨‹éƒ½ä½¿ç”¨åŒä¸€ä¸ª x å’Œ y å˜é‡å‰¯æœ¬</span>    <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>x</code> å’Œ <code>y</code> å˜é‡è¢«æŒ‡å®šä¸ºå…±äº«å˜é‡ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šä½¿ç”¨ç›¸åŒçš„ <code>x</code> å’Œ <code>y</code> çš„å‰¯æœ¬ã€‚</p></li></ul></li><li><p><strong>é»˜è®¤å…±äº«æ€§</strong>ï¼š</p><ul><li>åœ¨ OpenMP ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å¹¶è¡ŒåŒºåŸŸå†…å£°æ˜çš„å˜é‡é€šå¸¸æ˜¯å…±äº«çš„ã€‚å› æ­¤ï¼Œå¯¹äºå…¨å±€å˜é‡å’Œåœ¨å¹¶è¡ŒåŒºåŸŸä¹‹å¤–å£°æ˜çš„å˜é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯å…±äº«çš„ã€‚</li><li>å±€éƒ¨å˜é‡é»˜è®¤æƒ…å†µä¸‹æ˜¯ç§æœ‰çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç§æœ‰å‰¯æœ¬ã€‚</li></ul></li><li><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>å…±äº«å˜é‡å¯èƒ½å­˜åœ¨å¹¶å‘è®¿é—®çš„é—®é¢˜ï¼Œéœ€è¦æ³¨æ„çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥æ§åˆ¶ï¼Œé¿å…å‡ºç°æ•°æ®ç«äº‰ã€ä¸ç¡®å®šè¡Œä¸ºç­‰é—®é¢˜ã€‚</li><li>å¦‚æœå˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸå¤–è¢«å£°æ˜ä¸ºå…±äº«çš„ï¼Œéœ€ç¡®ä¿å¯¹å…¶çš„è®¿é—®æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œé¿å…å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹é€ æˆçš„é—®é¢˜ã€‚</li></ul></li></ul><p><code>shared</code> å­å¥ç”¨äºæ§åˆ¶å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„å…±äº«æ€§è´¨ï¼Œå¯å¸®åŠ©å¼€å‘è€…æ›´æ¸…æ™°åœ°è¡¨è¾¾å¹¶è¡Œä»£ç ä¸­çš„å…±äº«æ•°æ®ã€‚ä½†éœ€è¦ç‰¹åˆ«æ³¨æ„å…±äº«å˜é‡çš„åŒæ­¥å’Œäº’æ–¥è®¿é—®é—®é¢˜ï¼Œä»¥ç¡®ä¿å¹¶è¡Œç¨‹åºçš„æ­£ç¡®æ€§å’Œå¯é æ€§ã€‚</p><p><code>shared</code> å­å¥æ˜¯ OpenMP ä¸­çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨äºæŒ‡å®šå˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸä¸­çš„å…±äº«æ€§è´¨ã€‚åœ¨å¹¶è¡ŒåŒºåŸŸå†…ï¼Œ<code>shared</code> å­å¥ä½¿å¾—å˜é‡åœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´å…±äº«åŒä¸€ä¸ªå†…å­˜ä½ç½®ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>shared</code> å­å¥çš„ç”¨æ³•ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> shared_var <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// ä½¿ç”¨ shared å­å¥å°† shared_var å˜é‡æŒ‡å®šä¸ºå…±äº«å˜é‡</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">shared</span><span class="token punctuation">(</span>shared_var<span class="token punctuation">)</span></span></span>    <span class="token punctuation">&#123;</span>        shared_var <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// æ‰€æœ‰çº¿ç¨‹å…±äº«åŒä¸€ä¸ª shared_var å˜é‡</span>                <span class="token comment">// è·å–å½“å‰çº¿ç¨‹å·å’Œ shared_var çš„å€¼</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: shared_var = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shared_var<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// åœ¨å¹¶è¡ŒåŒºåŸŸç»“æŸåï¼Œè¾“å‡ºæœ€ç»ˆ shared_var çš„å€¼</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Final value of shared_var: %d\n"</span><span class="token punctuation">,</span> shared_var<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel shared(shared_var)</code> å°† <code>shared_var</code> å˜é‡æŒ‡å®šä¸ºå…±äº«å˜é‡ï¼Œè¿™æ„å‘³ç€åœ¨å¹¶è¡ŒåŒºåŸŸä¸­ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å°†å…±äº«åŒä¸€ä¸ª <code>shared_var</code> å˜é‡ã€‚</p><p>åœ¨å¹¶è¡ŒåŒºåŸŸå†…ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å¹¶ä¿®æ”¹ <code>shared_var</code> çš„å€¼ã€‚å› æ­¤ï¼Œåœ¨ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯¹ <code>shared_var</code> æ‰§è¡Œäº†åŠ ä¸€æ“ä½œï¼Œå¹¶è¾“å‡ºäº†å½“å‰çº¿ç¨‹å·å’Œ <code>shared_var</code> çš„å€¼ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ‰€æœ‰çº¿ç¨‹å…±äº«åŒä¸€ä¸ª <code>shared_var</code>ï¼Œå¯èƒ½ä¼šå‘ç”Ÿç«äº‰æ¡ä»¶ï¼Œéœ€è¦è°¨æ…å¤„ç†å¹¶å‘ä¿®æ”¹ã€‚</p><p>æœ€ç»ˆè¾“å‡ºçš„ <code>Final value of shared_var</code> è¡¨ç¤ºå¹¶è¡ŒåŒºåŸŸç»“æŸåçš„ <code>shared_var</code> çš„å€¼ã€‚ç”±äºå¤šä¸ªçº¿ç¨‹å…±äº«è¯¥å˜é‡ï¼Œå› æ­¤æœ€ç»ˆç»“æœå–å†³äºå¹¶å‘ä¿®æ”¹çš„é¡ºåºå’Œæ“ä½œã€‚</p><p>Shareå­å¥å¯ä»¥å°†ä¸€ä¸ªå˜é‡å£°æ˜æˆå…±äº«å˜é‡ï¼Œå¹¶ä¸”åœ¨å¤šä¸ªçº¿ç¨‹å†…å…±äº«ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¹¶è¡Œéƒ¨åˆ†è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œè¦æ±‚å…±äº«å˜é‡è¿›è¡Œä¿æŠ¤ï¼Œå¦åˆ™ä¸è¦éšä¾¿ä½¿ç”¨å…±äº«å˜é‡ï¼Œå°½é‡å°†å…±äº«å˜é‡è½¬æ¢ä¸ºç§æœ‰å˜é‡ä½¿ç”¨ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> i<span class="token punctuation">;</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">shared</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token function">private</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp atomic</span></span>            t<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, t = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 0, t &#x3D; 21i &#x3D; 2, t &#x3D; 22i &#x3D; 9, t &#x3D; 23i &#x3D; 4, t &#x3D; 23i &#x3D; 8, t &#x3D; 25i &#x3D; 5, t &#x3D; 25i &#x3D; 7, t &#x3D; 24i &#x3D; 1, t &#x3D; 24i &#x3D; 3, t &#x3D; 24i &#x3D; 6, t &#x3D; 24<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="reductionå­å¥"><a href="#reductionå­å¥" class="headerlink" title="reductionå­å¥"></a>reductionå­å¥</h2><p><code>reduction</code> å­å¥æ˜¯ OpenMP ä¸­ç”¨äºå¯¹å¹¶è¡Œå¾ªç¯ä¸­çš„å˜é‡æ‰§è¡Œå½’çº¦æ“ä½œçš„ä¸€ç§æŒ‡ä»¤ã€‚å½’çº¦æ“ä½œæŒ‡å°†å¹¶è¡Œå¾ªç¯ä¸­å¤šä¸ªçº¿ç¨‹çš„å±€éƒ¨ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆç»“æœçš„è¿‡ç¨‹ã€‚è¿™ç§æ“ä½œé€šå¸¸ç”¨äºå¯¹å˜é‡è¿›è¡Œç´¯åŠ ã€æ±‚å’Œã€æ±‚ç§¯ç­‰èšåˆè¿ç®—ï¼Œä»¥é¿å…ç«æ€æ¡ä»¶å¹¶æé«˜å¹¶è¡Œç¨‹åºçš„æ€§èƒ½ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹ <code>reduction</code> å­å¥çš„è¯¦ç»†è§£é‡Šå’Œç”¨æ³•ï¼š</p><ul><li><p><strong>ä½œç”¨</strong>ï¼š</p><ul><li>åœ¨å¹¶è¡Œå¾ªç¯ä¸­å¯¹æŒ‡å®šçš„å˜é‡æ‰§è¡Œå½’çº¦æ“ä½œï¼Œå°†å¤šä¸ªçº¿ç¨‹çš„å±€éƒ¨ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆç»“æœã€‚</li><li>å¸¸ç”¨äºæ±‚å’Œã€æ±‚ç§¯ã€æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰èšåˆæ“ä½œã€‚</li></ul></li><li><p><strong>ç”¨æ³•</strong>ï¼š</p><ul><li><p>åœ¨ OpenMP ä¸­ï¼Œ<code>reduction</code> å­å¥ç”¨äºå£°æ˜è¿›è¡Œå½’çº¦æ“ä½œçš„å˜é‡ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">reduction</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">:</span>sum<span class="token punctuation">)</span></span></span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    sum <span class="token operator">+=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>reduction(+:sum)</code> è¡¨ç¤ºå¯¹å˜é‡ <code>sum</code> æ‰§è¡Œå½’çº¦æ“ä½œï¼Œä½¿ç”¨ <code>+</code> æ“ä½œç¬¦å¯¹å±€éƒ¨ç»“æœè¿›è¡Œç´¯åŠ ã€‚</p></li></ul></li><li><p><strong>æ”¯æŒçš„æ“ä½œç¬¦</strong>ï¼š</p><ul><li><code>reduction</code> å­å¥æ”¯æŒå¤šç§æ“ä½œç¬¦ï¼Œå¸¸ç”¨çš„åŒ…æ‹¬ <code>+</code>ã€<code>*</code>ã€<code>-</code>ã€<code>&amp;</code>ã€<code>|</code>ã€<code>^</code>ã€<code>&amp;&amp;</code>ã€<code>||</code>ã€<code>max</code>ã€<code>min</code> ç­‰ã€‚å…·ä½“æ”¯æŒçš„æ“ä½œç¬¦å–å†³äºç¼–è¯‘å™¨å’Œ OpenMP çš„å®ç°ã€‚</li></ul></li><li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li><code>reduction</code> å­å¥ä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹å±€éƒ¨å˜é‡è¿›è¡Œå½’çº¦æ“ä½œï¼Œæœ€åå°†æ‰€æœ‰å±€éƒ¨å˜é‡çš„ç»“æœåˆå¹¶å¾—åˆ°æœ€ç»ˆç»“æœã€‚</li><li>åœ¨å¹¶è¡Œå¾ªç¯ç»“æŸåï¼Œå˜é‡çš„å€¼ä¼šè¢«å­˜å‚¨åœ¨åŸå§‹å˜é‡ä¸­ã€‚</li></ul></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><ul><li><p>å¯¹æ•°ç»„ä¸­å…ƒç´ æ±‚å’Œçš„ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">reduction</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">:</span>sum<span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        sum <span class="token operator">+=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Sum = %d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>reduction(+:sum)</code> è¡¨ç¤ºå¯¹å˜é‡ <code>sum</code> æ‰§è¡Œç´¯åŠ æ“ä½œï¼Œå°†å„ä¸ªçº¿ç¨‹çš„å±€éƒ¨ç´¯åŠ ç»“æœæœ€ååˆå¹¶åˆ° <code>sum</code> ä¸­ã€‚</p></li></ul></li></ul><p><code>reduction</code> å­å¥æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œèƒ½å¤Ÿç®€åŒ–å¯¹å¹¶è¡Œå¾ªç¯ä¸­å˜é‡çš„å½’çº¦æ“ä½œï¼Œæé«˜å¹¶è¡Œç¨‹åºçš„æ€§èƒ½ï¼Œå‡å°‘äº†æ‰‹åŠ¨åŒæ­¥å’Œåˆå¹¶çš„å¤æ‚åº¦ã€‚</p><p><code>reduction</code> å­å¥æ˜¯ OpenMP ä¸­ç”¨äºæ‰§è¡Œå¹¶è¡Œå½’çº¦æ“ä½œçš„å…³é”®æŒ‡ä»¤ã€‚å®ƒå…è®¸åœ¨å¹¶è¡Œå¾ªç¯ä¸­å¯¹æŒ‡å®šçš„å˜é‡æ‰§è¡Œå½’çº¦æ“ä½œï¼Œå¹¶å°†å„ä¸ªçº¿ç¨‹çš„å±€éƒ¨ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆç»“æœã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>reduction</code> å­å¥çš„ç”¨æ³•ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// ä½¿ç”¨ reduction å­å¥å¯¹ sum å˜é‡æ‰§è¡Œå½’çº¦æ“ä½œ</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">reduction</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">:</span>sum<span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        sum <span class="token operator">+=</span> i<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: sum = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">// åœ¨å¹¶è¡Œå¾ªç¯ç»“æŸåï¼Œè¾“å‡ºæœ€ç»ˆçš„ sum å€¼</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Final sum value after reduction: %d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel for reduction(+:sum)</code> å°† <code>sum</code> å˜é‡æŒ‡å®šä¸º <code>+</code> å½’çº¦è¿ç®—ç¬¦çš„å½’çº¦å˜é‡ã€‚åœ¨å¹¶è¡Œå¾ªç¯ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ <code>sum</code> å˜é‡ï¼Œå¹¶è¡Œåœ°å¯¹å…¶è¿›è¡Œç´¯åŠ æ“ä½œã€‚</p><p>å…³é”®ç‚¹æ˜¯ <code>reduction(+:sum)</code> ä¸­çš„ <code>+</code> è¡¨ç¤ºè¿›è¡Œæ±‚å’Œæ“ä½œï¼Œè¿™æ„å‘³ç€å„ä¸ªçº¿ç¨‹å„è‡ªè®¡ç®—è‡ªå·±çš„å±€éƒ¨å’Œï¼Œå¹¶åœ¨å¾ªç¯ç»“æŸæ—¶å°†æ‰€æœ‰å±€éƒ¨å’Œåˆå¹¶ä¸ºä¸€ä¸ªæœ€ç»ˆçš„æ€»å’Œã€‚è¿™ç§å½’çº¦æ“ä½œç¡®ä¿äº†å¹¶è¡Œè®¡ç®—çš„æ­£ç¡®æ€§ï¼Œæœ€ç»ˆå¾—åˆ°äº†æ­£ç¡®çš„æ€»å’Œç»“æœã€‚</p><p><code>reduction</code> å­å¥å¯ä»¥ç”¨äºå¤šç§å½’çº¦æ“ä½œï¼Œå¦‚æ±‚å’Œã€ä¹˜ç§¯ã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€æ´è€Œæœ‰æ•ˆçš„æ–¹æ³•æ¥åœ¨å¹¶è¡Œè®¡ç®—ä¸­æ‰§è¡Œå½’çº¦æ“ä½œï¼Œä»¥æé«˜ç¨‹åºæ€§èƒ½å¹¶ç¡®ä¿è®¡ç®—çš„å‡†ç¡®æ€§ã€‚</p><p>reductionå­å¥å¯ä»¥å¯¹ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªæ“ä½œç¬¦ï¼Œç„¶åæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½ä¼šåˆ›å»ºè¿™ä¸ªå‚æ•°çš„ç§æœ‰æ‹·è´ï¼Œåœ¨å¹¶è¡ŒåŒºåŸŸç»“æŸåï¼Œè¿­ä»£è¿è¡ŒæŒ‡å®šçš„è¿ç®—ç¬¦ï¼Œå¹¶æ›´æ–°åŸå‚æ•°çš„å€¼ã€‚<br>ç§æœ‰æ‹·è´å˜é‡çš„åˆå§‹å€¼ä¾èµ–äºredtutionçš„è¿ç®—ç±»å‹ã€‚<br>å…·ä½“ç”¨æ³•å¦‚ä¸‹<br>reduction(operator:list)</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">reduction</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token operator">:</span> sum<span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum <span class="token operator">+=</span> i<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sum = %d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">0215457689sum &#x3D; 55<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="copyinå­å¥"><a href="#copyinå­å¥" class="headerlink" title="copyinå­å¥"></a>copyinå­å¥</h2><p><code>copyin</code> å­å¥æ˜¯ OpenMP ä¸­çš„ä¸€ä¸ªæŒ‡ä»¤ï¼Œç”¨äºå°†æ•°æ®ä»ä¸»çº¿ç¨‹å¤åˆ¶åˆ°æ‰€æœ‰çº¿ç¨‹çš„ç§æœ‰å‰¯æœ¬ä¸­ã€‚å®ƒç¡®ä¿äº†å¹¶è¡ŒåŒºåŸŸä¸­æ‰€æœ‰çº¿ç¨‹éƒ½ä½¿ç”¨ç›¸åŒçš„åˆå§‹æ•°æ®ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>copyin</code> å­å¥çš„ç®€å•ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> initial_data <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token comment">// ä½¿ç”¨ copyin å­å¥å°† initial_data æ•°æ®å¤åˆ¶åˆ°å¹¶è¡ŒåŒºåŸŸä¸­çš„æ‰€æœ‰çº¿ç¨‹çš„ç§æœ‰å‰¯æœ¬</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token function">copyin</span><span class="token punctuation">(</span>initial_data<span class="token punctuation">)</span></span></span>    <span class="token punctuation">&#123;</span>        <span class="token comment">// è·å–æ¯ä¸ªçº¿ç¨‹çš„ç§æœ‰å‰¯æœ¬çš„åˆå§‹æ•°æ®å€¼</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: initial_data = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> initial_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel copyin(initial_data)</code> å°† <code>initial_data</code> å˜é‡çš„å€¼å¤åˆ¶åˆ°æ‰€æœ‰çº¿ç¨‹çš„ç§æœ‰å‰¯æœ¬ä¸­ï¼Œä»¥ç¡®ä¿åœ¨å¹¶è¡ŒåŒºåŸŸä¸­æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç›¸åŒçš„åˆå§‹æ•°æ®ã€‚</p><p>å¹¶è¡ŒåŒºåŸŸå†…çš„æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®ç§æœ‰å‰¯æœ¬çš„ <code>initial_data</code>ï¼Œå¹¶ä¸”è¿™äº›ç§æœ‰å‰¯æœ¬éƒ½å…·æœ‰ç›¸åŒçš„åˆå§‹å€¼ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰“å°äº†è‡ªå·±çš„çº¿ç¨‹ç¼–å·å’Œ <code>initial_data</code> çš„å€¼ï¼Œè¿™äº›å€¼éƒ½æ˜¯ä»ä¸»çº¿ç¨‹å¤åˆ¶åˆ°å„è‡ªç§æœ‰å‰¯æœ¬çš„ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>copyin</code> å­å¥é€šå¸¸ç”¨äºç¡®ä¿å¹¶è¡ŒåŒºåŸŸä¸­æ‰€æœ‰çº¿ç¨‹æ‹¥æœ‰ç›¸åŒçš„åˆå§‹æ•°æ®ã€‚</p><p>copyinå­å¥å¯ä»¥å°†ä¸»çº¿ç¨‹ä¸­å˜é‡çš„å€¼æ‹·è´åˆ°å„ä¸ªçº¿ç¨‹çš„ç§æœ‰å˜é‡ä¸­ï¼Œè®©å„ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ä¸»çº¿ç¨‹ä¸­çš„å˜é‡ã€‚<br>copyinçš„å‚æ•°å¿…é¡»è¦è¢«å£°æ˜ç§°threadprivateï¼Œå¯¹äºç±»çš„è¯åˆ™å¹¶ä¸”å¸¦æœ‰æ˜ç¡®çš„æ‹·è´èµ‹å€¼æ“ä½œç¬¦ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> g <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp <span class="token function">threadprivate</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> </span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span>   </span></span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>g <span class="token operator">=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %d, g = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"global g: %d\n"</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">copyin</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %d, g = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">thread 0, g &#x3D; 0thread 1, g &#x3D; 1thread 2, g &#x3D; 2thread 3, g &#x3D; 3global g: 0thread 1, g &#x3D; 0thread 2, g &#x3D; 0thread 0, g &#x3D; 0thread 3, g &#x3D; 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="staticå­—å¥"><a href="#staticå­—å¥" class="headerlink" title="staticå­—å¥"></a>staticå­—å¥</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>static</code> å­—å¥ç”¨äºæŒ‡å®šå¹¶è¡Œå¾ªç¯ä¸­è¿­ä»£å˜é‡çš„å­˜å‚¨æ–¹å¼ã€‚å®ƒå†³å®šäº†è¿­ä»£å˜é‡çš„å­˜å‚¨åˆ†é…æ–¹å¼å’ŒèŒƒå›´ã€‚</p><p>åœ¨ <code>parallel for</code> å¾ªç¯ä¸­ï¼Œè¿­ä»£å˜é‡å¯ä»¥é‡‡ç”¨ä¸åŒçš„å­˜å‚¨æ–¹å¼ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ <code>static</code> å­—å¥ã€‚<code>static</code> å­—å¥æŒ‡å®šäº†åœ¨å¹¶è¡Œå¾ªç¯ä¸­ï¼Œè¿­ä»£å˜é‡çš„å­˜å‚¨åˆ†é…æ˜¯é™æ€çš„ï¼Œå³åœ¨ç¼–è¯‘æ—¶å°±è¿›è¡Œåˆ†é…ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº† <code>static</code> å­—å¥çš„ç”¨æ³•ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token comment">// ä½¿ç”¨ static å­—å¥æŒ‡å®šè¿­ä»£å˜é‡ i çš„å­˜å‚¨åˆ†é…æ–¹å¼ä¸ºé™æ€</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: i = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel for schedule(static)</code> ä¸­çš„ <code>static</code> å­—å¥æŒ‡å®šäº†è¿­ä»£å˜é‡ <code>i</code> çš„å­˜å‚¨åˆ†é…æ–¹å¼ä¸ºé™æ€ã€‚è¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶ï¼Œè¿­ä»£å˜é‡ <code>i</code> çš„å†…å­˜ç©ºé—´å°†è¢«åˆ†é…ï¼Œå¹¶åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½ä¿æŒç›¸åŒçš„å†…å­˜ä½ç½®ã€‚</p><p><code>static</code> å­—å¥è¿˜å¯ä»¥ä¸ <code>schedule</code> æŒ‡å®šå¾ªç¯è¿­ä»£æ–¹å¼ä¸€èµ·ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>schedule(static, chunk_size)</code>ï¼Œè¿™æ ·å¯ä»¥è¿›ä¸€æ­¥æ§åˆ¶å¾ªç¯è¿­ä»£çš„åˆ†å—å¤§å°ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>static</code> å­—å¥æ˜¯ OpenMP ä¸­å¸¸ç”¨çš„ä¸€ç§è¿­ä»£å˜é‡å­˜å‚¨æ–¹å¼ï¼Œå®ƒé€‚ç”¨äºå¹¶è¡Œå¾ªç¯ä¸­è¿­ä»£å˜é‡è®¿é—®é¢‘ç‡è¾ƒä¸ºå‡åŒ€çš„æƒ…å†µã€‚</p><p>å½“parallel foræ²¡æœ‰å¸¦scheduleæ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ç³»ç»Ÿéƒ½ä¼šé»˜è®¤é‡‡ç”¨staticè°ƒåº¦æ–¹å¼ã€‚å‡è®¾æœ‰næ¬¡å¾ªç¯è¿­ä»£ï¼Œtä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹å¤§çº¦åˆ†åˆ°n&#x2F;tæ¬¡è¿­ä»£ã€‚è¿™ç§è°ƒåº¦æ–¹å¼ä¼šå°†å¾ªç¯è¿­ä»£å‡åŒ€çš„åˆ†å¸ƒç»™å„ä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹è¿­ä»£æ¬¡æ•°å¯èƒ½ç›¸å·®1æ¬¡ã€‚ç”¨æ³•ä¸ºschedule(method)ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, thread %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 0, thread 0i &#x3D; 4, thread 2i &#x3D; 1, thread 0i &#x3D; 7, thread 5i &#x3D; 8, thread 6i &#x3D; 2, thread 1i &#x3D; 9, thread 7i &#x3D; 3, thread 1i &#x3D; 5, thread 3i &#x3D; 6, thread 4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Sizeå‚æ•°çš„ç”¨æ³•"><a href="#Sizeå‚æ•°çš„ç”¨æ³•" class="headerlink" title="Sizeå‚æ•°çš„ç”¨æ³•"></a>Sizeå‚æ•°çš„ç”¨æ³•</h5><p>åœ¨ OpenMP çš„ <code>schedule</code> æŒ‡ä»¤ä¸­ï¼Œ<code>size</code> å‚æ•°ç”¨äºæŒ‡å®šåˆ†å—çš„å¤§å°ï¼ˆchunk sizeï¼‰ï¼Œå®ƒå½±å“äº†å¹¶è¡Œå¾ªç¯ä¸­è¿­ä»£çš„åˆ†é…æ–¹å¼ã€‚</p><p>åœ¨å¾ªç¯å¹¶è¡ŒåŒ–ä¸­ï¼Œé€šå¸¸è¿­ä»£æ˜¯åˆ†é…ç»™ä¸åŒçº¿ç¨‹çš„ã€‚<code>size</code> å‚æ•°æ§åˆ¶äº†æ¯ä¸ªçº¿ç¨‹è·å–çš„è¿­ä»£æ¬¡æ•°ã€‚</p><p>å½“ <code>schedule</code> æŒ‡å®šä¸º <code>static</code> æˆ–è€… <code>dynamic</code> æ—¶ï¼Œ<code>size</code> å‚æ•°å¯ä»¥ç”¨äºæ§åˆ¶åˆ†å—çš„å¤§å°ã€‚å½“ <code>schedule</code> è®¾ç½®ä¸º <code>static</code> æ—¶ï¼Œ<code>size</code> æŒ‡å®šçš„æ˜¯æ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…çš„è¿­ä»£æ¬¡æ•°ã€‚åœ¨ <code>schedule(static, size)</code> ä¸­ï¼Œ<code>size</code> è¡¨ç¤ºæ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…çš„è¿ç»­è¿­ä»£æ¬¡æ•°ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token comment">// ä½¿ç”¨ static åˆ†é…è¿­ä»£</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: i = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel for schedule(static, 3)</code> æŒ‡å®šäº†é™æ€è°ƒåº¦ï¼Œæ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…äº†å¤§å°ä¸º 3 çš„è¿ç»­è¿­ä»£ã€‚è¿™æ ·ï¼Œ10 ä¸ªè¿­ä»£ä¼šè¢«åˆ†ä¸ºä¸‰å—ï¼ˆ3, 3, 3, 1ï¼‰åˆ†é…ç»™çº¿ç¨‹ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>size</code> å‚æ•°çš„å…·ä½“æ•ˆæœå–å†³äºå®é™…é—®é¢˜çš„ç‰¹å¾å’Œç¡¬ä»¶ç¯å¢ƒã€‚åœ¨é€‰æ‹© <code>size</code> å‚æ•°æ—¶ï¼Œåº”è¯¥æ ¹æ®é—®é¢˜çš„ç‰¹æ€§ã€æ•°æ®å¤§å°å’Œè®¡ç®—èµ„æºç­‰å› ç´ è¿›è¡Œè°ƒæ•´ï¼Œä»¥è·å¾—æœ€ä½³çš„æ€§èƒ½ã€‚</p><p>åœ¨é™æ€è°ƒåº¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šsizeå‚æ•°æ¥åˆ†é…ä¸€ä¸ªçº¿ç¨‹çš„æœ€å°è¿­ä»£æ¬¡æ•°ã€‚æŒ‡å®šsizeä¹‹åï¼Œæ¯ä¸ªçº¿ç¨‹æœ€å¤šå¯èƒ½ç›¸å·®sizeæ¬¡è¿­ä»£ã€‚å¯ä»¥æ¨æ–­å‡º[0,size-1]çš„è¿­ä»£æ˜¯åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸Šè¿è¡Œï¼Œä¾æ¬¡ç±»æ¨ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span><span class="token keyword">static</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, thread %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 6, thread 2i &#x3D; 3, thread 1i &#x3D; 4, thread 1i &#x3D; 0, thread 0i &#x3D; 5, thread 1i &#x3D; 9, thread 3i &#x3D; 1, thread 0i &#x3D; 7, thread 2i &#x3D; 2, thread 0i &#x3D; 8, thread 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="dynamicå­å¥æŒ‡ä»¤"><a href="#dynamicå­å¥æŒ‡ä»¤" class="headerlink" title="dynamicå­å¥æŒ‡ä»¤"></a>dynamicå­å¥æŒ‡ä»¤</h2><p>åœ¨ OpenMP ä¸­ï¼Œ<code>schedule</code> æŒ‡ä»¤å¯ç”¨äºæŒ‡å®šå¹¶è¡Œå¾ªç¯ä¸­è¿­ä»£çš„è°ƒåº¦æ–¹å¼ã€‚<code>schedule(dynamic, chunk_size)</code> æ˜¯å…¶ä¸­ä¸€ç§è°ƒåº¦æ–¹å¼ï¼Œå…¶ä¸­çš„ <code>dynamic</code> å­å¥æŒ‡ç¤ºç¼–è¯‘å™¨ä»¥åŠ¨æ€æ–¹å¼è°ƒåº¦å¾ªç¯çš„è¿­ä»£ï¼Œ<code>chunk_size</code> è¡¨ç¤ºæ¯æ¬¡åˆ†é…ç»™çº¿ç¨‹çš„è¿­ä»£æ•°é‡ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº† <code>schedule(dynamic, chunk_size)</code> çš„ç”¨æ³•ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token comment">// ä½¿ç”¨ dynamic å­å¥å’Œ chunk_size ä¸º 2 è¿›è¡Œå¾ªç¯çš„åŠ¨æ€è°ƒåº¦</span>    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span>dynamic<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span></span></span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: i = %d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>#pragma omp parallel for schedule(dynamic, 2)</code> æŒ‡å®šäº†åŠ¨æ€è°ƒåº¦ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼šæŒ‰éœ€è·å–ä¸¤ä¸ªè¿­ä»£ã€‚å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆå®ƒæ‰€åˆ†é…çš„ä¸¤ä¸ªè¿­ä»£åï¼Œå®ƒå°†è·å–æ›´å¤šçš„è¿­ä»£ã€‚è¿™ç§æ–¹å¼å¯åœ¨å¹¶è¡Œå¾ªç¯ä¸­å®ç°æ›´çµæ´»çš„è´Ÿè½½å¹³è¡¡ï¼Œå› ä¸ºçº¿ç¨‹ä¼šåŠ¨æ€åœ°è·å–è¿­ä»£ï¼Œé¿å…äº†é™æ€åˆ†é…ä¸­å¯èƒ½å‡ºç°çš„æŸäº›çº¿ç¨‹å¤„ç†çš„å·¥ä½œé‡è¾ƒå°‘è€Œå…¶ä»–çº¿ç¨‹å¤„ç†çš„å·¥ä½œé‡è¾ƒå¤šçš„æƒ…å†µã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>schedule(dynamic, chunk_size)</code> ä¸­çš„ <code>chunk_size</code> å†³å®šäº†æ¯æ¬¡åˆ†é…ç»™çº¿ç¨‹çš„è¿­ä»£æ•°é‡ã€‚è¿‡å°çš„ <code>chunk_size</code> å¯èƒ½ä¼šå¢åŠ è°ƒåº¦å¼€é”€ï¼Œå› æ­¤éœ€è¦æ ¹æ®å®é™…é—®é¢˜çš„ç‰¹æ€§å’Œç¡¬ä»¶ç¯å¢ƒè¿›è¡Œè°ƒæ•´ä»¥è·å–æ›´å¥½çš„æ€§èƒ½ã€‚</p><p>åŠ¨æ€åˆ†é…æ˜¯å°†è¿­ä»£åŠ¨æ€åˆ†é…åˆ°å„ä¸ªçº¿ç¨‹ï¼Œä¾èµ–äºè¿è¡Œä½ çŠ¶æ€æ¥ç¡®å®šï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•åƒé™æ€è°ƒåº¦ä¸€æ ·äº‹å…ˆé¢„è®¡è¿›ç¨‹çš„åˆ†é…ã€‚å“ªä¸€ä¸ªçº¿ç¨‹å…ˆå¯åŠ¨ï¼Œå“ªä¸€ä¸ªçº¿ç¨‹è¿­ä»£å¤šä¹…ï¼Œè¿™äº›éƒ½å–å†³äºç³»ç»Ÿçš„èµ„æºå’Œçº¿ç¨‹çš„è°ƒåº¦ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span> <span class="token function">schedule</span><span class="token punctuation">(</span>dynamic<span class="token punctuation">)</span></span></span><span class="token comment">// END OF YOUR CODE</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, thread %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">i &#x3D; 0, thread 0i &#x3D; 3, thread 3i &#x3D; 8, thread 3i &#x3D; 9, thread 7i &#x3D; 2, thread 1i &#x3D; 4, thread 4i &#x3D; 5, thread 5i &#x3D; 7, thread 0i &#x3D; 1, thread 2i &#x3D; 6, thread 6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-get-num-procs"><a href="#omp-get-num-procs" class="headerlink" title="omp_get_num_procs"></a>omp_get_num_procs</h2><p>è¿”å›è°ƒç”¨å‡½æ•°æ—¶å¯ç”¨çš„å¤„ç†å™¨æ•°ç›®ã€‚<br>å‡½æ•°åŸå‹<br>int omp_get_num_procs(void)</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_num_procs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel  </span></span><span class="token punctuation">&#123;</span>    <span class="token comment">// YOUR CODE HERE</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_num_procs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// END OF YOUR CODE</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">888888888<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-get-num-threads"><a href="#omp-get-num-threads" class="headerlink" title="omp_get_num_threads"></a>omp_get_num_threads</h2><p>è¿”å›å½“å‰å¹¶è¡ŒåŒºåŸŸä¸­çš„æ´»åŠ¨çº¿ç¨‹ä¸ªæ•°ï¼Œå¦‚æœåœ¨å¹¶è¡ŒåŒºåŸŸå¤–éƒ¨è°ƒç”¨ï¼Œè¿”å›1<br>int omp_get_num_threads(void)<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">188888888<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;printf(&quot;%d\n&quot;, omp_get_num_threads());#pragma omp parallel  &#123;   &#x2F;&#x2F; YOUR CODE HEREprintf(&quot;%d\n&quot;, omp_get_num_threads());&#x2F;&#x2F; YOUR CODE HERE&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-get-thread-num"><a href="#omp-get-thread-num" class="headerlink" title="omp_get_thread_num"></a>omp_get_thread_num</h2><p>è¿”å›å½“å‰çš„çº¿ç¨‹å·ï¼Œæ³¨æ„ä¸è¦å’Œä¹‹å‰çš„omp_get_num_threadsæ··æ·†ã€‚<br>å‡½æ•°åŸå‹<br>int omp_get_thread_num(void)<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">002134567<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;printf(&quot;%d\n&quot;, omp_get_thread_num());#pragma omp parallel  &#123;        &#x2F;&#x2F; YOUR CODE HERE    printf(&quot;%d\n&quot;, omp_get_thread_num());    &#x2F;&#x2F; END OF YOUR CODE&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-set-num-threads"><a href="#omp-set-num-threads" class="headerlink" title="omp_set_num_threads"></a>omp_set_num_threads</h2><p>è®¾ç½®è¿›å…¥å¹¶è¡ŒåŒºåŸŸæ—¶ï¼Œå°†è¦åˆ›å»ºçš„çº¿ç¨‹ä¸ªæ•°<br>å‡½æ•°åŸå‹<br>int omp_set_num_threads(void)<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">0 of 4 threads2 of 4 threads1 of 4 threads3 of 4 threads<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;    &#x2F;&#x2F; YOUR CODE HERE    omp_set_num_threads(4);    &#x2F;&#x2F; END OF YOUR CODE#pragma omp parallel  &#123;printf(&quot;%d of %d threads\n&quot;, omp_get_thread_num(), omp_get_num_threads());&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-in-parallel"><a href="#omp-in-parallel" class="headerlink" title="omp_in_parallel"></a>omp_in_parallel</h2><p>å¯ä»¥åˆ¤æ–­å½“å‰æ˜¯å¦å¤„äºå¹¶è¡ŒçŠ¶æ€<br>å‡½æ•°åŸå‹<br>int omp_in_parallel();<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">01111<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;printf(&quot;%d\n&quot;, omp_in_parallel());omp_set_num_threads(4);#pragma omp parallel  &#123;    &#x2F;&#x2F; YOUR CODE HEREprintf(&quot;%d\n&quot;, omp_in_parallel());    &#x2F;&#x2F; END OF YOUR CODE&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-get-max-threads"><a href="#omp-get-max-threads" class="headerlink" title="omp_get_max_threads"></a>omp_get_max_threads</h2><p>è¯¥å‡½æ•°å¯ä»¥ç”¨äºè·å¾—æœ€å¤§çš„çº¿ç¨‹æ•°é‡ï¼Œæ ¹æ®OpenMPæ–‡æ¡£ä¸­çš„è§„å®šï¼Œè¿™ä¸ªæœ€å¤§æ•°é‡æ˜¯æŒ‡åœ¨ä¸ä½¿ç”¨num_threadsçš„æƒ…å†µä¸‹ï¼ŒOpenMPå¯ä»¥åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°é‡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªå€¼æ˜¯ç¡®å®šçš„ï¼Œä¸å®ƒæ˜¯å¦åœ¨å¹¶è¡ŒåŒºåŸŸè°ƒç”¨æ²¡æœ‰å…³ç³»ã€‚<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">84444<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;    &#x2F;&#x2F; YOUR CODE HEREprintf(&quot;%d\n&quot;, omp_get_max_threads());&#x2F;&#x2F; END OF YOUR CODEomp_set_num_threads(4);#pragma omp parallel  &#123;printf(&quot;%d\n&quot;, omp_get_max_threads());&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="OpenMPä¸­äº’æ–¥é”"><a href="#OpenMPä¸­äº’æ–¥é”" class="headerlink" title="OpenMPä¸­äº’æ–¥é”"></a>OpenMPä¸­äº’æ–¥é”</h2><p>Openmpä¸­æœ‰æä¾›ä¸€ç³»åˆ—å‡½æ•°æ¥è¿›è¡Œé”çš„æ“ä½œï¼Œä¸€èˆ¬æ¥è¯´å¸¸ç”¨çš„å‡½æ•°çš„ä¸‹é¢4ä¸ª<br>void omp_init_lock(omp_lock*) åˆå§‹åŒ–äº’æ–¥é”<br>void omp_destroy_lock(omp_lock*) é”€æ¯äº’æ–¥é”<br>void omp_set_lock(omp_lock*) è·å¾—äº’æ–¥é”<br>void omp_unset_lock(omp_lock*) é‡Šæ”¾äº’æ–¥é”<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">0+0-1+1-4+4-2+2-3+3-<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;omp.h></span></span><span class="token keyword">static</span> <span class="token class-name">omp_lock_t</span> lock<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token function">omp_init_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">omp parallel <span class="token keyword">for</span>   </span></span><span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// YOUR CODE HERE</span><span class="token function">omp_set_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// END OF YOUR CODE</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d+\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d-\n"</span><span class="token punctuation">,</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// YOUR CODE HERE</span><span class="token function">omp_unset_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// END OF YOUR CODE</span><span class="token punctuation">&#125;</span><span class="token function">omp_destroy_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-test-lock"><a href="#omp-test-lock" class="headerlink" title="omp_test_lock"></a>omp_test_lock</h2><p>é™¤äº†ä¹‹å‰ä»‹ç»çš„4ä¸ªå‡½æ•°ä¹‹å¤–ï¼Œä¸äº’æ–¥é”çš„ç›¸å…³çš„å‡½æ•°è¿˜æœ‰ä¸€ä¸ªï¼Œç”¨æ¥å°è¯•è·å¾—é”ã€‚<br>è¯¥å‡½æ•°å¯ä»¥çœ‹ä½œæ˜¯omp_set_lockçš„éé˜»å¡ç‰ˆæœ¬ã€‚<br>å‡½æ•°åŸå‹<br>bool omp_test_lock(omp_lock*)<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">0+fail to get lockfail to get lockfail to get lock0-2+2-<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;static omp_lock_t lock;int main(int argc, char* argv[])&#123;    int i;omp_init_lock(&amp;lock); #pragma omp parallel for   for (i &#x3D; 0; i &lt; 5; ++i)&#123;    &#x2F;&#x2F; YOUR CODE HEREif (omp_test_lock(&amp;lock))&#x2F;&#x2F; END OF YOUR CODE&#123;printf(&quot;%d+\n&quot;, omp_get_thread_num());printf(&quot;%d-\n&quot;, omp_get_thread_num());omp_unset_lock(&amp;lock);&#125;else&#123;printf(&quot;fail to get lock\n&quot;);&#125;&#125;omp_destroy_lock(&amp;lock);return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-set-dynamic"><a href="#omp-set-dynamic" class="headerlink" title="omp_set_dynamic"></a>omp_set_dynamic</h2><p>è¯¥å‡½æ•°å¯ä»¥è®¾ç½®æ˜¯å¦å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´å¹¶è¡ŒåŒºåŸŸçš„çº¿ç¨‹æ•°ã€‚<br>å‡½æ•°åŸå‹ï¼š<br>void omp_set_dynamic(int)<br>å½“å‚æ•°ä¸º0æ—¶ï¼ŒåŠ¨æ€è°ƒæ•´è¢«ç¦ç”¨ã€‚<br>å½“å‚æ•°ä¸ºé0å€¼æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒæ•´çº¿ç¨‹ä»¥æœ€ä½³åˆ©ç”¨ç³»ç»Ÿèµ„æºã€‚<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">0123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;    int i;    &#x2F;&#x2F; YOUR CODE HEREomp_set_dynamic(1);&#x2F;&#x2F; END OF YOUR CODE#pragma omp parallel forfor (i &#x3D; 0; i &lt; 4; i++)&#123;printf(&quot;%d\n&quot;, omp_get_thread_num());&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="omp-get-dynamic"><a href="#omp-get-dynamic" class="headerlink" title="omp_get_dynamic"></a>omp_get_dynamic</h2><p>è¯¥å‡½æ•°å¯ä»¥è¿”å›å½“å‰ç¨‹åºæ˜¯å¦å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€è°ƒæ•´å¹¶è¡ŒåŒºåŸŸçš„çº¿ç¨‹æ•°ã€‚<br>å‡½æ•°åŸå‹<br>int omp_get_dynamic()<br>å½“è¿”å›å€¼ä¸ºé0æ—¶è¡¨ç¤ºå…è®¸ç³»ç»ŸåŠ¨æ€è°ƒæ•´çº¿ç¨‹ã€‚<br>å½“è¿”å›å€¼ä¸º0æ—¶è¡¨ç¤ºä¸å…è®¸ã€‚<br><em>æ³¨æ„ï¼šç”±äºç¨‹åºå¹¶è¡Œæ‰§è¡Œï¼Œæ¯æ¬¡è¾“å‡ºçš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</em></p><p><strong>è¿è¡Œç»“æœ</strong></p><pre class="line-numbers language-none"><code class="language-none">01111<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-omp" data-language="omp"><code class="language-omp">#include &lt;stdio.h&gt;#include &lt;omp.h&gt;int main(int argc, char* argv[])&#123;    int i;printf(&quot;%d\n&quot;, omp_get_dynamic());omp_set_dynamic(1);#pragma omp parallel forfor (i &#x3D; 0; i &lt; 4; i++)&#123;    &#x2F;&#x2F; YOUR CODE HEREprintf(&quot;%d\n&quot;, omp_get_dynamic());&#x2F;&#x2F; END OF YOUR CODE&#125;return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åˆ†å¸ƒå¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†å¸ƒå¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pthreads</title>
      <link href="/posts/ef25.html"/>
      <url>/posts/ef25.html</url>
      
        <content type="html"><![CDATA[<h1 id="Pthreads"><a href="#Pthreads" class="headerlink" title="Pthreads"></a>Pthreads</h1><h2 id="åˆ›å»ºå’Œç»ˆæ­¢"><a href="#åˆ›å»ºå’Œç»ˆæ­¢" class="headerlink" title="åˆ›å»ºå’Œç»ˆæ­¢"></a>åˆ›å»ºå’Œç»ˆæ­¢</h2><p>æœ¬èŠ‚å±•ç¤ºäº†ä¸¤ä¸ªæœ€åŸºæœ¬çš„çº¿ç¨‹ç®¡ç†å‡½æ•°â€”â€”åˆ›å»ºä¸ç»ˆæ­¢çº¿ç¨‹ã€‚</p><ul><li><code>pthread.h</code>å¤´æ–‡ä»¶çš„å¼•å…¥</li><li><code>pthread_create</code>åˆ›å»ºçº¿ç¨‹</li><li><code>pthread_exit</code>ç»ˆæ­¢çº¿ç¨‹</li></ul><p>æ¬¢è¿æ¥åˆ°Posix Threadsçš„ä¸–ç•Œã€‚</p><p>ä¸ºäº†ç¼–å†™Pthreadsç¨‹åºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åº”åŒ…å«å¤´æ–‡ä»¶<code>&lt;pthread.h&gt;</code>ã€‚è¿™ä¸ªå¤´æ–‡ä»¶åŒ…å«äº†Pthreadsç¨‹åºçš„å¿…è¦å‡½æ•°ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¼•å…¥è¿™äº›å‡½æ•°å®ç°çº¿ç¨‹åŒ–çš„åŠŸèƒ½ã€‚</p><h3 id="å‡½æ•°è¯´æ˜"><a href="#å‡½æ•°è¯´æ˜" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>åˆ›å»ºçº¿ç¨‹</p><pre class="line-numbers language-none"><code class="language-none">int pthread_create(pthread_t * thread,    const pthread_attr_t * attr,   void * (*start_routine)(void *),    void *arg);å‚æ•°ï¼šthread - æŒ‡å‘çº¿ç¨‹çš„æŒ‡é’ˆã€‚attr - æŒ‡å‘çº¿ç¨‹å±æ€§çš„æŒ‡é’ˆã€‚å¯è®¾ç½®ä¸ºNULLã€‚start_routine - ç”¨äºçº¿ç¨‹åŒ–çš„å‡½æ•°æŒ‡é’ˆã€‚arg - æŒ‡å‘å‡½æ•°å‚æ•°çš„æŒ‡é’ˆã€‚è¿”å›å€¼ï¼šçº¿ç¨‹æ ‡è¯†id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pthread_create</code>æ˜¯POSIXçº¿ç¨‹åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚å®ƒæ¥å—å››ä¸ªå‚æ•°ï¼š</p><ol><li><code>pthread_t * thread</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæŒ‡å‘<code>pthread_t</code>ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨æ–°åˆ›å»ºçš„çº¿ç¨‹çš„æ ‡è¯†ç¬¦ã€‚</li><li><code>const pthread_attr_t * attr</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæŒ‡å‘<code>pthread_attr_t</code>ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºè®¾ç½®æ–°çº¿ç¨‹çš„å±æ€§ã€‚å¦‚æœè®¾ç½®ä¸ºNULLï¼Œåˆ™ä½¿ç”¨é»˜è®¤å±æ€§ã€‚</li><li><code>void * (*start_routine)(void *)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°çº¿ç¨‹çš„å…¥å£ç‚¹å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å°†åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œã€‚</li><li><code>void *arg</code>ï¼šè¿™æ˜¯ä¼ é€’ç»™å…¥å£ç‚¹å‡½æ•°çš„å‚æ•°ã€‚</li></ol><p>å‡½æ•°è¿”å›0è¡¨ç¤ºæˆåŠŸï¼Œé0è¡¨ç¤ºå¤±è´¥ã€‚</p><p>é€€å‡ºçº¿ç¨‹</p><pre class="line-numbers language-none"><code class="language-none">void pthread_exit(void *retval);å‚æ•°ï¼šretval - æŒ‡å‘çº¿ç¨‹è¿”å›å€¼çš„æŒ‡é’ˆã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>pthread_exit(void *retval)</code> æ˜¯ä¸€ä¸ªç”¨äºç»ˆæ­¢çº¿ç¨‹çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ª <code>void *</code> ç±»å‹çš„å‚æ•° <code>retval</code>ã€‚å½“çº¿ç¨‹è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå®ƒå°†ç«‹å³è¿”å›ï¼Œå¹¶å°† <code>retval</code> ä½œä¸ºçº¿ç¨‹çš„é€€å‡ºçŠ¶æ€ä¼ é€’ç»™æ“ä½œç³»ç»Ÿã€‚</p><p><code>pthread_exit(void *retval);</code> æ˜¯ä¸€ä¸ªç”¨äºç»ˆæ­¢çº¿ç¨‹çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘è¿”å›å€¼çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ã€‚å½“çº¿ç¨‹è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå®ƒå°†ç«‹å³ç»ˆæ­¢ï¼Œå¹¶å°†æŒ‡å®šçš„è¿”å›å€¼ä¼ é€’ç»™è°ƒç”¨è€…ã€‚</p><p>è¾“å‡ºç»“æœ</p><blockquote><p>In main: creating thread 0<br>In main: creating thread 1<br>Hello World!<br>In main: creating thread 2<br>In main: creating thread 3<br>Hello World!<br>Hello World!<br>Hello World!</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span><span class="token expression"><span class="token number">4</span></span></span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">PrintHello</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>null<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> rc<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> t<span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">&lt;</span>NUM_THREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In main: creating thread %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//your code here</span>rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> PrintHello<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_create() is %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘çº¿ç¨‹ä¼ é€’å‚æ•°-1"><a href="#å‘çº¿ç¨‹ä¼ é€’å‚æ•°-1" class="headerlink" title="å‘çº¿ç¨‹ä¼ é€’å‚æ•°(1)"></a>å‘çº¿ç¨‹ä¼ é€’å‚æ•°(1)</h2><p>æœ¬èŠ‚å±•ç¤ºäº†æœ€åŸºæœ¬çš„çº¿ç¨‹åˆ›å»ºï¼Œä»¥åŠå‘çº¿ç¨‹ä¼ é€’å•ä¸ªå‚æ•°çš„æ–¹æ³•ã€‚</p><ul><li><code>pthread_create</code>åˆ›å»ºçº¿ç¨‹</li><li><code>pthread_exit</code>ç»ˆæ­¢çº¿ç¨‹</li></ul><p>æœ¬ä¾‹ç”¨<code>pthread_create</code>åˆ›å»ºäº†4ä¸ªçº¿ç¨‹ã€‚</p><p>ç”¨äºçº¿ç¨‹åŒ–çš„çº¿ç¨‹æ¥æ”¶å”¯ä¸€ä¸€ä¸ªå‚æ•°ã€‚</p><p>æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½ä¼šæ‰“å°ä¸€æ¡è¡¨æ˜è‡ªå·±çº¿ç¨‹idçš„æ¶ˆæ¯ï¼Œç„¶åè°ƒç”¨<code>pthread_exit</code>ç»ˆæ­¢çº¿ç¨‹ã€‚</p><p>è¾“å‡ºç»“æœ</p><p>ç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœçš„é¡ºåºå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚<br>ä¸ºäº†æ¯”è¾ƒè¾“å‡ºç»“æœï¼Œè¯·å°†ç¯å¢ƒè®¾ç½®ä¸­çš„å¹¶è¡Œæ ¸æ•°è°ƒä¸º1ã€‚<br>æœ¬å®éªŒæš‚ä¸æ”¯æŒæ€§èƒ½è¯„æµ‹ã€‚</p><blockquote><p>In main: creating thread 0<br>In main: creating thread 1<br>Hello World! Itâ€™s me, thread #0!<br>In main: creating thread 2<br>Hello World! Itâ€™s me, thread #1!<br>In main: creating thread 3<br>Hello World! Itâ€™s me, thread #2!<br>Hello World! Itâ€™s me, thread #3!</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span><span class="token expression"><span class="token number">4</span></span></span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">PrintHello</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>threadid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">int</span> tid<span class="token punctuation">;</span> tid <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>threadid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World! It's me, thread #%d!\n"</span><span class="token punctuation">,</span> tid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">free</span><span class="token punctuation">(</span>threadid<span class="token punctuation">)</span><span class="token punctuation">;</span>threadid <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> rc<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> t<span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">&lt;</span>NUM_THREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In main: creating thread %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">int</span><span class="token operator">*</span> id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">*</span>id <span class="token operator">=</span> t<span class="token punctuation">;</span><span class="token comment">//your code here</span>rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> PrintHello<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_create() is %d"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘çº¿ç¨‹ä¼ é€’å‚æ•°-2"><a href="#å‘çº¿ç¨‹ä¼ é€’å‚æ•°-2" class="headerlink" title="å‘çº¿ç¨‹ä¼ é€’å‚æ•°(2)"></a>å‘çº¿ç¨‹ä¼ é€’å‚æ•°(2)</h2><p>æœ¬èŠ‚å±•ç¤ºäº†å‘çº¿ç¨‹ä¼ é€’éç©ºå‚æ•°çš„æ–¹æ³•ã€‚</p><ul><li><code>pthread_create</code>åˆ›å»ºçº¿ç¨‹ï¼Œæ¥æ”¶å¤šå‚æ•°</li></ul><p>å¾ˆå¤šæ—¶å€™ï¼Œç”¨äºçº¿ç¨‹åŒ–çš„å‡½æ•°éœ€è¦æ¥æ”¶ä¸æ­¢ä¸€ä¸ªå‚æ•°ã€‚<br>å½“å¤šä¸ªå‚æ•°éœ€è¦è¢«ä¼ é€’æ—¶ï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªç»“æ„ä½“åŒ…å«æ‰€æœ‰è¦ä¼ çš„å‚æ•°ï¼Œç„¶åç”¨<code>pthread_create</code>ä¼ é€’ä¸€ä¸ªæŒ‡å‘æ”¹ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œæ¥æ‰“ç ´ä¼ é€’å‚æ•°çš„ä¸ªæ•°çš„é™åˆ¶ã€‚</p><h3 id="è¾“å‡ºç»“æœ"><a href="#è¾“å‡ºç»“æœ" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><p>ç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœçš„é¡ºåºå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚</p><blockquote><p>msg: apple on thread 0<br>msg: cat on thread 2<br>msg: banana on thread 1<br>msg: dog on thread 3</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span>   <span class="token expression"><span class="token number">4</span></span></span><span class="token keyword">struct</span> <span class="token class-name">thread_data</span><span class="token punctuation">&#123;</span> <span class="token keyword">int</span>  thread_id<span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>message<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>thread_data_array<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>threadarg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">struct</span> <span class="token class-name">thread_data</span> <span class="token operator">*</span>my_data<span class="token punctuation">;</span> my_data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">thread_data</span> <span class="token operator">*</span><span class="token punctuation">)</span> threadarg<span class="token punctuation">;</span> <span class="token keyword">int</span> taskid<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> msg<span class="token punctuation">;</span>taskid <span class="token operator">=</span> my_data<span class="token operator">-></span>thread_id<span class="token punctuation">;</span> msg <span class="token operator">=</span> my_data<span class="token operator">-></span>message<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"msg: %s on thread %d\n"</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span> taskid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> t<span class="token punctuation">,</span> rc<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> messages<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cat"</span><span class="token punctuation">,</span> <span class="token string">"dog"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> NUM_THREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>thread_data_array<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>thread_id <span class="token operator">=</span> t<span class="token punctuation">;</span> thread_data_array<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>message <span class="token operator">=</span> messages<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//your code here</span>rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> Print<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>thread_data_array<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_create() is %d"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹å±æ€§-çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»-1"><a href="#çº¿ç¨‹å±æ€§-çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»-1" class="headerlink" title="çº¿ç¨‹å±æ€§ - çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»(1)"></a>çº¿ç¨‹å±æ€§ - çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»(1)</h2><p>æœ¬èŠ‚å±•ç¤ºäº†çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»çš„åŸºæœ¬çŸ¥è¯†ã€‚</p><ul><li><code>pthread_join</code>ä¸»çº¿ç¨‹æŒ‚èµ·ç›´è‡³ç›®æ ‡è¿›ç¨‹è¿”å›</li><li><code>pthread_attr_init</code>åˆå§‹åŒ–å±æ€§å¯¹è±¡</li><li><code>pthread_attr_destroy</code>é”€æ¯å±æ€§å¯¹è±¡</li><li><code>pthread_attr_setdetachstate</code>è®¾ç½®å±æ€§å¯¹è±¡çš„åˆ†ç¦»çŠ¶æ€</li></ul><p>å½“ä¸€ä¸ªçº¿ç¨‹è¢«åˆ›å»ºï¼Œå®ƒæœ‰ä¸€ä¸ªå±æ€§å®šä¹‰äº†å®ƒæ˜¯å¯è¿æ¥çš„(joinable)è¿˜æ˜¯åˆ†ç¦»çš„(detached)ã€‚åªæœ‰æ˜¯å¯è¿æ¥çš„çº¿ç¨‹æ‰èƒ½è¢«è¿æ¥(joined)ï¼Œè‹¥æœåˆ›å»ºçš„çº¿ç¨‹æ˜¯åˆ†ç¦»çš„ï¼Œåˆ™ä¸èƒ½è¿æ¥ã€‚<br><code>pthread_join</code>å‡½æ•°é˜»å¡ä¸»çº¿ç¨‹ç›´åˆ°æŒ‡å®šçš„çº¿ç¨‹ç»ˆæ­¢ã€‚â€œè¿æ¥â€æ˜¯ä¸€ç§åœ¨çº¿ç¨‹é—´å®ŒæˆåŒæ­¥çš„æ–¹æ³•ã€‚<br><code>pthread_detach</code>å‡½æ•°å¯ä»¥æ˜¾å¼ç”¨äºåˆ†ç¦»çº¿ç¨‹ã€‚</p><p>ä½¿ç”¨<code>pthread_create</code>çš„attrå‚æ•°å¯ä»¥æ˜¾å¼çš„åˆ›å»ºå¯è¿æ¥æˆ–åˆ†ç¦»çš„çº¿ç¨‹ï¼Œå…¸å‹å››æ­¥å¦‚ä¸‹ï¼š</p><ol><li>å£°æ˜ä¸€ä¸ª<code>pthread_attr_t</code>æ•°æ®ç±»å‹çš„çº¿ç¨‹å±æ€§å˜é‡</li><li>ç”¨<code>pthread_attr_init</code>åˆå§‹åŒ–æ”¹å±æ€§å˜é‡</li><li>ç”¨<code>pthread_attr_setdetachstate</code>è®¾ç½®å¯åˆ†ç¦»çŠ¶æ€å±æ€§</li><li>å®Œäº†åï¼Œç”¨<code>pthread_attr_destroy</code>é‡Šæ”¾å±æ€§æ‰€å ç”¨çš„åº“èµ„æº</li></ol><h3 id="å‡½æ•°è¯´æ˜-1"><a href="#å‡½æ•°è¯´æ˜-1" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>ä¸»çº¿ç¨‹æŒ‚èµ·ç›´è‡³ç›®æ ‡è¿›ç¨‹è¿”å›</p><pre class="line-numbers language-none"><code class="language-none">int pthread_join(pthread_t thread, void **retval);å‚æ•°ï¼šthread - çº¿ç¨‹idï¼Œæ ‡è¯†å”¯ä¸€çº¿ç¨‹ã€‚retval - ç”¨æˆ·å®šä¹‰çš„æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨è¢«ç­‰å¾…çº¿ç¨‹çš„è¿”å›å€¼ã€‚è¿”å›å€¼ï¼š0ä»£è¡¨æˆåŠŸã€‚è‹¥å¤±è´¥ï¼Œè¿”å›çš„åˆ™æ˜¯é”™è¯¯å·ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>pthread_join</code> æ˜¯ä¸€ä¸ªç”¨äºç­‰å¾…çº¿ç¨‹ç»“æŸçš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯è¦ç­‰å¾…çš„çº¿ç¨‹æ ‡è¯†ç¬¦ <code>pthread_t thread</code>ï¼Œå¦ä¸€ä¸ªæ˜¯æŒ‡å‘è¿”å›å€¼çš„æŒ‡é’ˆ <code>void **retval</code>ã€‚å½“çº¿ç¨‹ç»“æŸæ—¶ï¼Œ<code>pthread_join</code> ä¼šå°†çº¿ç¨‹çš„è¿”å›å€¼å­˜å‚¨åœ¨ <code>retval</code> æŒ‡å‘çš„å†…å­˜ä¸­ã€‚</p><p>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> thread<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>thread</code>ï¼šè¦ç­‰å¾…çš„çº¿ç¨‹æ ‡è¯†ç¬¦ã€‚</li><li><code>retval</code>ï¼šæŒ‡å‘è¿”å›å€¼çš„æŒ‡é’ˆã€‚å¦‚æœçº¿ç¨‹æ­£å¸¸ç»“æŸï¼Œè¯¥æŒ‡é’ˆå°†è¢«è®¾ç½®ä¸ºçº¿ç¨‹çš„è¿”å›å€¼ï¼›å¦‚æœçº¿ç¨‹è¢«å…¶ä»–çº¿ç¨‹é˜»å¡ï¼Œè¯¥æŒ‡é’ˆå°†è¢«è®¾ç½®ä¸ºNULLã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å¦‚æœæˆåŠŸç­‰å¾…çº¿ç¨‹ç»“æŸå¹¶è·å–è¿”å›å€¼ï¼Œè¿”å›0ï¼›</li><li>å¦‚æœçº¿ç¨‹å·²ç»ç»“æŸï¼Œè¿”å›0ï¼›</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œè¿”å›é0å€¼ã€‚</li></ul></blockquote><p>åˆå§‹åŒ–å±æ€§å¯¹è±¡</p><pre class="line-numbers language-none"><code class="language-none">int pthread_attr_init(pthread_attr_t *attr);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_attr_init(pthread_attr_t *attr);</code> æ˜¯ä¸€ä¸ªç”¨äºåˆå§‹åŒ–çº¿ç¨‹å±æ€§çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_attr_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆç”¨äºå­˜å‚¨çº¿ç¨‹å±æ€§çš„ç»“æ„ä½“ã€‚å¦‚æœå‡½æ•°æˆåŠŸæ‰§è¡Œï¼Œå®ƒå°†è¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›é0å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_attr_init</code> å‡½æ•°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹å±æ€§åˆå§‹åŒ–æˆåŠŸ\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// åœ¨è¿™é‡Œå¯ä»¥å¯¹çº¿ç¨‹å±æ€§è¿›è¡Œè¿›ä¸€æ­¥çš„é…ç½®å’Œè®¾ç½®</span>     <span class="token comment">// åœ¨å®Œæˆçº¿ç¨‹å±æ€§çš„ä½¿ç”¨åï¼Œè®°å¾—é‡Šæ”¾èµ„æº</span>     <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹å±æ€§åˆå§‹åŒ–å¤±è´¥\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨å®Œçº¿ç¨‹å±æ€§åï¼Œéœ€è¦è°ƒç”¨ <code>pthread_attr_destroy</code> å‡½æ•°æ¥é‡Šæ”¾ç›¸å…³èµ„æºã€‚</p></blockquote><p>é”€æ¯å±æ€§å¯¹è±¡</p><pre class="line-numbers language-none"><code class="language-none">int pthread_attr_destroy(pthread_attr_t *attr);å‚æ•°ï¼šattr - æŒ‡å‘çº¿ç¨‹å±æ€§å¯¹è±¡çš„æŒ‡é’ˆã€‚è¿”å›å€¼ï¼š0ä»£è¡¨æˆåŠŸã€‚è‹¥å¤±è´¥ï¼Œè¿”å›çš„åˆ™æ˜¯é”™è¯¯å·ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>int pthread_attr_destroy(pthread_attr_t *attr);</code> æ˜¯ä¸€ä¸ªç”¨äºé”€æ¯çº¿ç¨‹å±æ€§çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_attr_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦é”€æ¯çš„çº¿ç¨‹å±æ€§ç»“æ„ä½“ã€‚å¦‚æœå‡½æ•°æˆåŠŸæ‰§è¡Œï¼Œå®ƒå°†è¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›é0å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_attr_destroy</code> å‡½æ•°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token comment">// åœ¨è¿™é‡Œå¯ä»¥å¯¹çº¿ç¨‹å±æ€§è¿›è¡Œè¿›ä¸€æ­¥çš„é…ç½®å’Œè®¾ç½®</span>     <span class="token comment">// åœ¨å®Œæˆçº¿ç¨‹å±æ€§çš„ä½¿ç”¨åï¼Œè®°å¾—é”€æ¯å®ƒ</span>     result <span class="token operator">=</span> <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹å±æ€§é”€æ¯æˆåŠŸ\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹å±æ€§é”€æ¯å¤±è´¥\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹å±æ€§åˆå§‹åŒ–å¤±è´¥\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><p>è®¾ç½®å±æ€§å¯¹è±¡çš„åˆ†ç¦»çŠ¶æ€</p><pre class="line-numbers language-none"><code class="language-none">int pthread_attr_setdetachstate(const pthread_attr_t *attr,                                int *detachstate);å‚æ•°ï¼šattr - æŒ‡å‘çº¿ç¨‹å±æ€§å¯¹è±¡çš„æŒ‡é’ˆã€‚detachstate - è®¾ç½®å¯åˆ†ç¦»(PTHREAD_CREATE_DETACHEDï¼‰æˆ–å¯è¿æ¥å±æ€§(PTHREAD_CREATE_JOINABLE)ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>pthread_attr_setdetachstate</code> æ˜¯ä¸€ä¸ªç”¨äºè®¾ç½®çº¿ç¨‹å±æ€§çš„å‡½æ•°ï¼Œå®ƒå…è®¸ä½ æŒ‡å®šçº¿ç¨‹åœ¨åˆ›å»ºåæ˜¯å¦åº”è¯¥è‡ªåŠ¨åˆ†ç¦»ã€‚è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>const pthread_attr_t *attr</code>ï¼šæŒ‡å‘è¦è®¾ç½®çš„å±æ€§å¯¹è±¡çš„æŒ‡é’ˆã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº†çº¿ç¨‹çš„å±æ€§ä¿¡æ¯ï¼Œä¾‹å¦‚å †æ ˆå¤§å°ã€ä¼˜å…ˆçº§ç­‰ã€‚</li><li><code>int *detachstate</code>ï¼šæŒ‡å‘ä¸€ä¸ªæ•´æ•°å˜é‡çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨è®¾ç½®çš„åˆ†ç¦»çŠ¶æ€ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å€¼ä¹‹ä¸€æ¥æŒ‡å®šåˆ†ç¦»çŠ¶æ€ï¼š<ul><li><code>PTHREAD_CREATE_JOINABLE</code>ï¼šçº¿ç¨‹å¯ä»¥åœ¨å…¶ä»–çº¿ç¨‹ä¸­è¢«è¿æ¥ï¼ˆjoinï¼‰ï¼Œå³ä¸»çº¿ç¨‹å¯ä»¥ç­‰å¾…å­çº¿ç¨‹å®Œæˆæ‰§è¡Œã€‚è¿™æ˜¯é»˜è®¤çš„åˆ†ç¦»çŠ¶æ€ã€‚</li><li><code>PTHREAD_CREATE_DETACHED</code>ï¼šçº¿ç¨‹åœ¨åˆ›å»ºåå°†è‡ªåŠ¨åˆ†ç¦»ï¼Œå³ä¸»çº¿ç¨‹æ— æ³•ç­‰å¾…å…¶å®Œæˆæ‰§è¡Œã€‚</li></ul></li></ol><p>å‡½æ•°è¿”å›0è¡¨ç¤ºæˆåŠŸè®¾ç½®äº†åˆ†ç¦»çŠ¶æ€ï¼Œéé›¶å€¼è¡¨ç¤ºå‡ºç°é”™è¯¯ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_attr_setdetachstate</code> å‡½æ•°æ¥è®¾ç½®çº¿ç¨‹çš„åˆ†ç¦»çŠ¶æ€ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span>    <span class="token keyword">int</span> detachstate <span class="token operator">=</span> PTHREAD_CREATE_JOINABLE<span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®åˆ†ç¦»çŠ¶æ€ä¸ºå¯è¿æ¥</span>    <span class="token comment">// åˆå§‹åŒ–å±æ€§å¯¹è±¡</span>    <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è®¾ç½®åˆ†ç¦»çŠ¶æ€</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_attr_setdetachstate</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>detachstate<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å¤„ç†é”™è¯¯æƒ…å†µ</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Failed to set detach state\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ†ç¦»çŠ¶æ€è®¾ç½®æˆåŠŸï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œ</span>        <span class="token comment">// ...</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// é”€æ¯å±æ€§å¯¹è±¡</span>    <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ <code>pthread_attr_setdetachstate</code> å‡½æ•°ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆåˆå§‹åŒ–å±æ€§å¯¹è±¡ï¼Œå¹¶åœ¨ä½¿ç”¨å®Œæ¯•åé”€æ¯å®ƒã€‚</p></blockquote><p>è¿è¡Œç»“æœ</p><p>ç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœçš„é¡ºåºå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚<br>ä¸ºäº†æ¯”è¾ƒè¾“å‡ºç»“æœï¼Œè¯·å°†ç¯å¢ƒè®¾ç½®ä¸­çš„å¹¶è¡Œæ ¸æ•°è°ƒä¸º1ã€‚<br>æœ¬å®éªŒæš‚ä¸æ”¯æŒæ€§èƒ½è¯„æµ‹ã€‚</p><blockquote><p>Creating thread 0<br>Creating thread 1<br>Creating thread 2<br>Thread 0 is running<br>Creating thread 3<br>Thread 1 is running<br>Thread 2 is running<br>Completed join with thread 0<br>Thread 3 is running<br>Completed join with thread 1<br>Completed join with thread 2<br>Completed join with thread 3</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span> <span class="token expression"><span class="token number">4</span> </span></span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>threadid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d is running\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>threadid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">free</span><span class="token punctuation">(</span>threadid<span class="token punctuation">)</span><span class="token punctuation">;</span>threadid <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> <span class="token function">main</span> <span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> thread<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token keyword">int</span> rc<span class="token punctuation">,</span> t<span class="token punctuation">;</span>  <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//your code here</span><span class="token function">pthread_attr_setdetachstate</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> PTHREAD_CREATE_JOINABLE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">&lt;</span>NUM_THREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">int</span><span class="token operator">*</span> id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">*</span>id <span class="token operator">=</span> t<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Creating thread %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thread<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> Print<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_create() is %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">&lt;</span>NUM_THREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//your code here</span>rc <span class="token operator">=</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span>thread<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_join() is %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Completed join with thread %d\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹å±æ€§-æ ˆç®¡ç†"><a href="#çº¿ç¨‹å±æ€§-æ ˆç®¡ç†" class="headerlink" title="çº¿ç¨‹å±æ€§ - æ ˆç®¡ç†"></a>çº¿ç¨‹å±æ€§ - æ ˆç®¡ç†</h2><p>æœ¬èŠ‚å±•ç¤ºäº†è·å–ä¸è®¾ç½®å½“å‰çº¿ç¨‹çš„æ ˆç©ºé—´çš„æ–¹æ³•ã€‚</p><ul><li><code>pthread_attr_getstacksize</code>è·å–å½“å‰çº¿ç¨‹çš„æ ˆç©ºé—´</li><li><code>pthread_attr_setstacksize</code>è®¾ç½®å½“å‰çº¿ç¨‹çš„æ ˆç©ºé—´</li></ul><p>POSIXæ ‡å‡†å¹¶æ²¡æœ‰æŒ‡å®šçº¿ç¨‹æ ˆçš„å¤§å°ï¼Œä¾èµ–äºå®ç°å¹¶éšå®ç°å˜åŒ–ã€‚</p><p>å¾ˆå®¹æ˜“è¶…å‡ºé»˜è®¤çš„æ ˆå¤§å°ï¼Œå¸¸è§ç»“æœï¼šç¨‹åºç»ˆæ­¢æˆ–è€…æ•°æ®æŸåã€‚</p><p>å®‰å…¨å’Œå¯ç§»æ¤çš„ç¨‹åºåº”è¯¥ä¸ä¾èµ–äºé»˜è®¤çš„æ ˆé™åˆ¶ï¼Œä½†æ˜¯å–è€Œä»£ä¹‹çš„æ˜¯ç”¨<code>pthread_attr_setstacksize</code>åˆ†é…è¶³å¤Ÿçš„æ ˆå¤§å°ã€‚</p><p><code>pthread_attr_getstackaddr</code>å’Œ<code>pthread_attr_setstackaddr</code>å‡½æ•°å¯ä»¥è¢«ç¨‹åºç”¨äºå°†æ ˆè®¾ç½®åœ¨æŒ‡å®šçš„å†…å­˜åŒºåŸŸã€‚</p><h3 id="å‡½æ•°è¯´æ˜-2"><a href="#å‡½æ•°è¯´æ˜-2" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>è·å–å½“å‰çº¿ç¨‹çš„æ ˆç©ºé—´</p><pre class="line-numbers language-none"><code class="language-none">int pthread_attr_getstacksize(const pthread_attr_t *restrict attr,                              size_t *restrict stacksize);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p><code>pthread_attr_getstacksize</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–çº¿ç¨‹å±æ€§ä¸­æ ˆå¤§å°çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæŒ‡å‘ <code>pthread_attr_t</code> ç±»å‹çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºè¦æŸ¥è¯¢çš„çº¿ç¨‹å±æ€§ï¼›å¦ä¸€ä¸ªæ˜¯æŒ‡å‘ <code>size_t</code> ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨æŸ¥è¯¢åˆ°çš„æ ˆå¤§å°ã€‚</p><p>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_attr_getstacksize</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">pthread_attr_t</span> <span class="token operator">*</span>restrict attr<span class="token punctuation">,</span> <span class="token class-name">size_t</span> <span class="token operator">*</span>restrict stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœæˆåŠŸè·å–åˆ°æ ˆå¤§å°ï¼Œåˆ™è¿”å›0ï¼›å¦åˆ™è¿”å›éé›¶å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_attr_getstacksize</code> å‡½æ•°æ¥è·å–çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token class-name">size_t</span> stacksize<span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–çº¿ç¨‹å±æ€§å¯¹è±¡</span> <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°</span> <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_attr_getstacksize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack size: %zu\n"</span><span class="token punctuation">,</span> stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Failed to get stack size\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// é”€æ¯çº¿ç¨‹å±æ€§å¯¹è±¡</span> <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>pthread_attr_t</code> ç±»å‹çš„å˜é‡ <code>attr</code>ï¼Œç„¶åä½¿ç”¨ <code>pthread_attr_init</code> å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚æ¥ä¸‹æ¥ï¼Œè°ƒç”¨ <code>pthread_attr_getstacksize</code> å‡½æ•°æ¥è·å–çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ <code>stacksize</code> å˜é‡ä¸­ã€‚æœ€åï¼Œæ ¹æ®è¿”å›å€¼åˆ¤æ–­æ˜¯å¦æˆåŠŸè·å–åˆ°æ ˆå¤§å°ï¼Œå¹¶æ‰“å°ç›¸åº”çš„ä¿¡æ¯ã€‚æœ€åï¼Œè®°å¾—ä½¿ç”¨ <code>pthread_attr_destroy</code> å‡½æ•°é”€æ¯çº¿ç¨‹å±æ€§å¯¹è±¡ã€‚</p></blockquote><p>è®¾ç½®å½“å‰çº¿ç¨‹çš„æ ˆç©ºé—´</p><pre class="line-numbers language-none"><code class="language-none">int pthread_attr_setstacksize(pthread_attr_t *attr, size_t stacksize);å‚æ•°ï¼šattr - æŒ‡å‘çº¿ç¨‹å±æ€§çš„æŒ‡é’ˆstacksize - æ ˆç©ºé—´å¤§å°è¿”å›å€¼ï¼š0ä»£è¡¨æˆåŠŸã€‚è‹¥å¤±è´¥ï¼Œè¿”å›çš„åˆ™æ˜¯é”™è¯¯å·ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šrestrictä¸ºCè¯­è¨€ä¿ç•™å­—ï¼Œç”¨äºç¼–è¯‘å™¨ä¼˜åŒ–ã€‚ååŒã€‚</p><blockquote><p><code>pthread_attr_setstacksize</code> æ˜¯ä¸€ä¸ªç”¨äºè®¾ç½®çº¿ç¨‹å±æ€§ä¸­æ ˆå¤§å°çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæŒ‡å‘ <code>pthread_attr_t</code> ç±»å‹çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºè¦è®¾ç½®çš„çº¿ç¨‹å±æ€§ï¼›å¦ä¸€ä¸ªæ˜¯ <code>size_t</code> ç±»å‹çš„å˜é‡ï¼Œè¡¨ç¤ºè¦è®¾ç½®çš„æ ˆå¤§å°ã€‚</p><p>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_attr_setstacksize</span><span class="token punctuation">(</span><span class="token class-name">pthread_attr_t</span> <span class="token operator">*</span>attr<span class="token punctuation">,</span> <span class="token class-name">size_t</span> stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¦‚æœæˆåŠŸè®¾ç½®æ ˆå¤§å°ï¼Œåˆ™è¿”å›0ï¼›å¦åˆ™è¿”å›éé›¶å€¼ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_attr_setstacksize</code> å‡½æ•°æ¥è®¾ç½®çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token class-name">size_t</span> stacksize <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®æ ˆå¤§å°ä¸º1MB</span> <span class="token comment">// åˆå§‹åŒ–çº¿ç¨‹å±æ€§å¯¹è±¡</span> <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°</span> <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_attr_setstacksize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span>"Stack size set successfully"<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span>"Failed to set stack size"<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// é”€æ¯çº¿ç¨‹å±æ€§å¯¹è±¡</span> <span class="token function">pthread_attr_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>pthread_attr_t</code> ç±»å‹çš„å˜é‡ <code>attr</code>ï¼Œç„¶åä½¿ç”¨ <code>pthread_attr_init</code> å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚æ¥ä¸‹æ¥ï¼Œè°ƒç”¨ <code>pthread_attr_setstacksize</code> å‡½æ•°æ¥è®¾ç½®çº¿ç¨‹å±æ€§ä¸­çš„æ ˆå¤§å°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ <code>stacksize</code> å˜é‡ä¸­ã€‚æœ€åï¼Œæ ¹æ®è¿”å›å€¼åˆ¤æ–­æ˜¯å¦æˆåŠŸè®¾ç½®æ ˆå¤§å°ï¼Œå¹¶æ‰“å°ç›¸åº”çš„ä¿¡æ¯ã€‚æœ€åï¼Œè®°å¾—ä½¿ç”¨ <code>pthread_attr_destroy</code> å‡½æ•°é”€æ¯çº¿ç¨‹å±æ€§å¯¹è±¡ã€‚</p></blockquote><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p>ç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœçš„é¡ºåºå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚<br>ä¸ºäº†æ¯”è¾ƒè¾“å‡ºç»“æœï¼Œè¯·å°†ç¯å¢ƒè®¾ç½®ä¸­çš„å¹¶è¡Œæ ¸æ•°è°ƒä¸º1ã€‚<br>æœ¬å®éªŒæš‚ä¸æ”¯æŒæ€§èƒ½è¯„æµ‹ã€‚</p><blockquote><p>Default stack size &#x3D; 0<br>Amount of stack needed per thread &#x3D; 9000000<br>Creating threads with stack size &#x3D; 9000000 bytes<br>Created 4 threads.<br>Thread 1: stack size &#x3D; 9000000 bytes<br>Thread 2: stack size &#x3D; 9000000 bytes<br>Thread 0: stack size &#x3D; 9000000 bytes<br>Thread 3: stack size &#x3D; 9000000 bytes</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUMTHREADS</span> <span class="token expression"><span class="token number">4</span> </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">N</span> <span class="token expression"><span class="token number">1000</span> </span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MEGEXTRA</span> <span class="token expression"><span class="token number">1000000</span> </span></span><span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">dowork</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>threadid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//The 2-dim array takes up sizeof(double)*N*N bytes.</span><span class="token keyword">double</span> A<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>tid<span class="token punctuation">;</span> <span class="token class-name">size_t</span> mystacksize<span class="token punctuation">;</span>  tid <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>threadid<span class="token punctuation">;</span> <span class="token function">pthread_attr_getstacksize</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mystacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %d: stack size = %li bytes \n"</span><span class="token punctuation">,</span> tid<span class="token punctuation">,</span> mystacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3.452</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>N<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">free</span><span class="token punctuation">(</span>threadid<span class="token punctuation">)</span><span class="token punctuation">;</span>threadid <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUMTHREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token class-name">size_t</span> stacksize<span class="token punctuation">;</span> <span class="token keyword">int</span> rc<span class="token punctuation">,</span> t<span class="token punctuation">;</span> <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">pthread_attr_getstacksize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Default stack size = %li\n"</span><span class="token punctuation">,</span> stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> stacksize <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token operator">*</span>N<span class="token operator">*</span>N<span class="token operator">+</span>MEGEXTRA<span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Amount of stack needed per thread = %li\n"</span><span class="token punctuation">,</span>stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//your code here</span><span class="token function">pthread_attr_setstacksize</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Creating threads with stack size = %li bytes\n"</span><span class="token punctuation">,</span>stacksize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> t<span class="token operator">&lt;</span>NUMTHREADS<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">int</span><span class="token operator">*</span> id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">*</span>id <span class="token operator">=</span> t<span class="token punctuation">;</span>rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> dowork<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR; return code from pthread_create() is %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Created %d threads.\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº’æ–¥é”-1"><a href="#äº’æ–¥é”-1" class="headerlink" title="äº’æ–¥é”(1)"></a>äº’æ–¥é”(1)</h2><ul><li>å®šä¹‰ä¸€ä¸ªäº’æ–¥é”</li><li><code>pthread_mutex_init</code>äº’æ–¥é”çš„åˆå§‹åŒ–</li><li><code>pthread_mutex_destroy</code>äº’æ–¥é”çš„é”€æ¯</li><li><code>pthread_mutex_lock</code>åŠ é”</li><li><code>pthread_mutex_unlock</code>è§£é”</li></ul><p>äº’æ–¥é”(Mutex)æ˜¯â€œmutual exclusionâ€çš„ç¼©å†™ã€‚äº’æ–¥é”æ˜¯å®ç°çº¿ç¨‹åŒæ­¥ï¼Œå’Œä¿æŠ¤åŒæ—¶å†™å…±äº«æ•°æ®çš„ä¸»è¦æ–¹æ³•<br>äº’æ–¥é”å¯¹å…±äº«æ•°æ®çš„ä¿æŠ¤å°±åƒä¸€æŠŠé”ã€‚åœ¨Pthreadsä¸­ï¼Œä»»ä½•æ—¶å€™ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é”å®šäº’æ–¥é”ï¼Œå› æ­¤ï¼Œå½“å¤šä¸ªçº¿ç¨‹å°è¯•å»é”å®šè¯¥äº’æ–¥é”æ—¶ä»…æœ‰ä¸€ä¸ªä¼šæˆåŠŸã€‚ç›´åˆ°é”å®šäº’æ–¥é”çš„çº¿ç¨‹è§£é”äº’æ–¥é”åï¼Œå…¶ä»–çº¿ç¨‹æ‰å¯ä»¥å»é”å®šäº’æ–¥é”ã€‚çº¿ç¨‹å¿…é¡»è½®ç€è®¿é—®å—ä¿æŠ¤æ•°æ®ã€‚<br>äº’æ–¥é”å¯ä»¥é˜²æ­¢â€œç«äº‰â€æ¡ä»¶ã€‚</p><p>ç”¨äº’æ–¥é”çš„å…¸å‹é¡ºåºå¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»ºå’Œåˆå§‹ä¸€ä¸ªäº’æ–¥é”</li><li>å¤šä¸ªçº¿ç¨‹å°è¯•å»é”å®šè¯¥äº’æ–¥é”</li><li>ä»…æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æˆåŠŸé”å®šæ”¹äº’æ–¥é”</li><li>é”å®šæˆåŠŸçš„çº¿ç¨‹åšä¸€äº›å¤„ç†</li><li>çº¿ç¨‹è§£é”è¯¥äº’æ–¥é”</li><li>å¦å¤–ä¸€ä¸ªçº¿ç¨‹è·å¾—äº’æ–¥é”ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹</li><li>æœ€åé”€æ¯äº’æ–¥é”</li></ol><h3 id="å‡½æ•°è¯´æ˜ï¼š"><a href="#å‡½æ•°è¯´æ˜ï¼š" class="headerlink" title="å‡½æ•°è¯´æ˜ï¼š"></a>å‡½æ•°è¯´æ˜ï¼š</h3><p>å®šä¹‰ä¸€ä¸ªäº’æ–¥é”</p><pre class="line-numbers language-none"><code class="language-none">pthread_mutex_t mutex &#x3D; PTHREAD_MUTEX_INITIALIZER;PTHREAD_MUTEX_INITIALIZERæ˜¯å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­çš„å®ï¼Œèƒ½ç”¨äºåˆå§‹åŒ–é™æ€åˆ†é…ç©ºé—´çš„äº’æ–¥é”ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>è¿™æ˜¯Cè¯­è¨€ä¸­ç”¨äºåˆå§‹åŒ–äº’æ–¥é”çš„ä»£ç ã€‚<code>pthread_mutex_t</code> æ˜¯äº’æ–¥é”çš„ç±»å‹ï¼Œ<code>PTHREAD_MUTEX_INITIALIZER</code> æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºåˆå§‹åŒ–äº’æ–¥é”ã€‚</p><p>è§£æï¼š</p><ol><li><code>pthread_mutex_t mutex;</code>ï¼šå£°æ˜ä¸€ä¸ªäº’æ–¥é”å˜é‡ <code>mutex</code>ã€‚</li><li><code>= PTHREAD_MUTEX_INITIALIZER;</code>ï¼šä½¿ç”¨ <code>PTHREAD_MUTEX_INITIALIZER</code> å®æ¥åˆå§‹åŒ–äº’æ–¥é”ã€‚</li></ol><p>ä»£ç ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_mutex_t</span> mutex <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span>    <span class="token comment">// å…¶ä»–ä»£ç ...</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><p>äº’æ–¥é”çš„åˆå§‹åŒ–</p><pre class="line-numbers language-none"><code class="language-none">int pthread_mutex_init(pthread_mutex_t *restrict mutex,                       const pthread_mutexattr_t *restrict attr);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p><code>int pthread_mutex_init(pthread_mutex_t *restrict mutex, const pthread_mutexattr_t *restrict attr);</code> æ˜¯ä¸€ä¸ªç”¨äºåˆå§‹åŒ–äº’æ–¥é”çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>pthread_mutex_t *restrict mutex</code>ï¼šæŒ‡å‘è¦åˆå§‹åŒ–çš„äº’æ–¥é”å¯¹è±¡çš„æŒ‡é’ˆã€‚</li><li><code>const pthread_mutexattr_t *restrict attr</code>ï¼šæŒ‡å‘äº’æ–¥é”å±æ€§å¯¹è±¡çš„æŒ‡é’ˆï¼Œè¯¥å¯¹è±¡å®šä¹‰äº†äº’æ–¥é”çš„è¡Œä¸ºå’Œå±æ€§ã€‚å¦‚æœè®¾ç½®ä¸ºNULLï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„å±æ€§ã€‚</li></ol><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ç ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_mutex_init</code> å‡½æ•°æ¥åˆå§‹åŒ–ä¸€ä¸ªäº’æ–¥é”ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_mutex_t</span> myMutex<span class="token punctuation">;</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// äº’æ–¥é”åˆå§‹åŒ–æˆåŠŸ</span>        <span class="token comment">// åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨äº’æ–¥é”è¿›è¡Œçº¿ç¨‹åŒæ­¥æ“ä½œ</span>        <span class="token comment">// ...</span>        <span class="token comment">// é‡Šæ”¾äº’æ–¥é”èµ„æº</span>        <span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// äº’æ–¥é”åˆå§‹åŒ–å¤±è´¥ï¼Œå¤„ç†é”™è¯¯æƒ…å†µ</span>        <span class="token comment">// ...</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨å®Œäº’æ–¥é”åï¼Œéœ€è¦è°ƒç”¨ <code>pthread_mutex_destroy</code> å‡½æ•°æ¥é‡Šæ”¾äº’æ–¥é”èµ„æºï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</p></blockquote><p>äº’æ–¥é”çš„é”€æ¯</p><pre class="line-numbers language-none"><code class="language-none">int pthread_mutex_destroy(pthread_mutex_t *mutex);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_mutex_destroy(pthread_mutex_t *mutex);</code> æ˜¯ä¸€ä¸ªç”¨äºé”€æ¯äº’æ–¥é”çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_mutex_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦é”€æ¯çš„äº’æ–¥é”å¯¹è±¡ã€‚</p><p>å½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå®ƒå°†é‡Šæ”¾äº’æ–¥é”æ‰€å ç”¨çš„ç³»ç»Ÿèµ„æºï¼Œå¹¶ä½¿äº’æ–¥é”å¤„äºæœªé”å®šçŠ¶æ€ã€‚åœ¨é”€æ¯äº’æ–¥é”ä¹‹å‰ï¼Œå¿…é¡»å…ˆç¡®ä¿æ²¡æœ‰ä»»ä½•çº¿ç¨‹æ­£åœ¨ä½¿ç”¨è¯¥äº’æ–¥é”è¿›è¡ŒåŒæ­¥æ“ä½œã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_mutex_destroy</code> å‡½æ•°æ¥é”€æ¯äº’æ–¥é”ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment">// åˆ›å»ºäº’æ–¥é”</span><span class="token class-name">pthread_mutex_t</span> myMutex<span class="token punctuation">;</span><span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ‰§è¡Œä¸€äº›éœ€è¦åŒæ­¥çš„æ“ä½œ...</span><span class="token comment">// é”€æ¯äº’æ–¥é”</span><span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ <code>pthread_mutex_destroy</code> å‡½æ•°ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿äº’æ–¥é”å·²ç»è¢«æ­£ç¡®åœ°åˆå§‹åŒ–ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–çº¿ç¨‹æ­£åœ¨ä½¿ç”¨å®ƒè¿›è¡ŒåŒæ­¥æ“ä½œã€‚</p></blockquote><p>åŠ é”</p><pre class="line-numbers language-none"><code class="language-none">int pthread_mutex_lock(pthread_mutex_t *mutex);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_mutex_lock(pthread_mutex_t *mutex);</code> æ˜¯ä¸€ä¸ªç”¨äºé”å®šäº’æ–¥é”çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_mutex_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦é”å®šçš„äº’æ–¥é”å¯¹è±¡ã€‚</p><p>å½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå®ƒå°†å°è¯•è·å–äº’æ–¥é”çš„æ‰€æœ‰æƒã€‚å¦‚æœäº’æ–¥é”å·²ç»è¢«å…¶ä»–çº¿ç¨‹é”å®šï¼Œåˆ™å½“å‰çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°äº’æ–¥é”è¢«é‡Šæ”¾ã€‚å¦‚æœæˆåŠŸè·å–åˆ°äº’æ–¥é”çš„æ‰€æœ‰æƒï¼Œå‡½æ•°å°†è¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›éé›¶é”™è¯¯ç ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_mutex_lock</code> å‡½æ•°æ¥é”å®šäº’æ–¥é”ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment">// åˆ›å»ºäº’æ–¥é”</span><span class="token class-name">pthread_mutex_t</span> myMutex<span class="token punctuation">;</span><span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ‰§è¡Œä¸€äº›éœ€è¦åŒæ­¥çš„æ“ä½œ...</span><span class="token comment">// é”å®šäº’æ–¥é”</span><span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// äº’æ–¥é”å·²æˆåŠŸé”å®šï¼Œå¯ä»¥æ‰§è¡Œä¸´ç•ŒåŒºä»£ç </span> <span class="token comment">// ...</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">// äº’æ–¥é”é”å®šå¤±è´¥ï¼Œå¤„ç†é”™è¯¯æƒ…å†µ</span> <span class="token comment">// ...</span><span class="token punctuation">&#125;</span><span class="token comment">// è§£é”äº’æ–¥é”</span><span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é”€æ¯äº’æ–¥é”</span><span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ <code>pthread_mutex_lock</code> å‡½æ•°ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿äº’æ–¥é”å·²ç»è¢«æ­£ç¡®åœ°åˆå§‹åŒ–ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶ä»–çº¿ç¨‹æ­£åœ¨ä½¿ç”¨å®ƒè¿›è¡ŒåŒæ­¥æ“ä½œã€‚åœ¨å®Œæˆå¯¹äº’æ–¥é”çš„ä½¿ç”¨åï¼Œåº”è¯¥ä½¿ç”¨ <code>pthread_mutex_unlock</code> å‡½æ•°æ¥é‡Šæ”¾äº’æ–¥é”çš„æ‰€æœ‰æƒï¼Œå¹¶æœ€ç»ˆä½¿ç”¨ <code>pthread_mutex_destroy</code> å‡½æ•°æ¥é”€æ¯äº’æ–¥é”å¯¹è±¡ã€‚</p></blockquote><p>è§£é”</p><pre class="line-numbers language-none"><code class="language-none">int pthread_mutex_unlock(pthread_mutex_t *mutex);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_mutex_unlock(pthread_mutex_t *mutex);</code> æ˜¯ä¸€ä¸ªç”¨äºè§£é”äº’æ–¥é”çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_mutex_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦è§£é”çš„äº’æ–¥é”å¯¹è±¡ã€‚</p><p>å½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå®ƒå°†é‡Šæ”¾äº’æ–¥é”çš„æ‰€æœ‰æƒï¼Œå¹¶å…è®¸å…¶ä»–çº¿ç¨‹è·å–äº’æ–¥é”è¿›è¡ŒåŒæ­¥æ“ä½œã€‚å¦‚æœæˆåŠŸè§£é”äº’æ–¥é”ï¼Œå‡½æ•°å°†è¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›éé›¶é”™è¯¯ç ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_mutex_unlock</code> å‡½æ•°æ¥è§£é”äº’æ–¥é”ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment">// åˆ›å»ºäº’æ–¥é”</span><span class="token class-name">pthread_mutex_t</span> myMutex<span class="token punctuation">;</span><span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ‰§è¡Œä¸€äº›éœ€è¦åŒæ­¥çš„æ“ä½œ...</span><span class="token comment">// é”å®šäº’æ–¥é”</span><span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ‰§è¡Œä¸´ç•ŒåŒºä»£ç </span><span class="token comment">// ...</span><span class="token comment">// è§£é”äº’æ–¥é”</span><span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é”€æ¯äº’æ–¥é”</span><span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>myMutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ <code>pthread_mutex_unlock</code> å‡½æ•°ä¹‹å‰ï¼Œå¿…é¡»ç¡®ä¿äº’æ–¥é”å·²ç»è¢«æ­£ç¡®åœ°åˆå§‹åŒ–ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹å·²ç»è·å¾—äº†äº’æ–¥é”çš„æ‰€æœ‰æƒã€‚åœ¨å®Œæˆå¯¹äº’æ–¥é”çš„ä½¿ç”¨åï¼Œåº”è¯¥ä½¿ç”¨ <code>pthread_mutex_destroy</code> å‡½æ•°æ¥é”€æ¯äº’æ–¥é”å¯¹è±¡ã€‚</p></blockquote><h3 id="è¿è¡Œç»“æœï¼š"><a href="#è¿è¡Œç»“æœï¼š" class="headerlink" title="è¿è¡Œç»“æœï¼š"></a>è¿è¡Œç»“æœï¼š</h3><blockquote><p>0<br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>  <span class="token keyword">int</span> i<span class="token punctuation">;</span>  <span class="token class-name">pthread_mutex_t</span> mutex1<span class="token punctuation">;</span>    <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">readfunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">writefunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token class-name">pthread_t</span> thread1<span class="token punctuation">,</span>thread2<span class="token punctuation">;</span>    i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">//your code here</span><span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//end of your code</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thread1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>readfunction<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thread2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>writefunction<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">pthread_join</span><span class="token punctuation">(</span>thread1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">pthread_join</span><span class="token punctuation">(</span>thread2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">readfunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">>=</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">writefunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">)</span><span class="token punctuation">;</span>  i<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº’æ–¥é”-2"><a href="#äº’æ–¥é”-2" class="headerlink" title="äº’æ–¥é”(2)"></a>äº’æ–¥é”(2)</h2><ul><li><code>pthread_mutex_trylock</code>æ˜¯<code>pthread_mutex_lock</code>çš„éé˜»å¡ç‰ˆæœ¬ï¼Œè°ƒç”¨åç«‹å³è¿”å›ã€‚</li></ul><h3 id="å‡½æ•°åŸå‹"><a href="#å‡½æ•°åŸå‹" class="headerlink" title="å‡½æ•°åŸå‹"></a>å‡½æ•°åŸå‹</h3><pre class="line-numbers language-none"><code class="language-none">int pthread_mutex_trylock(pthread_mutex_t *mutex); <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int pthread_mutex_trylock(pthread_mutex_t *mutex);</code> æ˜¯ä¸€ä¸ªç”¨äºå°è¯•è·å–äº’æ–¥é”çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_mutex_t</code> ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦é”å®šçš„äº’æ–¥é”å¯¹è±¡ã€‚</p><p>å¦‚æœæˆåŠŸè·å–åˆ°äº’æ–¥é”çš„æ‰€æœ‰æƒï¼Œå‡½æ•°å°†è¿”å›0ï¼›å¦åˆ™ï¼Œè¿”å›éé›¶é”™è¯¯ç ã€‚è¿™ä¸ªå‡½æ•°ä¸ <code>pthread_mutex_lock</code> å‡½æ•°ç±»ä¼¼ï¼Œä½†ä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œè€Œæ˜¯ç«‹å³è¿”å›ç»“æœã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½æ›´æœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„çº¿ç¨‹é˜»å¡ã€‚</p><h3 id="è¿è¡Œç»“æœ-1"><a href="#è¿è¡Œç»“æœ-1" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><blockquote><p>pthread b trylock<br>the main close</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token class-name">pthread_mutex_t</span> mutex<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thread_a</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thread_b</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token comment">/*your code here*/</span><span class="token function">pthread_mutex_trylock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pthread b trylock\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> tid_a<span class="token punctuation">,</span>tid_b<span class="token punctuation">;</span>    <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mutex<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid_a<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>thread_a<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid_b<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>thread_b<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid_a<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid_b<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"the main close\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¡ä»¶å˜é‡-1"><a href="#æ¡ä»¶å˜é‡-1" class="headerlink" title="æ¡ä»¶å˜é‡(1)"></a>æ¡ä»¶å˜é‡(1)</h2><ul><li>æ¡ä»¶å˜é‡çš„åˆå§‹åŒ–</li><li><code>pthread_cond_init</code>åˆ›å»ºæ¡ä»¶å˜é‡</li><li><code>pthread_cond_destroy</code>åˆ é™¤æ¡ä»¶å˜é‡</li><li><code>pthread_cond_wait</code>ç­‰å¾…æ¡ä»¶å˜é‡ä¸ºçœŸ</li><li><code>pthread_cond_signal</code>è§£é”é˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„è¿›ç¨‹</li></ul><h3 id="å®éªŒæ­¥éª¤"><a href="#å®éªŒæ­¥éª¤" class="headerlink" title="å®éªŒæ­¥éª¤"></a>å®éªŒæ­¥éª¤</h3><p>æ¡ä»¶å˜é‡æ˜¯ç”¨æ¥é€šçŸ¥å…±äº«æ•°æ®çŠ¶æ€ä¿¡æ¯çš„ã€‚<br>æ¡ä»¶å˜é‡æœºåˆ¶å…è®¸è¿›ç¨‹åœæ­¢å½“å‰çš„æ‰§è¡Œï¼Œè®©å‡ºCPUæ—¶é—´ï¼Œç›´åˆ°æ¡ä»¶ä¸ºçœŸã€‚<br>æ¯ä¸ªæ¡ä»¶å˜é‡å¿…é¡»ä¸ä¸€ä¸ªç‰¹å®šçš„äº’æ–¥é‡ç›¸å…³è”ä»¥é¿å…æ­»é”ã€‚</p><p><code>pthread_cond_wait</code>æ€»å’Œä¸€ä¸ªäº’æ–¥é”ç»“åˆä½¿ç”¨ã€‚<br>åœ¨è°ƒç”¨<code>pthread_cond_wait</code>å‰è¦å…ˆè·å–é”ã€‚<br><code>pthread_cond_wait</code>å‡½æ•°æ‰§è¡Œæ—¶å…ˆè‡ªåŠ¨é‡Šæ”¾æŒ‡å®šçš„é”ï¼Œç„¶åç­‰å¾…æ¡ä»¶å˜é‡çš„å˜åŒ–ã€‚åœ¨å‡½æ•°è°ƒç”¨è¿”å›ä¹‹å‰ï¼Œè‡ªåŠ¨å°†æŒ‡å®šçš„äº’æ–¥é‡é‡æ–°é”ä½ã€‚<br>è°ƒç”¨<code>pthread_cond_signal</code>åè¦ç«‹åˆ»é‡Šæ”¾äº’æ–¥é”ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-3"><a href="#å‡½æ•°è¯´æ˜-3" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>åˆå§‹åŒ–</p><pre class="line-numbers language-none"><code class="language-none">pthread_cond_t cod &#x3D; PTHREAD_COND_INITIALIZER;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>pthread_cond_t cod = PTHREAD_COND_INITIALIZER;</code> è¿™è¡Œä»£ç æ˜¯ç”¨äºåˆå§‹åŒ–ä¸€ä¸ªæ¡ä»¶å˜é‡ <code>cod</code>ã€‚æ¡ä»¶å˜é‡æ˜¯ä¸€ç§åŒæ­¥åŸè¯­ï¼Œç”¨äºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®ç°çº¿ç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€‚</p><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>PTHREAD_COND_INITIALIZER</code> æ˜¯ä¸€ä¸ªå®å®šä¹‰ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå·²ç»åˆå§‹åŒ–çš„æ¡ä»¶å˜é‡å¯¹è±¡ã€‚é€šè¿‡å°†å…¶èµ‹å€¼ç»™ <code>cod</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ¡ä»¶å˜é‡å¯¹è±¡ä¸ <code>cod</code> å…³è”èµ·æ¥ã€‚</p><p>ä½¿ç”¨æ¡ä»¶å˜é‡å¯ä»¥ä½¿å¾—å¤šä¸ªçº¿ç¨‹ç­‰å¾…æŸä¸ªæ¡ä»¶æˆç«‹æ—¶æ‰ç»§ç»­æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹éœ€è¦ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹å®ŒæˆæŸä¸ªä»»åŠ¡åæ‰èƒ½ç»§ç»­æ‰§è¡Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¡ä»¶å˜é‡æ¥å®ç°è¿™ç§åŒæ­¥æœºåˆ¶ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ç‰‡æ®µï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨æ¡ä»¶å˜é‡è¿›è¡Œçº¿ç¨‹åŒæ­¥ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token comment">// å…¨å±€å˜é‡ä½œä¸ºæ¡ä»¶å˜é‡çš„æ ‡è¯†ç¬¦</span><span class="token class-name">pthread_cond_t</span> cond <span class="token operator">=</span> PTHREAD_COND_INITIALIZER<span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// çº¿ç¨‹1ç­‰å¾…æ¡ä»¶å˜é‡æ»¡è¶³</span> <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread 1: Condition satisfied!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// çº¿ç¨‹2ç­‰å¾…æ¡ä»¶å˜é‡æ»¡è¶³</span> <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread 2: Condition satisfied!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> t1<span class="token punctuation">,</span> t2<span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹å¹¶å¯åŠ¨</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>t1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>t2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸»çº¿ç¨‹ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæ¨¡æ‹Ÿå…¶ä»–æ“ä½œ</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘é€ä¿¡å·é€šçŸ¥æ¡ä»¶å˜é‡å·²æ»¡è¶³</span> <span class="token function">pthread_cond_signal</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_cond_signal</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾…çº¿ç¨‹ç»“æŸ</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span>t1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span>t2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªçº¿ç¨‹ <code>thread1</code> å’Œ <code>thread2</code>ï¼Œå®ƒä»¬éƒ½ç­‰å¾…æ¡ä»¶å˜é‡ <code>cond</code> è¢«æ»¡è¶³ã€‚åœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç”¨ <code>pthread_cond_signal</code> å‡½æ•°æ¥å‘é€ä¿¡å·ï¼Œé€šçŸ¥æ¡ä»¶å˜é‡å·²æ»¡è¶³ã€‚è¿™æ ·ï¼Œç­‰å¾…çš„çº¿ç¨‹å°±å¯ä»¥ç»§ç»­æ‰§è¡Œäº†ã€‚</p></blockquote><p>åˆ›å»ºæ¡ä»¶å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">int pthread_cond_init(pthread_cond_t *cond, pthread_condattr_t *condattr);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_cond_init(pthread_cond_t *cond, pthread_condattr_t *condattr);</code> æ˜¯ä¸€ä¸ªç”¨äºåˆå§‹åŒ–æ¡ä»¶å˜é‡çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>pthread_cond_t *cond</code>ï¼šæŒ‡å‘è¦åˆå§‹åŒ–çš„æ¡ä»¶å˜é‡çš„æŒ‡é’ˆã€‚</li><li><code>pthread_condattr_t *condattr</code>ï¼šæŒ‡å‘æ¡ä»¶å˜é‡å±æ€§çš„æŒ‡é’ˆï¼Œå¯ä»¥ä¸º NULLã€‚å¦‚æœä¸º NULLï¼Œåˆ™ä½¿ç”¨é»˜è®¤å±æ€§ã€‚</li></ol><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å› 0ï¼›å¦åˆ™ï¼Œè¿”å›é”™è¯¯ç ã€‚</p></blockquote><p>åˆ é™¤æ¡ä»¶å˜é‡</p><pre class="line-numbers language-none"><code class="language-none">int pthread_cond_destroy(pthread_cond_t *cond);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_cond_destroy(pthread_cond_t *cond);</code> æ˜¯ä¸€ä¸ªç”¨äºé”€æ¯æ¡ä»¶å˜é‡çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘è¦é”€æ¯çš„æ¡ä»¶å˜é‡çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ã€‚</p><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å› 0ï¼›å¦åˆ™ï¼Œè¿”å›é”™è¯¯ç ã€‚</p></blockquote><p>ç­‰å¾…æ¡ä»¶å˜é‡ä¸ºçœŸ</p><pre class="line-numbers language-none"><code class="language-none">int pthread_cond_wait(pthread_cond_t *restrict cond, pthread_mutex_t *restrict mutex);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_cond_wait(pthread_cond_t *restrict cond, pthread_mutex_t *restrict mutex);</code> æ˜¯ä¸€ä¸ªç”¨äºçº¿ç¨‹ç­‰å¾…æ¡ä»¶çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>pthread_cond_t *restrict cond</code>ï¼šæŒ‡å‘è¦ç­‰å¾…çš„æ¡ä»¶å˜é‡çš„æŒ‡é’ˆã€‚</li><li><code>pthread_mutex_t *restrict mutex</code>ï¼šæŒ‡å‘äº’æ–¥é”çš„æŒ‡é’ˆï¼Œç”¨äºä¿æŠ¤æ¡ä»¶å˜é‡ã€‚</li></ol><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å› 0ï¼›å¦åˆ™ï¼Œè¿”å›é”™è¯¯ç ã€‚</p></blockquote><p>è§£é”é˜»å¡åœ¨æ¡ä»¶å˜é‡ä¸Šçš„è¿›ç¨‹</p><pre class="line-numbers language-none"><code class="language-none">int pthread_cond_signal(pthread_cond_t *cond);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><code>int pthread_cond_signal(pthread_cond_t *cond);</code> æ˜¯ä¸€ä¸ªç”¨äºå”¤é†’ç­‰å¾…æ¡ä»¶å˜é‡çš„çº¿ç¨‹çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘æ¡ä»¶å˜é‡çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ã€‚</p><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å› 0ï¼›å¦åˆ™ï¼Œè¿”å›é”™è¯¯ç ã€‚</p></blockquote><h3 id="è¿è¡Œç»“æœ-2"><a href="#è¿è¡Œç»“æœ-2" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><blockquote><p>Counter value functionCount1: 1<br>Counter value functionCount2: 2<br>Counter value functionCount1: 3<br>Counter value functionCount2: 4<br>Counter value functionCount2: 5<br>Counter value functionCount2: 6<br>Counter value functionCount2: 7<br>Counter value functionCount2: 8<br>Counter value functionCount1: 9<br>Counter value functionCount2: 10<br>Counter value functionCount1: 11</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token class-name">pthread_mutex_t</span> count_mutex     <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span><span class="token class-name">pthread_mutex_t</span> condition_mutex <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span><span class="token class-name">pthread_cond_t</span>  condition_cond  <span class="token operator">=</span> PTHREAD_COND_INITIALIZER<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">functionCount1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">functionCount2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span>  count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COUNT_DONE</span>  <span class="token expression"><span class="token number">10</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COUNT_HALT1</span>  <span class="token expression"><span class="token number">3</span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COUNT_HALT2</span>  <span class="token expression"><span class="token number">6</span></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token class-name">pthread_t</span> thread1<span class="token punctuation">,</span> thread2<span class="token punctuation">;</span>   <span class="token function">pthread_create</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>thread1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>functionCount1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">pthread_create</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>thread2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>functionCount2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">pthread_join</span><span class="token punctuation">(</span> thread1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">pthread_join</span><span class="token punctuation">(</span> thread2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">functionCount1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span>   <span class="token punctuation">&#123;</span>      <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">while</span><span class="token punctuation">(</span> count <span class="token operator">>=</span> COUNT_HALT1 <span class="token operator">&amp;&amp;</span> count <span class="token operator">&lt;=</span> COUNT_HALT2 <span class="token punctuation">)</span>      <span class="token punctuation">&#123;</span><span class="token comment">//your code here</span>        <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_cond<span class="token punctuation">,</span> <span class="token operator">&amp;</span>condition_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>      <span class="token punctuation">&#125;</span>      <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>count_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>      count<span class="token operator">++</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Counter value functionCount1: %d\n"</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>count_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">>=</span> COUNT_DONE<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">functionCount2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>       <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">if</span><span class="token punctuation">(</span> count <span class="token operator">&lt;</span> COUNT_HALT1 <span class="token operator">||</span> count <span class="token operator">></span> COUNT_HALT2 <span class="token punctuation">)</span>       <span class="token punctuation">&#123;</span>        <span class="token comment">//your code here</span>        <span class="token function">pthread_cond_signal</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_cond <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>       <span class="token punctuation">&#125;</span>       <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>condition_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>count_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>       count<span class="token operator">++</span><span class="token punctuation">;</span>       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Counter value functionCount2: %d\n"</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>count_mutex <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">>=</span> COUNT_DONE<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¡ä»¶å˜é‡-2"><a href="#æ¡ä»¶å˜é‡-2" class="headerlink" title="æ¡ä»¶å˜é‡(2)"></a>æ¡ä»¶å˜é‡(2)</h2><p>æœ¬èŠ‚ç»§ç»­å±•ç¤ºæ¡ä»¶å˜é‡çš„ç›¸å…³æ–¹æ³•</p><ul><li><code>pthread_cond_broadcast</code>è§£é™¤æ‰€æœ‰è¢«æŸä¸ªæ¡ä»¶å˜é‡é˜»å¡çš„è¿›ç¨‹</li></ul><p><code>pthread_cond_broadcast</code>å¯ç”¨äºè§£é™¤æ‰€æœ‰è¢«æŸä¸ªæ¡ä»¶å˜é‡é˜»å¡çš„è¿›ç¨‹<br>ä¸<code>pthread_cond_signal</code>å‡½æ•°ç›¸ä¼¼ï¼Œ<code>pthread_cond_broadcast</code>å‡½æ•°æ‰§è¡Œæ—¶å…ˆè‡ªåŠ¨é‡Šæ”¾æŒ‡å®šçš„é”ï¼Œç„¶åç­‰å¾…æ¡ä»¶å˜é‡çš„å˜åŒ–ã€‚åœ¨å‡½æ•°è°ƒç”¨è¿”å›ä¹‹å‰ï¼Œè‡ªåŠ¨å°†æŒ‡å®šçš„äº’æ–¥é‡é‡æ–°é”ä½</p><h3 id="å‡½æ•°è¯´æ˜-4"><a href="#å‡½æ•°è¯´æ˜-4" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_cond_broadcast</span><span class="token punctuation">(</span><span class="token class-name">pthread_cond_t</span> <span class="token operator">*</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>pthread_cond_broadcast</code>æ˜¯ä¸€ä¸ªPOSIXçº¿ç¨‹åº“å‡½æ•°ï¼Œç”¨äºå”¤é†’æ‰€æœ‰ç­‰å¾…æŸä¸ªæ¡ä»¶å˜é‡çš„çº¿ç¨‹ã€‚å®ƒçš„åŸå‹å¦‚ä¸‹ï¼š</p><p>å‚æ•°ï¼š</p><ul><li><code>cond</code>ï¼šæŒ‡å‘è¦å¹¿æ’­çš„æ¡ä»¶å˜é‡çš„æŒ‡é’ˆ</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>æˆåŠŸæ—¶è¿”å›0ï¼›å¤±è´¥æ—¶è¿”å›é”™è¯¯ç </li></ul><h3 id="è¿è¡Œç»“æœ-3"><a href="#è¿è¡Œç»“æœ-3" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><blockquote><p>thread 1 waiting for signal<br>thread 2 waiting for signal<br>main thread broadcasts signal<br>thread 2 receives signal<br>thread 1 receives signal</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>   <span class="token keyword">static</span> <span class="token class-name">pthread_mutex_t</span> mtx<span class="token operator">=</span>PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token class-name">pthread_cond_t</span> cond<span class="token operator">=</span>PTHREAD_COND_INITIALIZER<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">func_1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 waiting for signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 receives signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">static</span> <span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">func_2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 waiting for signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 receives signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>      <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      <span class="token class-name">pthread_t</span> tid1<span class="token punctuation">,</span> tid2<span class="token punctuation">;</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> func_1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> func_2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main thread broadcasts signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>    <span class="token function">pthread_cond_broadcast</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//end of your code</span>      <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="éšœç¢åŒæ­¥"><a href="#éšœç¢åŒæ­¥" class="headerlink" title="éšœç¢åŒæ­¥"></a>éšœç¢åŒæ­¥</h2><p>æœ¬èŠ‚å±•ç¤ºäº†éšœç¢åŒæ­¥çš„ç›¸å…³æ–¹æ³•ã€‚</p><ul><li><code>pthread_barrier_init</code>éšœç¢åˆå§‹åŒ–</li><li><code>pthread_barrier_wait</code>éšœç¢ç­‰å¾…</li><li><code>pthread_barrier_destroy</code>éšœç¢é”€æ¯</li></ul><p>éšœç¢åŒæ­¥(Barrier Synchronization)æ˜¯Pthreadä¸­å¦å¤–ä¸€ç§åŒæ­¥æœºåˆ¶ã€‚<br>barrieræ„ä¸ºæ æ†ï¼Œå½¢è±¡çš„è¯´å°±æ˜¯æŠŠå…ˆååˆ°è¾¾çš„å¤šä¸ªçº¿ç¨‹æŒ¡åœ¨åŒä¸€æ æ†å‰ï¼Œç›´åˆ°æ‰€æœ‰çº¿ç¨‹åˆ°é½ï¼Œç„¶åæ’¤ä¸‹æ æ†åŒæ—¶æ”¾è¡Œã€‚</p><h3 id="å‡½æ•°åŸå‹-1"><a href="#å‡½æ•°åŸå‹-1" class="headerlink" title="å‡½æ•°åŸå‹"></a>å‡½æ•°åŸå‹</h3><pre class="line-numbers language-none"><code class="language-none">int pthread_barrier_init(pthread_barrier_t *restrict barrier, const pthread_barrierattr_t *restrict attr, unsigned count);int pthread_barrier_wait(pthread_barrier_t *barrier);int pthread_barrier_destroy(pthread_barrier_t *barrier);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p><code>pthread_barrier_init</code>å‡½æ•°ç”¨äºåˆå§‹åŒ–ä¸€ä¸ªå±éšœå¯¹è±¡ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><ol><li><code>barrier</code>ï¼šæŒ‡å‘è¦åˆå§‹åŒ–çš„å±éšœå¯¹è±¡çš„æŒ‡é’ˆã€‚</li><li><code>attr</code>ï¼šæŒ‡å‘å±éšœå±æ€§å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¯ä»¥ä¸ºNULLã€‚å¦‚æœä¸ºNULLï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„å±æ€§ã€‚</li><li><code>count</code>ï¼šéœ€è¦ç­‰å¾…çš„çº¿ç¨‹æ•°é‡ã€‚å½“æ‰€æœ‰çº¿ç¨‹éƒ½è°ƒç”¨äº†<code>pthread_barrier_wait</code>å‡½æ•°åï¼Œå±éšœå°†è¢«è§£é™¤ã€‚</li></ol><p>å‡½æ•°è¿”å›0è¡¨ç¤ºæˆåŠŸï¼Œé0è¡¨ç¤ºå¤±è´¥ã€‚</p></blockquote><blockquote><p><code>pthread_barrier_wait</code>å‡½æ•°ç”¨äºè®©å½“å‰çº¿ç¨‹ç­‰å¾…å…¶ä»–çº¿ç¨‹åˆ°è¾¾å±éšœã€‚å®ƒæ¥å—ä¸€ä¸ªæŒ‡å‘<code>pthread_barrier_t</code>ç±»å‹çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¦ç­‰å¾…çš„å±éšœå¯¹è±¡ã€‚</p><p>å½“è°ƒç”¨<code>pthread_barrier_wait</code>æ—¶ï¼Œå½“å‰çº¿ç¨‹å°†è¢«é˜»å¡ï¼Œç›´åˆ°æ‰€æœ‰å…¶ä»–çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœã€‚ä¸€æ—¦æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœï¼Œå®ƒä»¬å°†ç»§ç»­æ‰§è¡Œå¹¶è§£é™¤é˜»å¡ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>pthread_barrier_wait</code>å‡½æ•°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token comment">// å®šä¹‰çº¿ç¨‹æ•°é‡å’Œå±éšœå¯¹è±¡</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span> <span class="token expression"><span class="token number">5</span></span></span><span class="token class-name">pthread_barrier_t</span> barrier<span class="token punctuation">;</span><span class="token comment">// çº¿ç¨‹å‡½æ•°</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">threadFunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %ld is waiting on barrier\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_barrier_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ç­‰å¾…å…¶ä»–çº¿ç¨‹åˆ°è¾¾å±éšœ</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %ld has crossed the barrier\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–å±éšœå¯¹è±¡</span> <span class="token function">pthread_barrier_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> NUM_THREADS<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_THREADS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> threadFunction<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_THREADS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">pthread_join</span><span class="token punctuation">(</span>threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// é”€æ¯å±éšœå¯¹è±¡</span> <span class="token function">pthread_barrier_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«5ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œå¹¶ä½¿ç”¨<code>pthread_barrier_wait</code>å‡½æ•°æ¥åŒæ­¥è¿™äº›çº¿ç¨‹ã€‚æ¯ä¸ªçº¿ç¨‹åœ¨åˆ°è¾¾å±éšœä¹‹å‰éƒ½ä¼šæ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œè¡¨ç¤ºæ­£åœ¨ç­‰å¾…å…¶ä»–çº¿ç¨‹ã€‚ä¸€æ—¦æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœï¼Œå®ƒä»¬å°†æ‰“å°å¦ä¸€æ¡æ¶ˆæ¯ï¼Œè¡¨ç¤ºå·²ç»è·¨è¶Šäº†å±éšœã€‚æœ€åï¼Œä¸»çº¿ç¨‹ç­‰å¾…æ‰€æœ‰å­çº¿ç¨‹å®Œæˆï¼Œç„¶åé”€æ¯å±éšœå¯¹è±¡ã€‚</p></blockquote><blockquote><p><code>int pthread_barrier_destroy(pthread_barrier_t *barrier);</code> æ˜¯ä¸€ä¸ªç”¨äºé”€æ¯çº¿ç¨‹å±éšœçš„å‡½æ•°ã€‚å½“ä¸€ä¸ªçº¿ç¨‹å±éšœä¸å†éœ€è¦æ—¶ï¼Œå¯ä»¥è°ƒç”¨æ­¤å‡½æ•°æ¥é‡Šæ”¾èµ„æºã€‚</p><p>è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæŒ‡å‘ <code>pthread_barrier_t</code> ç»“æ„çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œè¯¥ç»“æ„è¡¨ç¤ºè¦é”€æ¯çš„çº¿ç¨‹å±éšœã€‚å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸé”€æ¯äº†çº¿ç¨‹å±éšœï¼Œåˆ™è¿”å›0ï¼›å¦åˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ <code>pthread_barrier_destroy</code> å‡½æ•°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token comment">// å®šä¹‰çº¿ç¨‹æ•°é‡å’Œå±éšœå¯¹è±¡</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span> <span class="token expression"><span class="token number">5</span></span></span><span class="token class-name">pthread_barrier_t</span> barrier<span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">threadFunction</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %ld is waiting on barrier\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pthread_barrier_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ç­‰å¾…å…¶ä»–çº¿ç¨‹åˆ°è¾¾å±éšœ</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread %ld has crossed the barrier\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token class-name">pthread_t</span> threads<span class="token punctuation">[</span>NUM_THREADS<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–çº¿ç¨‹å¹¶å¯åŠ¨å®ƒä»¬</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_THREADS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> threadFunction<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_THREADS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">pthread_join</span><span class="token punctuation">(</span>threads<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token comment">// é”€æ¯çº¿ç¨‹å±éšœ</span> <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">pthread_barrier_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Barrier destroyed successfully\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Failed to destroy barrier\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«5ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œ <code>threadFunction</code> å‡½æ•°ã€‚åœ¨å‡½æ•°ä¸­ï¼Œçº¿ç¨‹ä½¿ç”¨ <code>pthread_barrier_wait</code> å‡½æ•°ç­‰å¾…å…¶ä»–çº¿ç¨‹åˆ°è¾¾å±éšœã€‚ä¸€æ—¦æ‰€æœ‰çº¿ç¨‹éƒ½åˆ°è¾¾å±éšœï¼Œå®ƒä»¬å°†æ‰“å°æ¶ˆæ¯å¹¶ç»§ç»­æ‰§è¡Œã€‚</p><p>åœ¨ä¸»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯åŠ¨æ‰€æœ‰çº¿ç¨‹ï¼Œç„¶åç­‰å¾…å®ƒä»¬å®Œæˆã€‚æœ€åï¼Œæˆ‘ä»¬è°ƒç”¨ <code>pthread_barrier_destroy</code> å‡½æ•°æ¥é”€æ¯çº¿ç¨‹å±éšœï¼Œå¹¶æ ¹æ®è¿”å›å€¼åˆ¤æ–­æ˜¯å¦æˆåŠŸé”€æ¯ã€‚</p></blockquote><h3 id="è¿è¡Œç»“æœ-4"><a href="#è¿è¡Œç»“æœ-4" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><blockquote><p>Task1 will be blocked.<br>main process will sleep 1s.<br>Task2 will be blocked.<br>Task1 is running.<br>Task2 is running.</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_THREADS</span> <span class="token expression"><span class="token number">2</span></span></span><span class="token class-name">pthread_barrier_t</span> barrier<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Task1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Task2</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> policy<span class="token punctuation">,</span> inher<span class="token punctuation">;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>    <span class="token class-name">pthread_attr_t</span> attr<span class="token punctuation">;</span>    <span class="token keyword">struct</span> <span class="token class-name">sched_param</span> param<span class="token punctuation">;</span>    <span class="token function">pthread_attr_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_barrier_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> NUM_THREADS <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> Task1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>attr<span class="token punctuation">,</span> Task2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main process will sleep 1s.\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_barrier_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_barrier_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Task1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Task1 will be blocked.\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// your code here</span>    <span class="token function">pthread_barrier_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// end of your code</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Task1 is running.\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">Task2</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Task2 will be blocked.\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// your code here</span>    <span class="token function">pthread_barrier_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>barrier<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// end of your code</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Task2 is running.\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·"><a href="#è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·" class="headerlink" title="è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·"></a>è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·</h2><p>æœ¬èŠ‚å±•ç¤ºäº†è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·çš„æ–¹æ³•ã€‚</p><ul><li><code>pthread_self</code>è·å–è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·</li></ul><h3 id="å‡½æ•°è¯´æ˜-5"><a href="#å‡½æ•°è¯´æ˜-5" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-none"><code class="language-none">pthread_t pthread_self(void);è¿”å›è°ƒç”¨çº¿ç¨‹æ ‡è¯†å·ï¼Œè¿”å›ç±»å‹ä¸ºpthread_t<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>pthread_t pthread_self(void);</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–å½“å‰çº¿ç¨‹æ ‡è¯†ç¬¦çš„å‡½æ•°ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨POSIXçº¿ç¨‹åº“ï¼ˆpthreadï¼‰æ¥å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹ã€‚è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ª <code>pthread_t</code> ç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p><h3 id="è¿è¡Œç»“æœ-5"><a href="#è¿è¡Œç»“æœ-5" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><blockquote><p>main thread:  pid 1588 tid 2 (0x2)<br>new thread:  pid 1588 tid 1 (0x1)</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">printids</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>arg<span class="token punctuation">;</span>    <span class="token class-name">pid_t</span> pid<span class="token punctuation">;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>      pid <span class="token operator">=</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>    tid <span class="token operator">=</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s pid %u tid %u (0x%x)\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>pid<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ è¿”å›è¯­å¥</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>    <span class="token keyword">int</span> err<span class="token punctuation">;</span>        err <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> printids<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token string">"new thread: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"can't create thread: %s\n"</span><span class="token punctuation">,</span> <span class="token function">strerror</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token function">printids</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token string">"main thread: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹å–æ¶ˆ"><a href="#çº¿ç¨‹å–æ¶ˆ" class="headerlink" title="çº¿ç¨‹å–æ¶ˆ"></a>çº¿ç¨‹å–æ¶ˆ</h2><p>pthread_cancelè°ƒç”¨å¹¶ä¸ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢ï¼Œå®ƒåªæå‡ºè¯·æ±‚ã€‚çº¿ç¨‹åœ¨å–æ¶ˆè¯·æ±‚(pthread_cancel)å‘å‡ºåä¼šç»§ç»­è¿è¡Œã€‚</p><h3 id="å‡½æ•°è¯´æ˜-6"><a href="#å‡½æ•°è¯´æ˜-6" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_cancel</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> thread<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int pthread_cancel(pthread_t thread);</code> ç”¨äºè¯·æ±‚å–æ¶ˆæŒ‡å®šçº¿ç¨‹ã€‚å®ƒæ¥å—ä¸€ä¸ª <code>pthread_t</code> ç±»å‹çš„å‚æ•°ï¼Œè¡¨ç¤ºè¦å–æ¶ˆçš„çº¿ç¨‹æ ‡è¯†ç¬¦ã€‚å¦‚æœæˆåŠŸå–æ¶ˆçº¿ç¨‹ï¼Œå‡½æ•°è¿”å›0ï¼›å¦åˆ™è¿”å›é”™è¯¯ç ã€‚è¿™ä¸ªå‡½æ•°å…è®¸ä¸»çº¿ç¨‹æˆ–è€…å…¶ä»–çº¿ç¨‹å‘èµ·å¯¹ç›®æ ‡çº¿ç¨‹çš„å–æ¶ˆè¯·æ±‚ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>pthread_t thread</code>ï¼šè¦å–æ¶ˆçš„çº¿ç¨‹æ ‡è¯†ç¬¦ï¼Œå³ä½ æƒ³ç»“æŸçš„é‚£ä¸ªçº¿ç¨‹çš„å¥æŸ„ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å¦‚æœæˆåŠŸå‘é€äº†å–æ¶ˆè¯·æ±‚ï¼Œåˆ™è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œæ— æ•ˆçš„çº¿ç¨‹IDï¼‰ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><p>æ³¨æ„ï¼š</p><ol><li><p>å–æ¶ˆä¸€ä¸ªçº¿ç¨‹å¹¶ä¸æ„å‘³ç€å®ƒä¼šç«‹å³åœæ­¢æ‰§è¡Œã€‚ç›®æ ‡çº¿ç¨‹å¿…é¡»æ£€æŸ¥å¹¶å¤„ç†å–æ¶ˆè¯·æ±‚æ‰èƒ½çœŸæ­£ç»ˆæ­¢ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œçº¿ç¨‹éœ€è¦åœ¨å®‰å…¨ç‚¹æ£€æŸ¥<code>pthread_cancel</code>çŠ¶æ€ï¼Œå¹¶è°ƒç”¨<code>pthread_testcancel</code>æ¥å“åº”å–æ¶ˆè¯·æ±‚ã€‚</p></li><li><p>çº¿ç¨‹å¯ä»¥é€šè¿‡è®¾ç½®å–æ¶ˆç±»å‹ä¸º<code>PTHREAD_CANCEL_DISABLE</code>æ¥æš‚æ—¶ç¦ç”¨å–æ¶ˆï¼Œæˆ–è€…é€šè¿‡è°ƒç”¨<code>pthread_setcancelstate</code>å‡½æ•°æ”¹å˜å…¶å–æ¶ˆçŠ¶æ€ã€‚</p></li><li><p>ä¸ºäº†æ­£ç¡®åœ°æ¸…ç†èµ„æºï¼Œçº¿ç¨‹å¯ä»¥æ³¨å†Œä¸€ä¸ªå–æ¶ˆå¤„ç†å‡½æ•°(<code>pthread_cleanup_push</code>å’Œ<code>pthread_cleanup_pop</code>)ï¼Œå½“çº¿ç¨‹è¢«å–æ¶ˆæ—¶ï¼Œè¿™äº›å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œçº¿ç¨‹çš„å–æ¶ˆç±»å‹æ˜¯<code>PTHREAD_CANCEL_DEFERRED</code>ï¼Œè¿™æ„å‘³ç€åªæœ‰åœ¨çº¿ç¨‹è¿›å…¥å–æ¶ˆç‚¹æ—¶æ‰ä¼šçœŸæ­£å–æ¶ˆã€‚è‹¥è¦ä½¿å–æ¶ˆç«‹å³ç”Ÿæ•ˆï¼Œå¯ä»¥å°†çº¿ç¨‹çš„å–æ¶ˆç±»å‹è®¾ç½®ä¸º<code>PTHREAD_CANCEL_ASYNCHRONOUS</code>ã€‚</p></li></ol><p>ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread_function</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// åœ¨è¿™é‡Œè¿›è¡Œçº¿ç¨‹ä»»åŠ¡...</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å®šæœŸæ£€æŸ¥å–æ¶ˆçŠ¶æ€</span>        <span class="token function">pthread_testcancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¿™é‡Œåšä¸€äº›å·¥ä½œ...</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> thread_id<span class="token punctuation">;</span>    <span class="token keyword">int</span> rc<span class="token punctuation">;</span>    <span class="token comment">// åˆ›å»ºçº¿ç¨‹</span>    rc <span class="token operator">=</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thread_id<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread_function<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Error: Unable to create thread, %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åœ¨æŸä¸ªæ—¶åˆ»å†³å®šå–æ¶ˆçº¿ç¨‹</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‡è®¾ç­‰å¾…ä¸€æ®µæ—¶é—´åå†³å®šå–æ¶ˆçº¿ç¨‹</span>    rc <span class="token operator">=</span> <span class="token function">pthread_cancel</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Error: Unable to cancel thread, %d\n"</span><span class="token punctuation">,</span> rc<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread cancellation requested.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ç­‰å¾…è¢«å–æ¶ˆçš„çº¿ç¨‹ç»ˆæ­¢</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œç»“æœ-6"><a href="#è¿è¡Œç»“æœ-6" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p>ä¸ºäº†æ¯”è¾ƒè¾“å‡ºç»“æœï¼Œè¯·å°†ç¯å¢ƒè®¾ç½®ä¸­çš„å¹¶è¡Œæ ¸æ•°è°ƒä¸º1ã€‚æœ¬å®éªŒæš‚ä¸æ”¯æŒæ€§èƒ½è¯„æµ‹ã€‚</p><blockquote><p>thread 1 returning<br>thread 1 exit code 1<br>thread 2 exiting<br>thread 2 exit code 2<br>thread 3 writing<br>thread 3 writing<br>thread 3 writing<br>thread 3 exit code -1</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thr_fn1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 returning\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thr_fn2</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 exiting\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thr_fn3</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> time <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        time<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 3 writing\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>time <span class="token operator">>=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token operator">*</span>retval<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thr_fn1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 exit code %d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">intptr_t</span><span class="token punctuation">)</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®å¤ç±»å‹è½¬æ¢</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thr_fn2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 exit code %d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">intptr_t</span><span class="token punctuation">)</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¿®å¤ç±»å‹è½¬æ¢</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thr_fn3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//your code here</span>    <span class="token function">pthread_cancel</span><span class="token punctuation">(</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//end of your code</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éœ€è¦å¤„ç†å–æ¶ˆåçš„çº¿ç¨‹å¯èƒ½æ²¡æœ‰æœ‰æ•ˆé€€å‡ºçŠ¶æ€çš„æƒ…å†µ</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>retval <span class="token operator">==</span> PTHREAD_CANCELED<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 3 was canceled\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 3 exit code %d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">intptr_t</span><span class="token punctuation">)</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œä»éœ€è¿›è¡Œæ­£ç¡®çš„ç±»å‹è½¬æ¢</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹å±æ€§-çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»-2"><a href="#çº¿ç¨‹å±æ€§-çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»-2" class="headerlink" title="çº¿ç¨‹å±æ€§ - çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»(2)"></a>çº¿ç¨‹å±æ€§ - çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»(2)</h2><p>æœ¬èŠ‚å±•ç¤ºäº†çº¿ç¨‹è¿æ¥å’Œåˆ†ç¦»çš„åŸºæœ¬çŸ¥è¯†ã€‚</p><h3 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><ul><li><code>pthread_detach</code>å°†æŸä¸ªçº¿ç¨‹è®¾æˆåˆ†ç¦»æ€</li></ul><p>ä¸€èˆ¬æƒ…å†µä¸‹,çº¿ç¨‹ç»ˆæ­¢å,å…¶ç»ˆæ­¢çŠ¶æ€ä¸€ç›´ä¿ç•™åˆ°å…¶å®ƒçº¿ç¨‹è°ƒç”¨pthread_joinè·å–å®ƒçš„çŠ¶æ€ä¸ºæ­¢ã€‚ä½†æ˜¯çº¿ç¨‹ä¹Ÿå¯ä»¥è¢«ç½®ä¸ºdetachçŠ¶æ€,è¿™æ ·çš„çº¿ç¨‹ä¸€æ—¦ç»ˆæ­¢å°±ç«‹åˆ»å›æ”¶å®ƒå ç”¨çš„æ‰€æœ‰èµ„æº,è€Œä¸ä¿ç•™ç»ˆæ­¢çŠ¶æ€ã€‚ä¸èƒ½å¯¹ä¸€ä¸ªå·²ç»å¤„äºdetachçŠ¶æ€çš„çº¿ç¨‹è°ƒç”¨pthread_join,è¿™æ ·çš„è°ƒç”¨å°†è¿”å›EINVALã€‚å¦‚æœå·²ç»å¯¹ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†pthread_detachå°±ä¸èƒ½å†è°ƒç”¨pthread_joinäº†ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œè‹¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¸å…³å¿ƒå®ƒçš„è¿”å›å€¼,ä¹Ÿä¸æƒ³ä½¿ç”¨pthread_joinæ¥å›æ”¶èµ„æº(è°ƒç”¨pthread_joinçš„è¿›ç¨‹ä¼šé˜»å¡)ï¼Œå°±å¯ä»¥ä½¿ç”¨pthread_detach,å°†è¯¥çº¿ç¨‹çš„çŠ¶æ€è®¾ç½®ä¸ºåˆ†ç¦»æ€,ä½¿çº¿ç¨‹ç»“æŸå,ç«‹å³è¢«ç³»ç»Ÿå›æ”¶ã€‚<br>ä¸»çº¿ç¨‹é€€å‡ºäº†ï¼Œâ€œåˆ†ç¦»çº¿ç¨‹â€è¿˜æ˜¯ä¸€æ ·é€€å‡ºã€‚åªæ˜¯â€œåˆ†ç¦»çº¿ç¨‹â€çš„èµ„æºæ˜¯æœ‰ç³»ç»Ÿå›æ”¶çš„ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-7"><a href="#å‡½æ•°è¯´æ˜-7" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>å°†æŸä¸ªçº¿ç¨‹è®¾æˆåˆ†ç¦»æ€</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_detach</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> tid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">pthread_t</span> tid<span class="token operator">:</span>ã€€ã€€åˆ†ç¦»çº¿ç¨‹çš„tidè¿”å›å€¼<span class="token operator">:</span>æˆåŠŸè¿”å›<span class="token number">0</span><span class="token punctuation">,</span>å¤±è´¥è¿”å›é”™è¯¯å·ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>pthread_detach</code>æ˜¯POSIXçº¿ç¨‹åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†ä¸€ä¸ªå·²åˆ›å»ºçš„çº¿ç¨‹ä»å…¶åˆ›å»ºè€…åˆ†ç¦»ï¼ˆdetachï¼‰ã€‚</p><p>å‡½æ•°åŸå‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_detach</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> tid<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><code>pthread_t tid</code>ï¼šè¿™æ˜¯è¦åˆ†ç¦»çš„çº¿ç¨‹çš„æ ‡è¯†ç¬¦ã€‚åœ¨åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œpthread_createå‡½æ•°ä¼šè¿”å›è¿™ä¸ªtidï¼Œä»£è¡¨æ–°åˆ›å»ºçš„çº¿ç¨‹ã€‚</li></ul><p>å‡½æ•°åŠŸèƒ½ï¼š<br>å½“ä¸€ä¸ªçº¿ç¨‹è¢«åˆ†ç¦»åï¼Œå…¶èµ„æºï¼ˆå¦‚æ ˆç©ºé—´ç­‰ï¼‰å°†åœ¨è¯¥çº¿ç¨‹ç»ˆæ­¢æ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œè€Œæ— éœ€è°ƒç”¨pthread_joinå‡½æ•°ç­‰å¾…å…¶å®Œæˆã€‚è¿™æ„å‘³ç€åˆ†ç¦»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œä¸ä¼šä¿ç•™joinableçŠ¶æ€ï¼Œå› æ­¤ä¸»çº¿ç¨‹æˆ–å…¶ä»–çº¿ç¨‹æ— æ³•é€šè¿‡pthread_joinæ¥è·å–å…¶è¿”å›å€¼æˆ–ç¡®ä¿å®ƒå·²ç»ç»“æŸã€‚</p><p>è¿”å›å€¼ï¼š</p><ul><li>è‹¥æˆåŠŸåˆ†ç¦»çº¿ç¨‹ï¼Œåˆ™è¿”å›0ã€‚</li><li>è‹¥å‡ºé”™ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ç¼–å·ï¼Œå…·ä½“é”™è¯¯ä¿¡æ¯å¯é€šè¿‡errnoè·å–ã€‚</li></ul><p>åˆ†ç¦»çº¿ç¨‹çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ä¸å…³å¿ƒçº¿ç¨‹é€€å‡ºçŠ¶æ€å’Œè¿”å›å€¼çš„æƒ…å†µä¸‹ï¼Œå‡è½»ä¸»çº¿ç¨‹å¯¹å­çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†çš„è´Ÿæ‹…ã€‚</p><h3 id="è¾“å‡ºç»“æœ-1"><a href="#è¾“å‡ºç»“æœ-1" class="headerlink" title="è¾“å‡ºç»“æœ"></a>è¾“å‡ºç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">thread1 running...!thread1 running...!thread1 running...!thread1 running...!thread1 running...!thread1 running...!thread1 running...!thread1 running...!thread1 running...!Leave main thread!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><p>ç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚</p><p>åœ¨ç»™å‡ºçš„ä»£ç ä¸­ï¼Œ<code>thread1</code>å‡½æ•°æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯çš„çº¿ç¨‹ï¼Œå› æ­¤å®é™…ä¸Šè°ƒç”¨<code>pthread_detach</code>ä¹‹åä¸»çº¿ç¨‹æ— æ³•å¾—çŸ¥<code>thread1</code>ä½•æ—¶ç»“æŸã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ†ç¦»çº¿ç¨‹çš„æ„ä¹‰åœ¨äºä¸»çº¿ç¨‹ç»“æŸåï¼Œå³ä½¿æœªè°ƒç”¨<code>pthread_join</code>ï¼Œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨é‡Šæ”¾<code>thread1</code>æ‰€å ç”¨çš„èµ„æºã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token comment">// å®šä¹‰çº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// è¿™æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯çš„çº¿ç¨‹</span>    <span class="token punctuation">&#123;</span>        <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æš‚åœ100æ¯«ç§’</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread1 running...!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å®é™…ä¸Šç”±äºæ˜¯æ— é™å¾ªç¯ï¼Œä¸‹é¢è¿™è¡Œä»£ç å¯èƒ½æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œ</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Leave thread1!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºçº¿ç¨‹æ ‡è¯†ç¬¦</span>    <span class="token comment">// åˆ›å»ºå¹¶å¯åŠ¨çº¿ç¨‹</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_create failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ†ç¦»çº¿ç¨‹ï¼Œä½¿å…¶åœ¨å®Œæˆåè‡ªåŠ¨é‡Šæ”¾èµ„æºï¼Œæ— éœ€ç­‰å¾…ä¸»çº¿ç¨‹è°ƒç”¨pthread_join</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pthread_detach</span><span class="token punctuation">(</span>tid<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_detach failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸»çº¿ç¨‹æš‚åœ1ç§’</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Leave main thread! (The detached thread 'thread1' will continue to run in the background.)\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç ä¸­ï¼Œå¢åŠ äº†å¯¹<code>pthread_create</code>å’Œ<code>pthread_detach</code>é”™è¯¯å¤„ç†çš„éƒ¨åˆ†ï¼Œä½¿å¾—ç¨‹åºåœ¨åˆ›å»ºæˆ–åˆ†ç¦»çº¿ç¨‹å¤±è´¥æ—¶èƒ½å¤Ÿæ‰“å°é”™è¯¯ä¿¡æ¯å¹¶é€€å‡ºã€‚åŒæ—¶ï¼Œä¸»çº¿ç¨‹è¾“å‡ºä¿¡æ¯ä¹Ÿè¯´æ˜äº†detachçº¿ç¨‹åçš„æƒ…å†µã€‚</p><h2 id="æ¯”è¾ƒçº¿ç¨‹æ ‡è¯†å·"><a href="#æ¯”è¾ƒçº¿ç¨‹æ ‡è¯†å·" class="headerlink" title="æ¯”è¾ƒçº¿ç¨‹æ ‡è¯†å·"></a>æ¯”è¾ƒçº¿ç¨‹æ ‡è¯†å·</h2><p>æœ¬èŠ‚ä»‹ç»äº†æ¯”è¾ƒä¸¤ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ ‡è¯†ç¬¦æ˜¯å¦ç›¸åŒçš„æ–¹æ³•ã€‚</p><p>çº¿ç¨‹æ ‡è¯†å·çš„ç±»å‹ä¸ºpthread_tï¼Œæ˜¯ä¸é€æ˜ç±»å‹ã€‚ä¸ºäº†ä½¿ç¨‹åºæ›´å®¹æ˜“ç§»æ¤ï¼ŒPthreadsæä¾›äº†å¯¹ä¸¤ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ ‡è¯†å·è¿›è¡Œæ¯”è¾ƒçš„å‡½æ•°ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-8"><a href="#å‡½æ•°è¯´æ˜-8" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>æ¯”è¾ƒä¸¤ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ ‡è¯†ç¬¦æ˜¯å¦ç›¸åŒ</p><p><code>pthread_equal</code>ç”¨äºæ¯”è¾ƒä¸¤ä¸ªçº¿ç¨‹çš„æ ‡è¯†ç¬¦æ˜¯å¦ç›¸åŒ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_equal</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> t1<span class="token punctuation">,</span> <span class="token class-name">pthread_t</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><code>pthread_t t1</code>ï¼šç¬¬ä¸€ä¸ªçº¿ç¨‹æ ‡è¯†ç¬¦ã€‚</li><li><code>pthread_t t2</code>ï¼šç¬¬äºŒä¸ªçº¿ç¨‹æ ‡è¯†ç¬¦ã€‚</li></ul><p>è¯¥å‡½æ•°æ¯”è¾ƒ<code>t1</code>å’Œ<code>t2</code>ä¸¤ä¸ªçº¿ç¨‹æ ‡è¯†ç¬¦æ˜¯å¦æŒ‡å‘åŒä¸€çº¿ç¨‹ã€‚å¦‚æœä¸¤è€…æŒ‡å‘åŒä¸€ä¸ªçº¿ç¨‹ï¼Œåˆ™è¿”å›éé›¶å€¼ï¼ˆé€šå¸¸ä¸º1ï¼‰ï¼Œå¦åˆ™è¿”å›0ã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼š<br>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œæœ‰æ—¶éœ€è¦ç¡®å®šä¸¤ä¸ªçº¿ç¨‹æ ‡è¯†ç¬¦æ˜¯å¦å¯¹åº”äºåŒä¸€ä¸ªçº¿ç¨‹å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œåœ¨åŒæ­¥æˆ–é€šä¿¡æ“ä½œä¸­ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥å½“å‰çº¿ç¨‹æ˜¯å¦ä¸æŸä¸ªç‰¹å®šçš„å·²çŸ¥çº¿ç¨‹ç›¸åŒ¹é…ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pthread_t</span> tid1<span class="token punctuation">,</span> tid2<span class="token punctuation">;</span><span class="token comment">// å‡è®¾tid1å’Œtid2æ˜¯ä»pthread_createå¾—åˆ°çš„ä¸åŒçº¿ç¨‹çš„æ ‡è¯†ç¬¦</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread_function1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// åˆ›å»ºçº¿ç¨‹æˆåŠŸ</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread_function2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// åˆ›å»ºçº¿ç¨‹æˆåŠŸ</span><span class="token punctuation">&#125;</span><span class="token comment">// æ£€æŸ¥tid1å’Œtid2æ˜¯å¦ä»£è¡¨åŒä¸€ä¸ªçº¿ç¨‹</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_equal</span><span class="token punctuation">(</span>tid1<span class="token punctuation">,</span> tid2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"tid1 and tid2 represent the same thread.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"tid1 and tid2 represent different threads.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>pthread_equal(tid1, tid2)</code>å°†è¿”å›0ï¼Œå› ä¸ºå®ƒä»¬åˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªä¸åŒçº¿ç¨‹ã€‚</p><h3 id="è¿è¡Œç»“æœ-7"><a href="#è¿è¡Œç»“æœ-7" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">Thread ID: 1.Equal!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> thread_id<span class="token punctuation">;</span>    <span class="token comment">// è·å–å½“å‰çº¿ç¨‹ID</span>    thread_id <span class="token operator">=</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread ID: %lu.\n"</span><span class="token punctuation">,</span> thread_id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ£€æŸ¥ä¸¤æ¬¡è·å–çš„çº¿ç¨‹IDæ˜¯å¦ç›¸åŒï¼ˆç†è®ºä¸Šå®ƒä»¬åº”è¯¥æ€»æ˜¯ç›¸åŒçš„ï¼‰</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token function">pthread_equal</span><span class="token punctuation">(</span>thread_id<span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span>      <span class="token punctuation">&#123;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The Thread IDs are equal, as expected!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Unexpected: The Thread IDs are not equal!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="çº¿ç¨‹ç§æœ‰æ•°æ®"><a href="#çº¿ç¨‹ç§æœ‰æ•°æ®" class="headerlink" title="çº¿ç¨‹ç§æœ‰æ•°æ®"></a>çº¿ç¨‹ç§æœ‰æ•°æ®</h2><p>æœ¬èŠ‚å±•ç¤ºäº†çº¿ç¨‹ç§æœ‰æ•°æ®çš„ç›¸å…³æ–¹æ³•ã€‚</p><p><code>pthread_key_create</code>ã€<code>pthread_setspecific</code>ã€<code>pthread_getspecific</code>å’Œ<code>pthread_key_delete</code>è¿™ä¸€ç³»åˆ—å‡½æ•°ä¸»è¦ç”¨äºç®¡ç†çº¿ç¨‹ç‰¹å®šçš„æ•°æ®ï¼ˆThread-Specific Data, TSDï¼‰ï¼Œä¹Ÿç§°ä¸ºçº¿ç¨‹å±€éƒ¨å­˜å‚¨ï¼ˆThread-Local Storage, TLSï¼‰</p><ul><li><code>pthread_key_create</code>åˆ›å»ºä¸€ä¸ªé”®</li><li><code>pthread_setspecific</code>ä¸ºä¸€ä¸ªé”®è®¾ç½®çº¿ç¨‹ç§æœ‰æ•°æ®</li><li><code>pthread_getspecific</code>ä»ä¸€ä¸ªé”®è¯»å–çº¿ç¨‹ç§æœ‰æ•°æ®</li><li><code>pthread_key_delete</code>åˆ é™¤ä¸€ä¸ªé”®</li></ul><p>åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹ï¼Œè¿›ç¨‹å†…çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¿›ç¨‹çš„æ•°æ®ç©ºé—´ã€‚å› æ­¤å…¨å±€å˜é‡ä¸ºæ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚åœ¨ç¨‹åºè®¾è®¡ä¸­æœ‰æ—¶éœ€è¦ä¿å­˜çº¿ç¨‹è‡ªå·±çš„å…¨å±€å˜é‡ï¼Œè¿™ç§ç‰¹æ®Šçš„å˜é‡ä»…åœ¨çº¿ç¨‹å†…éƒ¨æœ‰æ•ˆã€‚<br>çº¿ç¨‹ç§æœ‰æ•°æ®é‡‡ç”¨äº†ä¸€é”®å¤šå€¼çš„æŠ€æœ¯ï¼Œå³ä¸€ä¸ªé”®å¯¹åº”å¤šä¸ªå€¼ã€‚è®¿é—®æ•°æ®æ—¶éƒ½æ˜¯é€šè¿‡é”®å€¼æ¥è®¿é—®ï¼Œå¥½åƒæ˜¯å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œè®¿é—®ï¼Œå…¶å®æ˜¯åœ¨è®¿é—®ä¸åŒçš„æ•°æ®ã€‚</p><h3 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h3><p>1ã€åˆ›å»ºä¸€ä¸ªé”®<br>2ã€ä¸ºä¸€ä¸ªé”®è®¾ç½®çº¿ç¨‹ç§æœ‰æ•°æ®<br>3ã€ä»ä¸€ä¸ªé”®è¯»å–çº¿ç¨‹ç§æœ‰æ•°æ®void *pthread_getspecific(pthread_key_t key);<br>4ã€çº¿ç¨‹é€€å‡ºï¼ˆé€€å‡ºæ—¶ï¼Œä¼šè°ƒç”¨destructoré‡Šæ”¾åˆ†é…çš„ç¼“å­˜ï¼Œå‚æ•°æ˜¯keyæ‰€å…³è”çš„æ•°æ®ï¼‰<br>5ã€åˆ é™¤ä¸€ä¸ªé”®</p><h3 id="å‡½æ•°è¯´æ˜-9"><a href="#å‡½æ•°è¯´æ˜-9" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>åˆ›å»ºä¸€ä¸ªé”®</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_key_create</span><span class="token punctuation">(</span><span class="token class-name">pthread_key_t</span> <span class="token operator">*</span>key<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>destructor<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>pthread_key_create(pthread_key_t *key, void (*destructor)(void*))c</code></p><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŒ‡å‘ä¸€ä¸ªé”®å€¼çš„æŒ‡é’ˆï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡æ˜äº†ä¸€ä¸ªdestructorå‡½æ•°ï¼Œ<br>å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå½“æ¯ä¸ªçº¿ç¨‹ç»“æŸæ—¶ï¼Œç³»ç»Ÿå°†è°ƒç”¨è¿™ä¸ªå‡½æ•°æ¥é‡Šæ”¾ç»‘å®šåœ¨è¿™ä¸ªé”®ä¸Šçš„å†…å­˜å—ã€‚<br>keyä¸€æ—¦è¢«åˆ›å»ºï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å®ƒï¼Œä½†å„çº¿ç¨‹å¯æ ¹æ®è‡ªå·±çš„éœ€è¦å¾€keyä¸­å¡«å…¥ä¸åŒçš„å€¼ï¼Œè¿™å°±ç›¸å½“äºæä¾›äº†ä¸€ä¸ªåŒåè€Œä¸åŒå€¼çš„å…¨å±€å˜é‡ï¼Œä¸€é”®å¤šå€¼ã€‚</li><li>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ç§æœ‰æ•°æ®é”®ã€‚å‚æ•°<code>key</code>æ˜¯ä¸€ä¸ªæŒ‡å‘pthread_key_tç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨åˆ›å»ºçš„é”®å€¼ï¼›<code>destructor</code>æ˜¯ä¸€ä¸ªå¯é€‰çš„æ¸…ç†å‡½æ•°ï¼Œå½“å…³è”æ­¤é”®çš„çº¿ç¨‹ç»ˆæ­¢æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè¢«è°ƒç”¨æ¥é‡Šæ”¾åˆ†é…ç»™è¿™ä¸ªé”®çš„ç§æœ‰æ•°æ®ã€‚</li></ul><p>ä¸ºä¸€ä¸ªé”®è®¾ç½®çº¿ç¨‹ç§æœ‰æ•°æ®</p><pre class="line-numbers language-none"><code class="language-none">int pthread_setspecific(pthread_key_t key,const void *pointer));<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>pthread_setspecific(pthread_key_t key, const void *value)</code></p><ul><li>ä¸ºæŒ‡å®šçš„é”®è®¾ç½®çº¿ç¨‹ç§æœ‰æ•°æ®ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ä¸ºåŒä¸€ä¸ªé”®è®¾ç½®ä¸åŒçš„å€¼ï¼Œäº’ä¸å½±å“ã€‚å‚æ•°<code>key</code>æ˜¯é€šè¿‡<code>pthread_key_create</code>åˆ›å»ºçš„é”®ï¼Œ<code>value</code>æ˜¯è¦å…³è”åˆ°æ­¤é”®çš„ç§æœ‰æ•°æ®æŒ‡é’ˆã€‚</li></ul><p>ä»ä¸€ä¸ªé”®è¯»å–çº¿ç¨‹ç§æœ‰æ•°æ®</p><pre class="line-numbers language-none"><code class="language-none">void *pthread_getspecific(pthread_key_t key);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>void* pthread_getspecific(pthread_key_t key)</code></p><ul><li>æ ¹æ®æŒ‡å®šçš„é”®è·å–å½“å‰çº¿ç¨‹å…³è”çš„ç§æœ‰æ•°æ®ã€‚è¿”å›ä¸é”®å…³è”çš„çº¿ç¨‹ç‰¹å®šæ•°æ®çš„æŒ‡é’ˆã€‚</li></ul><p>åˆ é™¤ä¸€ä¸ªé”®</p><pre class="line-numbers language-none"><code class="language-none">int pthread_key_delete(pthread_key_t key);åˆ é™¤åï¼Œé”®æ‰€å ç”¨çš„å†…å­˜å°†è¢«é‡Šæ”¾ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>int pthread_key_delete(pthread_key_t key)</code></p><ul><li>åˆ é™¤å·²åˆ›å»ºçš„çº¿ç¨‹ç§æœ‰æ•°æ®é”®ã€‚ä¸€æ—¦é”®è¢«åˆ é™¤ï¼Œæ‰€æœ‰çº¿ç¨‹ä¸è¯¥é”®å…³è”çš„ç§æœ‰æ•°æ®éƒ½å°†å¤±æ•ˆï¼Œå¦‚æœä¹‹å‰è®¾ç½®äº†æ¸…ç†å‡½æ•°ï¼Œä¼šåœ¨æœ€åä¸€ä¸ªä¸è¯¥é”®å…³è”çš„çº¿ç¨‹ç»“æŸæ—¶æ‰§è¡Œã€‚</li></ul><h3 id="ä¸¾ä¾‹è¯´æ˜ï¼š"><a href="#ä¸¾ä¾‹è¯´æ˜ï¼š" class="headerlink" title="ä¸¾ä¾‹è¯´æ˜ï¼š"></a>ä¸¾ä¾‹è¯´æ˜ï¼š</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">static</span> <span class="token class-name">pthread_key_t</span> thread_data_key<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">cleanup_thread_data</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> data<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">free</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread_function</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span><span class="token operator">*</span> data <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>data <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–ç§æœ‰æ•°æ®</span>    <span class="token function">pthread_setspecific</span><span class="token punctuation">(</span>thread_data_key<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥éšæ—¶é€šè¿‡é”®è®¿é—®è‡ªå·±çš„ç§æœ‰æ•°æ®</span>    <span class="token keyword">int</span><span class="token operator">*</span> my_data <span class="token operator">=</span> <span class="token function">pthread_getspecific</span><span class="token punctuation">(</span>thread_data_key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Thread private data: %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>my_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_key_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thread_data_key<span class="token punctuation">,</span> cleanup_thread_data<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_key_create"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread_function<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¸»çº¿ç¨‹ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„ç§æœ‰æ•°æ®ï¼Œä¸å­çº¿ç¨‹äº’ä¸å½±å“</span>    <span class="token comment">// ...</span>    <span class="token comment">// æœ€ååˆ é™¤é”®</span>    <span class="token function">pthread_key_delete</span><span class="token punctuation">(</span>thread_data_key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºã€è®¾ç½®ã€è·å–ä»¥åŠåˆ é™¤çº¿ç¨‹ç§æœ‰æ•°æ®ã€‚æ¯ä¸ªçº¿ç¨‹é€šè¿‡<code>pthread_setspecific</code>ä¿å­˜è‡ªå·±çš„ç§æœ‰æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»»ä½•æ—¶å€™é€šè¿‡<code>pthread_getspecific</code>æ¥è®¿é—®è¿™äº›æ•°æ®ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–çº¿ç¨‹ã€‚å½“çº¿ç¨‹ç»“æŸæ—¶ï¼Œè‹¥å®šä¹‰äº†æ¸…ç†å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ¸…ç†å…¶ç§æœ‰æ•°æ®ã€‚</p><h3 id="è¿è¡Œç»“æœ-8"><a href="#è¿è¡Œç»“æœ-8" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">main thread:1 is runningthread:2 is runningthread:2 return 1thread:3 is runningthread:3 return 2thread:1 return 0main thread exit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token class-name">pthread_key_t</span> key1<span class="token punctuation">;</span><span class="token class-name">pthread_key_t</span> key2<span class="token punctuation">;</span><span class="token class-name">pthread_t</span> thid1<span class="token punctuation">;</span><span class="token class-name">pthread_t</span> thid2<span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread:%lu is running\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> key_va <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">pthread_setspecific</span><span class="token punctuation">(</span>key1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>key_va<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>thid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ äº†å¯¹çº¿ç¨‹2çš„ç­‰å¾…ï¼Œç¡®ä¿å…¶æ‰§è¡Œå®Œæ¯•åå†è¿”å›</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread:%lu return %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">pthread_getspecific</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread:%lu is running\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> key_va <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token function">pthread_setspecific</span><span class="token punctuation">(</span>key2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>key_va<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread:%lu return %d\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">pthread_getspecific</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ äº†è¿”å›è¯­å¥ä»¥æ¶ˆé™¤ç¼–è¯‘è­¦å‘Š</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main thread:%lu is running\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_key_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>key1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_key_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>key2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>thid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_join</span><span class="token punctuation">(</span>thid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_key_delete</span><span class="token punctuation">(</span>key1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_key_delete</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main thread exit\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¯»å†™é”"><a href="#è¯»å†™é”" class="headerlink" title="è¯»å†™é”"></a>è¯»å†™é”</h2><p>æœ¬èŠ‚å±•ç¤ºäº†è¯»å†™é”çš„ç›¸å…³æ–¹æ³•ã€‚</p><h3 id="åŸºæœ¬çŸ¥è¯†-1"><a href="#åŸºæœ¬çŸ¥è¯†-1" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><p>è¯»å†™é”ä¸äº’æ–¥é‡ç±»ä¼¼ï¼Œä¸è¿‡è¯»å†™é”å…è®¸æ›´é«˜çš„å¹¶è¡Œæ€§ã€‚äº’æ–¥é‡è¦ä¹ˆæ˜¯é”ä½çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯ä¸åŠ é”çŠ¶æ€ï¼Œè€Œä¸”ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶åŠ é”ã€‚<br>è¯»å†™é”å¯ä»¥æœ‰ä¸‰ç§çŠ¶æ€ï¼šè¯»æ¨¡å¼ä¸‹åŠ é”çŠ¶æ€ï¼Œå†™æ¨¡å¼ä¸‹åŠ é”çŠ¶æ€ï¼Œä¸åŠ é”çŠ¶æ€ã€‚ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å æœ‰å†™æ¨¡å¼çš„è¯»å†™é”ï¼Œä½†æ˜¯å¤šä¸ªçº¿ç¨‹å¯ç”¨åŒæ—¶å æœ‰è¯»æ¨¡å¼çš„è¯»å†™é”ã€‚<br>è¯»å†™é”ä¹Ÿå«åšå…±äº«-ç‹¬å é”ï¼Œå½“è¯»å†™é”ä»¥è¯»æ¨¡å¼é”ä½æ—¶ï¼Œå®ƒæ˜¯ä»¥å…±äº«æ¨¡å¼é”ä½çš„ï¼Œå½“å®ƒä»¥å†™æ¨¡å¼é”ä½æ—¶ï¼Œå®ƒæ˜¯ä»¥ç‹¬å æ¨¡å¼é”ä½çš„ã€‚</p><ol><li>å½“è¯»å†™é”æ˜¯å†™åŠ é”çŠ¶æ€æ—¶ï¼Œåœ¨è¿™ä¸ªé”è¢«è§£é”ä¹‹å‰ï¼Œæ‰€æœ‰è¯•å›¾å¯¹è¿™ä¸ªé”åŠ é”çš„çº¿ç¨‹éƒ½ä¼šè¢«é˜»å¡ï¼›</li><li>å½“è¯»å†™é”åœ¨è¯»åŠ é”çŠ¶æ€æ—¶ï¼Œæ‰€æœ‰è¯•å›¾ä»¥è¯»æ¨¡å¼å¯¹å®ƒè¿›è¡ŒåŠ é”çš„çº¿ç¨‹éƒ½å¯ä»¥å¾—åˆ°è®¿é—®æƒï¼Œä½†æ˜¯ä»¥å†™æ¨¡å¼å¯¹å®ƒè¿›è¡Œæ·é”çš„çº¿ç¨‹å°†é˜»å¡ï¼›</li><li>å½“è¯»å†™é”åœ¨è¯»æ¨¡å¼é”çŠ¶æ€æ—¶ï¼Œå¦‚æœæœ‰å¦å¤–çº¿ç¨‹è¯•å›¾ä»¥å†™æ¨¡å¼åŠ é”ï¼Œè¯»å†™é”é€šå¸¸ä¼šé˜»å¡éšåçš„è¯»æ¨¡å¼é”è¯·æ±‚ï¼Œè¿™æ ·å¯ä»¥é¿å…è¯»æ¨¡å¼é”é•¿æœŸå ç”¨ï¼Œè€Œç­‰å¾…çš„å†™æ¨¡å¼é”è¯·æ±‚é•¿æœŸé˜»å¡ï¼›</li></ol><ul><li><p><code>pthread_rwlock_init</code>åˆ›å»ºé”</p></li><li><p><code>pthread_rwlock_destroy</code>é”€æ¯é”</p></li><li><p><code>pthread_rwlock_rdlock</code>è·å–ä¸€ä¸ªè¯»å‡ºé”</p></li><li><p><code>pthread_rwlock_wrlock</code>è·å–ä¸€ä¸ªå†™å…¥é”</p></li><li><p><code>pthread_rwlock_unlock</code>é‡Šæ”¾ä¸€ä¸ªå†™å…¥é”æˆ–è€…è¯»å‡ºé”</p></li><li><p><code>pthread_rwlock_tryrdlock</code>éé˜»å¡è·å¾—è¯»é”</p></li><li><p><code>pthread_rwlock_trywrlock</code>éé˜»å¡è·å¾—å†™é”</p></li></ul><p>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œè¯»å†™é”ï¼ˆä¹Ÿç§°ä¸ºè¯»-å†™é”æˆ–å…±äº«-ç‹¬å é”ï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿæä¾›æ›´ç»†ç²’åº¦æ§åˆ¶çš„åŒæ­¥æœºåˆ¶ã€‚å®ƒå…è®¸ä¸€ä¸ªèµ„æºåœ¨åŒä¸€æ—¶é—´è¢«å¤šä¸ªè¯»è€…çº¿ç¨‹åŒæ—¶è¯»å–ï¼Œä½†åœ¨ä»»ä½•æ—¶å€™åªå…è®¸ä¸€ä¸ªå†™è€…çº¿ç¨‹è¿›è¡Œå†™å…¥æ“ä½œã€‚è¿™æ ·å¯ä»¥æé«˜ç³»ç»Ÿå¹¶å‘æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯»å¤šå†™å°‘çš„æƒ…å†µä¸‹ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨è¯»å†™é”çš„åŸºæœ¬æ“ä½œç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token class-name">pthread_rwlock_t</span> rwlock<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">initialize_rwlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">read_lock_and_operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_rdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨è¿™é‡Œæ‰§è¡Œè¯»å–æ“ä½œ</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Reading from a shared resource by thread %lu.\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">write_lock_and_operation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_wrlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨è¿™é‡Œæ‰§è¡Œå†™å…¥æ“ä½œ</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Writing to the shared resource by thread %lu.\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ›´æ–°å…±äº«èµ„æº...</span>    <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">destroy_rwlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">initialize_rwlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆ›å»ºå¹¶å¯åŠ¨å¤šä¸ªè¯»çº¿ç¨‹å’Œå†™çº¿ç¨‹</span>    <span class="token comment">// ä¾‹å¦‚ï¼š</span>    <span class="token class-name">pthread_t</span> reader_thread<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>reader_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>read_lock_and_operation<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">pthread_t</span> writer_thread<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>writer_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>write_lock_and_operation<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>reader_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>writer_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">destroy_rwlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦å¤–ï¼Œ<code>pthread_rwlock_tryrdlock</code> å’Œ <code>pthread_rwlock_trywrlock</code> å‡½æ•°æä¾›äº†éé˜»å¡ç‰ˆæœ¬çš„è¯»å†™é”è·å–æ“ä½œï¼Œå¦‚æœæ— æ³•ç«‹å³è·å–é”ï¼Œåˆ™è¿”å›é”™è¯¯è€Œéé˜»å¡ç­‰å¾…ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æˆåŠŸè·å–è¯»é”ï¼Œæ‰§è¡Œè¯»å–æ“ä½œ</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// é”ä¸å¯ç”¨ï¼Œé‡‡å–ç›¸åº”ç­–ç•¥ï¼ˆå¦‚ï¼šç¨åé‡è¯•ã€åˆ‡æ¢è‡³å…¶ä»–ä»»åŠ¡ç­‰ï¼‰</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_trywrlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// æˆåŠŸè·å–å†™é”ï¼Œæ‰§è¡Œå†™å…¥æ“ä½œ</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// é”ä¸å¯ç”¨ï¼Œé‡‡å–ç›¸åº”ç­–ç•¥</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡åˆç†åˆ©ç”¨è¯»å†™é”ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…ä¸å¿…è¦çš„çº¿ç¨‹é˜»å¡ï¼Œä»è€Œæå‡ç¨‹åºçš„å¹¶å‘æ€§å’Œæ•´ä½“æ€§èƒ½ã€‚</p><h4 id="åˆ›å»ºä¸é”€æ¯é”"><a href="#åˆ›å»ºä¸é”€æ¯é”" class="headerlink" title="åˆ›å»ºä¸é”€æ¯é”"></a>åˆ›å»ºä¸é”€æ¯é”</h4><p><code>pthread_rwlock_init</code>å’Œ<code>pthread_rwlock_destroy</code>æ˜¯POSIXçº¿ç¨‹åº“ä¸­çš„è¯»å†™é”åˆå§‹åŒ–å’Œé”€æ¯å‡½æ•°ã€‚</p><ol><li><p><strong>pthread_rwlock_init</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwlock<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token class-name">pthread_rwlockattr_t</span> <span class="token operator">*</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šåˆå§‹åŒ–ä¸€ä¸ªè¯»å†™é”å˜é‡ã€‚è¿™ä¸ªå‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„è¯»å†™é”ï¼Œä½¿å®ƒå¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹ç”¨æ¥åŒæ­¥å¯¹å…±äº«èµ„æºçš„è¯»å†™è®¿é—®ã€‚</li><li>å‚æ•°ï¼š<ul><li><code>pthread_rwlock_t *rwlock</code>ï¼šæŒ‡å‘è¯»å†™é”å¯¹è±¡çš„æŒ‡é’ˆï¼Œéœ€è¦å…ˆå£°æ˜å¹¶åˆå§‹åŒ–ä¸ºNULLã€‚</li><li><code>const pthread_rwlockattr_t *attr</code>ï¼šæŒ‡å‘è¯»å†™é”å±æ€§å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¯ä»¥è®¾ç½®é”çš„ä¸€äº›é«˜çº§ç‰¹æ€§ï¼ˆå¦‚è¿›ç¨‹é—´å…±äº«ç­‰ï¼‰ã€‚å¦‚æœä¸éœ€è¦ç‰¹æ®Šå±æ€§ï¼Œé€šå¸¸ä¼ å…¥NULLå³å¯ä½¿ç”¨é»˜è®¤å±æ€§ã€‚</li></ul></li></ul></li><li><p><strong>pthread_rwlock_destroy</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šé”€æ¯å·²ç»åˆå§‹åŒ–è¿‡çš„è¯»å†™é”ã€‚åœ¨ä¸å†éœ€è¦ä½¿ç”¨è¯»å†™é”ï¼Œå¹¶ä¸”æ‰€æœ‰çº¿ç¨‹éƒ½å·²è§£é”çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨æ­¤å‡½æ•°æ¥é‡Šæ”¾ä¸è¯¥é”å…³è”çš„ç³»ç»Ÿèµ„æºã€‚</li><li>å‚æ•°ï¼š<ul><li><code>pthread_rwlock_t *rwptr</code>ï¼šæŒ‡å‘ä¹‹å‰é€šè¿‡<code>pthread_rwlock_init</code>æˆåŠŸåˆå§‹åŒ–è¿‡çš„è¯»å†™é”å¯¹è±¡çš„æŒ‡é’ˆã€‚</li></ul></li></ul></li></ol><p>æ­£ç¡®ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°çš„æ–¹å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pthread_rwlock_t</span> my_rwlock<span class="token punctuation">;</span><span class="token comment">// åˆå§‹åŒ–è¯»å†™é”</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>my_rwlock<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_rwlock_init failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ä½¿ç”¨è¯»å†™é”è¿›è¡ŒåŒæ­¥...</span><span class="token comment">// ...</span><span class="token comment">// åœ¨ä¸å†éœ€è¦è¯»å†™é”æ—¶é”€æ¯å®ƒ</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>my_rwlock<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_rwlock_destroy failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å¤„ç†é”™è¯¯æˆ–é€‰æ‹©å¿½ç•¥ï¼ˆå–å†³äºç¨‹åºé€»è¾‘ï¼‰</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šåœ¨é”€æ¯è¯»å†™é”å‰ï¼Œå¿…é¡»ç¡®ä¿æ²¡æœ‰ä»»ä½•çº¿ç¨‹æ­£æŒæœ‰è¯¥é”ï¼ˆæ— è®ºæ˜¯è¯»é”è¿˜æ˜¯å†™é”ï¼‰ï¼Œå¦åˆ™<code>pthread_rwlock_destroy</code>ä¼šå¤±è´¥å¹¶è¿”å›é”™è¯¯ã€‚</p><h4 id="è·å–å’Œé‡Šæ”¾é”"><a href="#è·å–å’Œé‡Šæ”¾é”" class="headerlink" title="è·å–å’Œé‡Šæ”¾é”"></a>è·å–å’Œé‡Šæ”¾é”</h4><ol><li><p><strong>pthread_rwlock_rdlock</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_rdlock</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šå¯¹ç»™å®šçš„è¯»å†™é”ï¼ˆ<code>rwptr</code>ï¼‰è¿›è¡Œè¯»å–é”å®šã€‚å½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰å…¶ä»–çº¿ç¨‹æŒæœ‰å†™å…¥é”ï¼Œå¹¶ä¸”æ²¡æœ‰æ­£åœ¨ç­‰å¾…è·å–å†™å…¥é”çš„çº¿ç¨‹ï¼Œåˆ™å½“å‰çº¿ç¨‹å¯ä»¥è·å¾—è¯»å–é”å¹¶å¼€å§‹è¯»å–å…±äº«èµ„æºã€‚å¦‚æœæœ‰å†™å…¥é”è¢«æŒæœ‰æˆ–æœ‰çº¿ç¨‹åœ¨ç­‰å¾…å†™å…¥é”ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°ä¼šé˜»å¡ç›´åˆ°å¯ä»¥è·å–è¯»å–é”ã€‚</li><li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul></li><li><p><strong>pthread_rwlock_wrlock</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_wrlock</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šå¯¹ç»™å®šçš„è¯»å†™é”ï¼ˆ<code>rwptr</code>ï¼‰è¿›è¡Œå†™å…¥é”å®šã€‚å½“è°ƒç”¨æ­¤å‡½æ•°æ—¶ï¼Œæ— è®ºæ˜¯å¦æœ‰å…¶ä»–çº¿ç¨‹æŒæœ‰è¯»å–é”æˆ–è€…å†™å…¥é”ï¼Œéƒ½ä¼šé˜»å¡ç›´åˆ°å½“å‰çº¿ç¨‹èƒ½å¤Ÿè·å¾—å†™å…¥é”ã€‚åªæœ‰åœ¨æ²¡æœ‰ä»»ä½•çº¿ç¨‹æŒæœ‰è¯»å–é”æˆ–å†™å…¥é”çš„æƒ…å†µä¸‹ï¼Œå½“å‰çº¿ç¨‹æ‰èƒ½è·å–å†™å…¥é”å¹¶å¼€å§‹ä¿®æ”¹å…±äº«èµ„æºã€‚</li><li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul></li><li><p><strong>pthread_rwlock_unlock</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwptr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šé‡Šæ”¾ä¸€ä¸ªä¹‹å‰é€šè¿‡<code>pthread_rwlock_rdlock</code>æˆ–<code>pthread_rwlock_wrlock</code>è·å–çš„è¯»å‡ºé”æˆ–å†™å…¥é”ã€‚è°ƒç”¨æ­¤å‡½æ•°åï¼Œå…¶ä»–ç­‰å¾…ç›¸åŒé”çš„çº¿ç¨‹ï¼ˆæ— è®ºæ˜¯è¯»å–è¿˜æ˜¯å†™å…¥è¯·æ±‚ï¼‰å¯èƒ½ä¼šè¢«å”¤é†’å¹¶æœ‰æœºä¼šè·å–é”ã€‚</li><li>è¿”å›å€¼ï¼šæˆåŠŸè¿”å›0ï¼Œå‡ºé”™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul></li></ol><p>ç¤ºä¾‹ä½¿ç”¨ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pthread_rwlock_t</span> rwlock<span class="token punctuation">;</span><span class="token keyword">int</span> shared_data<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_rdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¯»å–shared_data</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Reader: Data is %d\n"</span><span class="token punctuation">,</span> shared_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">writer</span><span class="token punctuation">(</span><span class="token keyword">int</span> new_value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_wrlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¿®æ”¹shared_data</span>    shared_data <span class="token operator">=</span> new_value<span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Writer: Updated data to %d\n"</span><span class="token punctuation">,</span> shared_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆ›å»ºå’Œå¯åŠ¨å¤šä¸ªè¯»çº¿ç¨‹ä¸å†™çº¿ç¨‹</span>    <span class="token comment">// é”€æ¯è¯»å†™é”</span>    <span class="token function">pthread_rwlock_destroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="éé˜»å¡è·å¾—è¯»é”å’Œå†™é”"><a href="#éé˜»å¡è·å¾—è¯»é”å’Œå†™é”" class="headerlink" title="éé˜»å¡è·å¾—è¯»é”å’Œå†™é”"></a>éé˜»å¡è·å¾—è¯»é”å’Œå†™é”</h4><ol><li><p><strong>pthread_rwlock_tryrdlock</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šå°è¯•è·å–ç»™å®šçš„è¯»å†™é”ï¼ˆ<code>rwlock</code>ï¼‰çš„è¯»å–é”ï¼Œä½†ä¸é˜»å¡ã€‚å¦‚æœå½“å‰æ²¡æœ‰å…¶ä»–çº¿ç¨‹æŒæœ‰å†™å…¥é”ï¼Œå¹¶ä¸”æ²¡æœ‰æ­£åœ¨ç­‰å¾…è·å–å†™å…¥é”çš„çº¿ç¨‹ï¼Œåˆ™ç«‹å³è¿”å›å¹¶æˆåŠŸè·å–è¯»å–é”ã€‚å¦åˆ™ï¼Œå¦‚æœæ— æ³•ç«‹å³è·å–è¯»å–é”ï¼Œåˆ™è¯¥å‡½æ•°ä¼šç«‹å³è¿”å›ä¸€ä¸ªé”™è¯¯å€¼ã€‚</li><li>è¿”å›å€¼ï¼šè‹¥æˆåŠŸè·å–è¯»å–é”åˆ™è¿”å›0ï¼Œè‹¥æ— æ³•ç«‹å³è·å–é”åˆ™è¿”å›ä¸€ä¸ªéé›¶é”™è¯¯ä»£ç ï¼ˆå¦‚EBUSYï¼‰ï¼Œè¡¨ç¤ºèµ„æºå·²ç»è¢«é”å®šã€‚</li></ul></li><li><p><strong>pthread_rwlock_trywrlock</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_rwlock_trywrlock</span><span class="token punctuation">(</span><span class="token class-name">pthread_rwlock_t</span> <span class="token operator">*</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŠŸèƒ½ï¼šå°è¯•è·å–ç»™å®šçš„è¯»å†™é”ï¼ˆ<code>rwlock</code>ï¼‰çš„å†™å…¥é”ï¼ŒåŒæ ·ä¸ä¼šé˜»å¡ã€‚åªæœ‰åœ¨æ²¡æœ‰ä»»ä½•çº¿ç¨‹æŒæœ‰è¯»å–é”æˆ–å†™å…¥é”çš„æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°æ‰èƒ½ç«‹å³è¿”å›å¹¶æˆåŠŸè·å–å†™å…¥é”ã€‚å¦åˆ™ï¼Œå¦‚æœæ— æ³•ç«‹å³è·å–å†™å…¥é”ï¼Œåˆ™è¯¥å‡½æ•°ä¼šç«‹å³è¿”å›ä¸€ä¸ªé”™è¯¯å€¼ã€‚</li><li>è¿”å›å€¼ï¼šè‹¥æˆåŠŸè·å–å†™å…¥é”åˆ™è¿”å›0ï¼Œè‹¥æ— æ³•ç«‹å³è·å–é”åˆ™è¿”å›ä¸€ä¸ªéé›¶é”™è¯¯ä»£ç ï¼ˆå¦‚EBUSYï¼‰ï¼Œè¡¨ç¤ºèµ„æºå·²ç»è¢«é”å®šã€‚</li></ul></li></ol><p>ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥åœ¨éœ€è¦é¿å…é˜»å¡æ—¶å°è¯•è·å–é”ï¼Œä¾‹å¦‚åœ¨å®æ—¶ç³»ç»Ÿæˆ–è€…ä¸èƒ½æ— é™æœŸç­‰å¾…é”çš„åœ°æ–¹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pthread_rwlock_t</span> rwlock<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">non_blocking_reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æˆåŠŸè·å–è¯»é”ï¼Œæ‰§è¡Œè¯»å–æ“ä½œ</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Reader: Data is %d\n"</span><span class="token punctuation">,</span> shared_data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Reader: Could not acquire read lock, data not read.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ‰§è¡Œå…¶ä»–æ“ä½œæˆ–ç¨åé‡è¯•</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">non_blocking_writer</span><span class="token punctuation">(</span><span class="token keyword">int</span> new_value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pthread_rwlock_trywrlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æˆåŠŸè·å–å†™é”ï¼Œæ‰§è¡Œå†™å…¥æ“ä½œ</span>        shared_data <span class="token operator">=</span> new_value<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Writer: Updated data to %d\n"</span><span class="token punctuation">,</span> shared_data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rwlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Writer: Could not acquire write lock, data not updated.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ‰§è¡Œå…¶ä»–æ“ä½œæˆ–ç¨åé‡è¯•</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿è¡Œç»“æœ-9"><a href="#è¿è¡Œç»“æœ-9" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">reader 1 is reading data.reader 2 is reading data.reader 3 is reading data.writer 5 is writing data.writer 4 is writing data.reader 1 reads data over.reader 2 reads data over.reader 3 reads data over.writer 5 writes data over.writer 4 writes data over.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>        <span class="token macro-name">READER_MAX</span>    <span class="token expression"><span class="token number">3</span>        </span><span class="token comment">/*æœ€å¤šå…è®¸å¤šå°‘äººä¸€èµ·è¯»å–æ•°æ®*/</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span>        <span class="token macro-name">WRITER_MAX</span>    <span class="token expression"><span class="token number">2</span>        </span><span class="token comment">/*æœ€å¤šå…è®¸å¤šå°‘äººå†™æ•°æ®*/</span></span><span class="token class-name">pthread_rwlock_t</span>    rw_lock<span class="token punctuation">;</span>        <span class="token comment">/*è¯»å†™é”*/</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">reader_thread</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> t<span class="token punctuation">;</span><span class="token comment">//your code here</span>t <span class="token operator">=</span> <span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rw_lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"reader %u can't read data.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"reader %u is reading data.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"reader %u reads data over.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rw_lock<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">writer_thread</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> t<span class="token punctuation">;</span><span class="token comment">//your code here</span>t <span class="token operator">=</span> <span class="token function">pthread_rwlock_tryrdlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rw_lock<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"writer %u can't write data.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"writer %u is writing data.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"writer %u writes data over.\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">pthread_rwlock_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rw_lock<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> reader<span class="token punctuation">,</span> writer<span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token function">pthread_rwlock_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rw_lock<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> READER_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>reader<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> reader_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> WRITER_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>writer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> writer_thread<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸€æ¬¡åˆå§‹åŒ–"><a href="#ä¸€æ¬¡åˆå§‹åŒ–" class="headerlink" title="ä¸€æ¬¡åˆå§‹åŒ–"></a>ä¸€æ¬¡åˆå§‹åŒ–</h2><ul><li><code>pthread_once</code>ä¸€æ¬¡åˆå§‹åŒ–</li></ul><p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œæœ‰äº›äº‹ä»…éœ€è¦æ‰§è¡Œä¸€æ¬¡ã€‚é€šå¸¸å½“åˆå§‹åŒ–åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°å°†å…¶æ”¾åœ¨mainå‡½æ•°ä¸­ã€‚ä½†å½“ä½ å†™ä¸€ä¸ªåº“æ—¶ï¼Œå°±ä¸èƒ½åœ¨mainé‡Œé¢åˆå§‹åŒ–äº†ï¼Œä½ å¯ä»¥ç”¨é™æ€åˆå§‹åŒ–ï¼Œä½†ä½¿ç”¨ä¸€æ¬¡åˆå§‹åŒ–ï¼ˆpthread_onceï¼‰ä¼šæ¯”è¾ƒå®¹æ˜“äº›ã€‚</p><p>åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ç¯å¢ƒä¸‹ï¼Œå°½ç®¡pthread_once()è°ƒç”¨ä¼šå‡ºç°åœ¨å¤šä¸ªçº¿ç¨‹ä¸­ï¼Œinit_routine()å‡½æ•°ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œç©¶ç«Ÿåœ¨å“ªä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œæ˜¯ä¸å®šçš„ï¼Œæ˜¯ç”±å†…æ ¸è°ƒåº¦æ¥å†³å®šã€‚</p><p><code>pthread_once</code>æ˜¯POSIXçº¿ç¨‹åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç¡®ä¿æŸä¸ªåˆå§‹åŒ–å‡½æ•°åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸå†…åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚è¿™å¯¹äºé‚£äº›éœ€è¦å•æ¬¡åˆå§‹åŒ–ä¸”åˆå§‹åŒ–è¿‡ç¨‹å¿…é¡»åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å®‰å…¨æ‰§è¡Œçš„æƒ…å†µéå¸¸æœ‰ç”¨ã€‚</p><p>å‡½æ•°åŸå‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_once</span><span class="token punctuation">(</span><span class="token class-name">pthread_once_t</span> <span class="token operator">*</span>once_control<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>init_routine<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£æï¼š</p><ul><li><code>pthread_once_t *once_control</code>ï¼šæŒ‡å‘ä¸€ä¸ªpthread_once_tç±»å‹çš„å˜é‡çš„æŒ‡é’ˆã€‚è¿™ä¸ªå˜é‡æ˜¯ç”¨æ¥è·Ÿè¸ªåˆå§‹åŒ–æ˜¯å¦å·²ç»å®Œæˆçš„çŠ¶æ€æ ‡å¿—ã€‚</li><li><code>void (*init_routine)(void)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæŒ‡å‘æ— å‚æ•°ã€æ— è¿”å›å€¼å‡½æ•°çš„æŒ‡é’ˆï¼Œå³åˆå§‹åŒ–å‡½æ•°ã€‚å½“<code>pthread_once</code>æ£€æµ‹åˆ°åˆå§‹åŒ–å°šæœªæ‰§è¡Œæ—¶ï¼Œå®ƒå°†è°ƒç”¨è¿™ä¸ªå‡½æ•°è¿›è¡Œåˆå§‹åŒ–ã€‚</li></ul><p>åŠŸèƒ½æè¿°ï¼š<br><code>pthread_once</code>å‡½æ•°ä¼šæ£€æŸ¥<code>once_control</code>æŒ‡å‘çš„æ§åˆ¶å˜é‡çŠ¶æ€ï¼Œå¦‚æœåˆå§‹åŒ–å°šæœªæ‰§è¡Œï¼Œåˆ™è°ƒç”¨<code>init_routine</code>å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶è®¾ç½®æ§åˆ¶å˜é‡ä¸ºå·²åˆå§‹åŒ–çŠ¶æ€ã€‚æ­¤å‡½æ•°ä¿è¯äº†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å³ä½¿å¤šä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨<code>pthread_once</code>ï¼Œåˆå§‹åŒ–å‡½æ•°ä¹Ÿåªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>ç¤ºä¾‹ä½¿ç”¨ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">static</span> <span class="token class-name">pthread_once_t</span> once_control <span class="token operator">=</span> PTHREAD_ONCE_INIT<span class="token punctuation">;</span><span class="token keyword">static</span> <span class="token keyword">int</span> shared_resource<span class="token punctuation">;</span><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">initialize_shared_resource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è¿™é‡Œè¿›è¡Œä¸€æ¬¡æ€§åˆå§‹åŒ–æ“ä½œ</span>    shared_resource <span class="token operator">=</span> <span class="token function">calculate_initial_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">access_shared_resource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">pthread_once</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>once_control<span class="token punctuation">,</span> initialize_shared_resource<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ç°åœ¨å¯ä»¥å®‰å…¨åœ°è®¿é—®shared_resourceäº†</span>    <span class="token function">use_shared_resource</span><span class="token punctuation">(</span>shared_resource<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>initialize_shared_resource</code>å‡½æ•°åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨<code>access_shared_resource</code>å‡½æ•°å¹¶ä¼ é€’ç»™<code>pthread_once</code>æ—¶æ‰ä¼šè¢«æ‰§è¡Œã€‚åç»­å¯¹<code>access_shared_resource</code>çš„è°ƒç”¨å°†ç›´æ¥è·³è¿‡åˆå§‹åŒ–é˜¶æ®µï¼Œå› ä¸º<code>once_control</code>å·²ç»è¢«æ ‡è®°ä¸ºå·²åˆå§‹åŒ–çŠ¶æ€ã€‚</p><h3 id="è¿è¡Œç»“æœ-10"><a href="#è¿è¡Œç»“æœ-10" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">thread 1 entersthread 2 entersonce_run in thread 1thread 1 returnsthread 2 returns<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span>  </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token class-name">pthread_once_t</span> once <span class="token operator">=</span> PTHREAD_ONCE_INIT<span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">once_run</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"once_run in thread %u\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">child1</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span> arg<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      <span class="token class-name">pthread_t</span> tid <span class="token operator">=</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %u enters\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>    <span class="token function">pthread_once</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>once<span class="token punctuation">,</span>once_run<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//end of your code</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %u returns\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">child2</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span> arg<span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      <span class="token class-name">pthread_t</span> tid <span class="token operator">=</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %u enters\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>    <span class="token function">pthread_once</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>once<span class="token punctuation">,</span>once_run<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//end of your code</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread %u returns\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#123;</span>      <span class="token class-name">pthread_t</span> tid1<span class="token punctuation">,</span>tid2<span class="token punctuation">;</span>      <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>child1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>child2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘é€sigä¿¡å·"><a href="#å‘é€sigä¿¡å·" class="headerlink" title="å‘é€sigä¿¡å·"></a>å‘é€sigä¿¡å·</h2><p>æœ¬èŠ‚å±•ç¤ºäº†å‘é€sigä¿¡å·çš„æ–¹æ³•ã€‚</p><h3 id="åŸºæœ¬çŸ¥è¯†-2"><a href="#åŸºæœ¬çŸ¥è¯†-2" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><ul><li><code>pthread_kill</code>å‘é€sigä¿¡å·</li></ul><p><code>pthread_kill</code>å¹¶ä¸æ˜¯ç»“æŸè¿›ç¨‹çš„æ„æ€ï¼Œè€Œæ˜¯å‘æŒ‡å®šIDçš„çº¿ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ï¼Œåªæ˜¯å¤§éƒ¨åˆ†ä¿¡å·çš„é»˜è®¤åŠ¨ä½œæ˜¯ç»ˆæ­¢è¿›ç¨‹çš„è¿è¡Œã€‚<br>å¦‚æœçº¿ç¨‹ä¸å¤„ç†è¯¥ä¿¡å·ï¼Œåˆ™æŒ‰ç…§ä¿¡å·é»˜è®¤çš„è¡Œä¸ºä½œç”¨äºæ•´ä¸ªè¿›ç¨‹ã€‚ä¿¡å·å€¼0ä¸ºä¿ç•™ä¿¡å·ï¼Œä½œç”¨æ˜¯æ ¹æ®å‡½æ•°çš„è¿”å›å€¼åˆ¤æ–­çº¿ç¨‹æ˜¯ä¸æ˜¯è¿˜æ´»ç€ã€‚<br><code>pthread_kill</code>çš„è¿”å›å€¼ï¼šæˆåŠŸï¼ˆ0ï¼‰ çº¿ç¨‹ä¸å­˜åœ¨ï¼ˆESRCHï¼‰ ä¿¡å·ä¸åˆæ³•ï¼ˆEINVALï¼‰</p><h3 id="å‡½æ•°è¯´æ˜-10"><a href="#å‡½æ•°è¯´æ˜-10" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p><code>pthread_kill</code>ï¼Œç”¨äºå‘æŒ‡å®šçš„çº¿ç¨‹å‘é€ä¿¡å·ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">pthread_kill</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> thread<span class="token punctuation">,</span> <span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£æï¼š</p><ul><li><code>pthread_t thread</code>ï¼šè¿™æ˜¯ç›®æ ‡çº¿ç¨‹çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨<code>pthread_create</code>å‡½æ•°åˆ›å»ºçº¿ç¨‹æ—¶è¿”å›çš„å€¼è·å–ã€‚</li><li><code>int sig</code>ï¼šè¦å‘é€ç»™çº¿ç¨‹çš„ä¿¡å·ã€‚è¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯POSIXå®šä¹‰çš„ä»»ä½•æœ‰æ•ˆä¿¡å·ï¼ˆä¾‹å¦‚SIGTERMã€SIGINTç­‰ï¼‰ï¼Œæˆ–è€…è‡ªå®šä¹‰ä¿¡å·ï¼ˆå¦‚1~31ä¹‹é—´çš„æ•°å­—ï¼‰ã€‚</li></ul><p>åŠŸèƒ½æè¿°ï¼š<br><code>pthread_kill</code>å‡½æ•°å…è®¸ä¸»çº¿ç¨‹æˆ–è€…å…¶ä»–çº¿ç¨‹å‘æŒ‡å®šçš„çº¿ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ã€‚å½“ç›®æ ‡çº¿ç¨‹æ¥æ”¶åˆ°è¯¥ä¿¡å·åï¼Œå®ƒä¼šæ ¹æ®é¢„å…ˆæ³¨å†Œçš„ä¿¡å·å¤„ç†å‡½æ•°ï¼ˆé€šè¿‡<code>signal</code>æˆ–<code>sigaction</code>è®¾ç½®ï¼‰æ¥å¤„ç†è¿™ä¸ªä¿¡å·ï¼Œæˆ–è€…æ˜¯é»˜è®¤çš„è¡Œä¸ºï¼ˆæ¯”å¦‚å¯¹äºSIGTERMï¼Œé€šå¸¸ä¼šå¯¼è‡´è¿›ç¨‹&#x2F;çº¿ç¨‹ç»ˆæ­¢ï¼‰ã€‚</p><p>ç¤ºä¾‹ä½¿ç”¨ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">void</span> <span class="token function">signal_handler</span><span class="token punctuation">(</span><span class="token keyword">int</span> signum<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Signal %d received in the thread\n"</span><span class="token punctuation">,</span> signum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thread_function</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">signal</span><span class="token punctuation">(</span>SIGUSR1<span class="token punctuation">,</span> signal_handler<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¨å†Œä¿¡å·å¤„ç†å™¨</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">pthread_t</span> tid<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thread_function<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_create"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span>EXIT_FAILURE<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾…çº¿ç¨‹å¼€å§‹è¿è¡Œ</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">pthread_kill</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> SIGUSR1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å‘çº¿ç¨‹å‘é€SIGUSR1ä¿¡å·</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pthread_kill"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œå¹¶åœ¨å…¶ä¸­æ³¨å†Œäº†SIGUSR1ä¿¡å·çš„å¤„ç†å‡½æ•°ã€‚ç„¶åï¼Œåœ¨ä¸»çº¿ç¨‹ä¸­ä½¿ç”¨<code>pthread_kill</code>å‘å­çº¿ç¨‹å‘é€SIGUSR1ä¿¡å·ï¼Œè§¦å‘å…¶å†…éƒ¨çš„ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œã€‚</p><h3 id="è¿è¡Œç»“æœ-11"><a href="#è¿è¡Œç»“æœ-11" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">ID 0x1 thread exits.ID 0x1 thread exits.ID 0x2 thread stays alive now.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;errno.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span> </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ID 0x%x thread exits.\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ID 0x%x thread exitsã€‚\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">test_pthread</span><span class="token punctuation">(</span><span class="token class-name">pthread_t</span> tid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> pthread_kill_err<span class="token punctuation">;</span><span class="token comment">//your code here</span>    pthread_kill_err <span class="token operator">=</span> <span class="token function">pthread_kill</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>pthread_kill_err <span class="token operator">==</span> ESRCH<span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ID 0x%x thread exits.\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pthread_kill_err <span class="token operator">==</span> EINVAL<span class="token punctuation">)</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"invalid signal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ID 0x%x thread stays alive now.\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> ret<span class="token punctuation">;</span>    <span class="token class-name">pthread_t</span> tid1<span class="token punctuation">,</span>tid2<span class="token punctuation">;</span>        <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>func1<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span>func2<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">test_pthread</span><span class="token punctuation">(</span>tid1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test_pthread</span><span class="token punctuation">(</span>tid2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åˆ†å¸ƒå¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†å¸ƒå¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MPI</title>
      <link href="/posts/e16d.html"/>
      <url>/posts/e16d.html</url>
      
        <content type="html"><![CDATA[<h1 id="MPI"><a href="#MPI" class="headerlink" title="MPI"></a>MPI</h1><p>MPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰</p><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ul><li>MPI_INTï¼šæ•´æ•°ç±»å‹ï¼Œå¯¹åº”Cè¯­è¨€ä¸­çš„intç±»å‹ã€‚</li><li>MPI_FLOATï¼šå•ç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ï¼Œå¯¹åº”Cè¯­è¨€ä¸­çš„floatç±»å‹ã€‚</li><li>MPI_DOUBLEï¼šåŒç²¾åº¦æµ®ç‚¹æ•°ç±»å‹ï¼Œå¯¹åº”Cè¯­è¨€ä¸­çš„doubleç±»å‹ã€‚</li><li>MPI_CHARï¼šå­—ç¬¦ç±»å‹ï¼Œå¯¹åº”Cè¯­è¨€ä¸­çš„charç±»å‹ã€‚</li><li>MPI_LOGICï¼šé€»è¾‘ç±»å‹ï¼Œå¯¹åº”Cè¯­è¨€ä¸­çš„_Boolç±»å‹ï¼ˆåœ¨stdbool.hå¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼‰</li></ul><h2 id="MPI-Op"><a href="#MPI-Op" class="headerlink" title="MPI_Op"></a>MPI_Op</h2><p>MPI_Opæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œå®ƒå®šä¹‰äº†å„ç§æ“ä½œç¬¦ï¼Œè¿™äº›æ“ä½œç¬¦å¯ä»¥ç”¨äºæ‰§è¡Œå…ƒç´ çº§åˆ«çš„æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ“ä½œç¬¦ï¼š</p><ul><li>MPI_OP_NULLï¼šç”¨äºåˆå§‹åŒ–æ“ä½œå¯¹è±¡ã€‚</li><li>MPI_MAXï¼šç”¨äºæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼ã€‚</li><li>MPI_MINï¼šç”¨äºæ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å°å€¼ã€‚</li><li>MPI_SUMï¼šç”¨äºè®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œã€‚</li><li>MPI_PRODï¼šç”¨äºè®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ã€‚</li><li>MPI_LANDï¼šç”¨äºæ‰§è¡Œå…ƒç´ çº§åˆ«çš„â€œä¸â€æ“ä½œã€‚</li><li>MPI_BANDï¼šç”¨äºæ‰§è¡Œå…ƒç´ çº§åˆ«çš„â€œæˆ–éâ€æ“ä½œã€‚</li></ul><h2 id="ç¬¬ä¸€ä¸ªMPIç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªMPIç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªMPIç¨‹åº"></a>ç¬¬ä¸€ä¸ªMPIç¨‹åº</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥å…ˆåŒ…å«è¿›ä¸€ä¸ªå¤´æ–‡ä»¶<code>&lt;mpi.h&gt;</code></p><p>MPIç¨‹åºå’Œæ™®é€šçš„Cç¨‹åºçš„åŒºåˆ«åœ¨äºæœ‰ä¸€ä¸ªå¼€å§‹çš„å‡½æ•°å’Œç»“æŸçš„å‡½æ•°æ¥æ ‡è¯†MPIéƒ¨åˆ†ï¼Œå†åœ¨è¿™ä¸ªéƒ¨åˆ†è¿›è¡Œä½ æƒ³è¦è¿›è¡Œçš„æ“ä½œ</p><h3 id="å‡½æ•°è¯´æ˜"><a href="#å‡½æ•°è¯´æ˜" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><h4 id="MPI-Init"><a href="#MPI-Init" class="headerlink" title="MPI_Init( )"></a>MPI_Init( )</h4><p>MPI_Init( )ï¼šè¿›å…¥MPIç¯å¢ƒå¹¶å®Œæˆæ‰€æœ‰çš„åˆå§‹åŒ–å·¥ä½œï¼Œæ ‡å¿—å¹¶è¡Œä»£ç çš„å¼€å§‹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int MPI_Init(int *argc, char **argv)</code> ï¼Œç”¨äºåˆå§‹åŒ–MPIç¯å¢ƒ</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>argc</code>ï¼šæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆï¼Œè¡¨ç¤ºå‘½ä»¤è¡Œå‚æ•°çš„æ•°é‡ã€‚</li><li><code>argv</code>ï¼šæŒ‡å‘å­—ç¬¦æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œè¡¨ç¤ºå‘½ä»¤è¡Œå‚æ•°çš„å€¼ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="MPI-Finalize"><a href="#MPI-Finalize" class="headerlink" title="MPI_Finalize( )"></a>MPI_Finalize( )</h4><p>MPI_Finalize( )ï¼šä»MPIç¯å¢ƒä¸­é€€å‡ºï¼Œæ ‡å¿—å¹¶è¡Œä»£ç çš„ç»“æŸ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int MPI_Finalize(void)</code> ï¼Œç”¨äºç»“æŸMPIç¯å¢ƒã€‚</p><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     <span class="token comment">//your code here</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//end of your code </span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è·å–è¿›ç¨‹æ•°é‡"><a href="#è·å–è¿›ç¨‹æ•°é‡" class="headerlink" title="è·å–è¿›ç¨‹æ•°é‡"></a>è·å–è¿›ç¨‹æ•°é‡</h2><p>åœ¨MPIç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦è·å–æŒ‡å®šé€šä¿¡åŸŸçš„è¿›ç¨‹ä¸ªæ•°ï¼Œä»¥ç¡®å®šç¨‹åºçš„è§„æ¨¡ã€‚</p><p>ä¸€ç»„å¯ä»¥ç›¸äº’å‘é€æ¶ˆæ¯çš„è¿›ç¨‹é›†åˆå«åšé€šä¿¡å­ï¼Œé€šå¸¸ç”±<code>MPI_Init()</code>åœ¨ç”¨æˆ·å¯åŠ¨ç¨‹åºæ—¶ï¼Œå®šä¹‰ç”±ç”¨æˆ·å¯åŠ¨çš„æ‰€æœ‰è¿›ç¨‹æ‰€ç»„æˆçš„é€šä¿¡å­ï¼Œç¼ºçœå€¼ä¸º <em>MPI_COMM_WORLD</em> ã€‚è¿™ä¸ªå‚æ•°æ˜¯MPIé€šä¿¡æ“ä½œå‡½æ•°ä¸­å¿…ä¸å¯å°‘çš„å‚æ•°ï¼Œç”¨äºé™å®šå‚åŠ é€šä¿¡çš„è¿›ç¨‹çš„èŒƒå›´ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-1"><a href="#å‡½æ•°è¯´æ˜-1" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>rank<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int MPI_Comm_size(MPI_Comm comm, int *rank)</code> ï¼Œè·å–æŒ‡å®šé€šä¿¡åŸŸçš„è¿›ç¨‹ä¸ªæ•°ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li><li><code>rank</code>ï¼šæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨è¿›ç¨‹æ•°é‡ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h3 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> world_size<span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>world_size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–MPI_COMM_WORLDé€šä¿¡å™¨ä¸­çš„è¿›ç¨‹æ•°é‡</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Number of processes: %d\n"</span><span class="token punctuation">,</span> world_size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>MPI_Comm_size(MPI_COMM_WORLD, &amp;world_size)</code> å°†è·å–é»˜è®¤é€šä¿¡å™¨ï¼ˆ<code>MPI_COMM_WORLD</code>ï¼Œé€šå¸¸åŒ…å«æ‰€æœ‰å‚ä¸æ‰§è¡Œçš„åº”ç”¨ç¨‹åºè¿›ç¨‹ï¼‰ä¸­çš„è¿›ç¨‹æ•°é‡ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ <code>world_size</code> å˜é‡ä¸­ã€‚</p><h3 id="å®éªŒè¯´æ˜"><a href="#å®éªŒè¯´æ˜" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>ä½¿ç”¨å‡½æ•°MPI_Comm_sizeè·å–é€šä¿¡åŸŸä¸­çš„è¿›ç¨‹ä¸ªæ•°å¹¶æ‰“å°å‡ºæ¥ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!I'm rank %d of %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è·å–è¿›ç¨‹id"><a href="#è·å–è¿›ç¨‹id" class="headerlink" title="è·å–è¿›ç¨‹id"></a>è·å–è¿›ç¨‹id</h2><p>åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¸¸éœ€è¦è¾“å‡ºå½“å‰è¿›ç¨‹çš„idï¼Œä»¥æ­¤æ¥åˆ¤æ–­å…·ä½“å“ªä¸ªè¿›ç¨‹å®Œæˆäº†å¯¹åº”çš„ä»»åŠ¡ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-2"><a href="#å‡½æ•°è¯´æ˜-2" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>rank<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int MPI_Comm_rank(MPI_Comm comm, int *rank)</code> ï¼Œç”¨äºè·å–å½“å‰è¿›ç¨‹åœ¨æŒ‡å®šé€šä¿¡å™¨ä¸­çš„ç¼–å·ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li><li><code>rank</code>ï¼šæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨å½“å‰è¿›ç¨‹çš„ç¼–å·ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> world_rank<span class="token punctuation">;</span>    <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>world_rank<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello from rank %d\n"</span><span class="token punctuation">,</span> world_rank<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®éªŒè¯´æ˜-1"><a href="#å®éªŒè¯´æ˜-1" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>åœ¨æ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œä½¿ç”¨å‡½æ•°MPI_Comm_rankæ¥è·å–å½“å‰è¿›ç¨‹çš„idå¹¶æ‰“å°å‡ºæ¥ã€‚</p><p>è¾“å‡ºç»“æœï¼šç”±äºå¹¶è¡Œç¨‹åºæ‰§è¡Œé¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œä½ çš„ç»“æœçš„é¡ºåºå¯èƒ½å’Œè¿™ä¸ªç»“æœä¸ä¸€è‡´ã€‚</p><p>0</p><p>1</p><p>3</p><p>2</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!I'm rank %d of %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¶ˆæ¯ä¼ é€’"><a href="#æ¶ˆæ¯ä¼ é€’" class="headerlink" title="æ¶ˆæ¯ä¼ é€’"></a>æ¶ˆæ¯ä¼ é€’</h2><p>åœ¨å¹¶è¡Œç¼–ç¨‹ä¸­ï¼Œæ¶ˆæ¯ä¼ é€’å äº†å¾ˆå¤§çš„æ¯”é‡ã€‚è‰¯å¥½çš„æ¶ˆæ¯ä¼ é€’æ˜¯æ­£å¸¸å®Œæˆè¿›ç¨‹&#x2F;èŠ‚ç‚¹ä¹‹é—´æ“ä½œçš„åŸºæœ¬æ¡ä»¶</p><p>åœ¨è¿™é‡Œå…ˆä»‹ç»çš„æœ€åŸºæœ¬å‘é€&#x2F;æ¥æ”¶å‡½æ•°</p><p>æœ€åŸºæœ¬çš„å‘é€ &#x2F; æ¥æ”¶å‡½æ•°éƒ½æ˜¯ä»¥ç¼“å†²åŒºä½œä¸ºç«¯ç‚¹ï¼Œé€šè¿‡å‚æ•°é…ç½®æ¥å®ŒæˆæŒ‡å®šæ“ä½œ</p><h3 id="å‡½æ•°è¯´æ˜-3"><a href="#å‡½æ•°è¯´æ˜-3" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><h4 id="å‘é€æ•°æ®"><a href="#å‘é€æ•°æ®" class="headerlink" title="å‘é€æ•°æ®"></a>å‘é€æ•°æ®</h4><p>å‘é€ç¼“å†²åŒºä¸­çš„ä¿¡æ¯åˆ°ç›®æ ‡è¿›ç¨‹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Send</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> msg_buf_p<span class="token punctuation">,</span>  <span class="token keyword">int</span> msg_size<span class="token punctuation">,</span>  MPI_Datatype msg_type<span class="token punctuation">,</span> <span class="token keyword">int</span> dest<span class="token punctuation">,</span>  <span class="token keyword">int</span> tag<span class="token punctuation">,</span>   MPI_Comm communicator<span class="token punctuation">)</span>   ç¼“å†²åŒºçš„èµ·å§‹åœ°å€    ç¼“å†²åŒºå¤§å°  å‘é€ä¿¡æ¯çš„æ•°æ®ç±»å‹   ç›®æ ‡è¿›ç¨‹çš„id æ¶ˆæ¯æ ‡ç­¾  é€šä¿¡å­<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>MPI_Send(void* msg_buf_p, int msg_size, MPI_Datatype msg_type, int dest, int tag, MPI_Comm communicator)</code> ï¼Œç”¨äºå°†æ•°æ®ä»æºè¿›ç¨‹å‘é€åˆ°ç›®æ ‡è¿›ç¨‹ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>msg_buf_p</code>ï¼šæŒ‡å‘è¦å‘é€æ•°æ®çš„ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚</li><li><code>msg_size</code>ï¼šè¦å‘é€çš„æ•°æ®çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</li><li><code>msg_type</code>ï¼šæ•°æ®çš„ç±»å‹ã€‚</li><li><code>dest</code>ï¼šç›®æ ‡è¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚</li><li><code>tag</code>ï¼šä¸€ä¸ªæ•´æ•°æ ‡ç­¾ï¼Œç”¨äºåŒºåˆ†ä¸åŒçš„æ¶ˆæ¯ã€‚</li><li><code>communicator</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="æ¥æ”¶æ•°æ®"><a href="#æ¥æ”¶æ•°æ®" class="headerlink" title="æ¥æ”¶æ•°æ®"></a>æ¥æ”¶æ•°æ®</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Recv</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> msg_buf_p<span class="token punctuation">,</span> <span class="token keyword">int</span> buf_size<span class="token punctuation">,</span> MPI_Datatype msg_type<span class="token punctuation">,</span> <span class="token keyword">int</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> tag<span class="token punctuation">,</span> MPI_Comm communicatorï¼Œ MPI_Status <span class="token operator">*</span>status_p<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”¨äºåœ¨å¹¶è¡Œè®¡ç®—ç¯å¢ƒä¸­æ¥æ”¶æ¥è‡ªç‰¹å®šæºè¿›ç¨‹çš„æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨æŒ‡å®šçš„æ¥æ”¶ç¼“å†²åŒºä¸­ã€‚</p><ul><li><code>void* msg_buf_p</code>: è¿™æ˜¯æŒ‡å‘æ¥æ”¶ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚è¯¥ç¼“å†²åŒºå°†å­˜å‚¨ä»æºè¿›ç¨‹æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</li><li><code>int buf_size</code>: è¿™æ˜¯æ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å®ƒåº”è¯¥ä¸å‘é€ç¼“å†²åŒºçš„å¤§å°ç›¸åŒ¹é…ã€‚</li><li><code>MPI_Datatype msg_type</code>: è¿™æ˜¯æŒ‡å®šæ¥æ”¶ç¼“å†²åŒºä¸­æ•°æ®ç±»å‹çš„MPIæ•°æ®ç±»å‹å¯¹è±¡ã€‚</li><li><code>int source</code>: è¿™æ˜¯å‘é€æ•°æ®çš„æºè¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚MPIåº“å°†åªä»è¿™ä¸ªè¿›ç¨‹æ¥æ”¶æ•°æ®ã€‚</li><li><code>int tag</code>: è¿™æ˜¯ç”¨äºåŒºåˆ†ä¸åŒæ¶ˆæ¯çš„æ•´æ•°æ ‡ç­¾ã€‚å¦‚æœä¸¤ä¸ªè¿›ç¨‹åŒæ—¶å‘é€æ•°æ®ï¼Œå®ƒä»¬å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ ‡ç­¾æ¥åŒºåˆ†å®ƒä»¬çš„æ¶ˆæ¯ã€‚</li><li><code>MPI_Comm communicator</code>: è¿™æ˜¯é€šä¿¡å™¨å¯¹è±¡ï¼Œå®ƒå®šä¹‰äº†è¿›ç¨‹ç»„å’Œé€šä¿¡æ¨¡å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé€šä¿¡å™¨å¯¹è±¡è¡¨ç¤ºä¸€ä¸ªå¹¶è¡Œè®¡ç®—ç¯å¢ƒã€‚</li><li><code>MPI_Status *status_p</code>: è¿™æ˜¯æŒ‡å‘MPIçŠ¶æ€å¯¹è±¡çš„æŒ‡é’ˆã€‚MPIçŠ¶æ€å¯¹è±¡åŒ…å«äº†å…³äºæ¥æ”¶æ“ä½œçš„ä¿¡æ¯ï¼Œå¦‚æ˜¯å¦æˆåŠŸæ¥æ”¶åˆ°æ•°æ®ã€æ¥æ”¶æ—¶é—´ç­‰ã€‚</li></ul><h3 id="å®éªŒè¯´æ˜-2"><a href="#å®éªŒè¯´æ˜-2" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>æŠŠidä¸º0çš„è¿›ç¨‹å½“ä½œæ ¹è¿›ç¨‹ï¼Œç„¶ååœ¨é™¤æ­¤ä¹‹å¤–çš„è¿›ç¨‹ä¸­ä½¿ç”¨å‡½æ•°MPI_Sendå‘é€ä¸€å¥â€hello world!â€åˆ°æ ¹è¿›ç¨‹ä¸­ï¼Œç„¶ååœ¨æ ¹è¿›ç¨‹ä¸­æŠŠè¿™äº›ä¿¡æ¯æ‰“å°å‡ºæ¥ã€‚</p><p>è¾“å‡ºç»“æœï¼šä¸€ç³»åˆ—çš„â€hello world!â€</p><blockquote><p>å­—ç¬¦ä¸²çš„åå­—å°±æ˜¯å­—ç¬¦ä¸²çš„é¦–åœ°å€ã€‚åœ¨Cè¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ç”±å­—ç¬¦æ•°ç»„è¡¨ç¤ºçš„ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ã€‚æ‰€ä»¥ï¼Œå­—ç¬¦ä¸²çš„åå­—å®é™…ä¸Šå°±æ˜¯æŒ‡å‘å­—ç¬¦ä¸²é¦–å­—ç¬¦çš„æŒ‡é’ˆã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> source<span class="token punctuation">;</span>MPI_Status status<span class="token punctuation">;</span><span class="token keyword">char</span> message<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">strcpy</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">"hello world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//your code here</span>    <span class="token function">MPI_Send</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> MPI_CHAR<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//end of your code</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>         <span class="token comment">//myid == 0</span><span class="token keyword">for</span><span class="token punctuation">(</span>source<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> source<span class="token operator">&lt;</span>numprocs<span class="token punctuation">;</span> source<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//your code here</span><span class="token function">MPI_Recv</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> MPI_CHAR<span class="token punctuation">,</span> source<span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è§„çº¦ï¼ˆreduceï¼‰"><a href="#è§„çº¦ï¼ˆreduceï¼‰" class="headerlink" title="è§„çº¦ï¼ˆreduceï¼‰"></a>è§„çº¦ï¼ˆreduceï¼‰</h2><p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦å¯¹äºæ•°æ®åšåŒä¸€ç§æ“ä½œï¼Œå¹¶å°†ç»“æœè¿”å›åˆ°æŒ‡å®šçš„è¿›ç¨‹ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé›†åˆé€šä¿¡ã€‚ä¾‹å¦‚ï¼Œå°†æ•°æ®åˆ†æ•£åˆ°å„ä¸ªè¿›ç¨‹ä¸­ï¼Œå…ˆåœ¨å„ä¸ªè¿›ç¨‹å†…è¿›è¡Œæ±‚å’Œï¼Œå†åœ¨å…¨å±€å®Œæˆæ±‚å’Œ-å¹³å‡è¿™ä¸ªæ“ä½œï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªè§„çº¦çš„è¿‡ç¨‹ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œé›†åˆé€šä¿¡åŒ…æ‹¬é€šä¿¡ã€åŒæ­¥å’Œè®¡ç®—ä¸‰ä¸ªåŠŸèƒ½ã€‚ä¸è¿‡ï¼Œç›®å‰æˆ‘ä»¬æš‚æ—¶ä¸éœ€è¦å…³æ³¨æ•´ä¸ªè¿‡ç¨‹ï¼Œè€Œæ˜¯å…ˆä½¿ç”¨ä¸€ä¸ªè§„çº¦å‡½æ•°å»ä½“éªŒä¸€ä¸‹é›†åˆé€šä¿¡ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-4"><a href="#å‡½æ•°è¯´æ˜-4" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><blockquote><p>è§„çº¦å‡½æ•°ï¼Œæ‰€æœ‰è¿›ç¨‹å°†å¾…å¤„ç†æ•°æ®é€šè¿‡è¾“å…¥çš„æ“ä½œå­operatorè®¡ç®—ä¸ºæœ€ç»ˆç»“æœå¹¶å°†å®ƒå­˜å…¥ç›®æ ‡è¿›ç¨‹ä¸­ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Reduce</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span> input_data_p<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span> output_data_p<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> MPI_Datatype datatype<span class="token punctuation">,</span> MPI_Op operator<span class="token punctuation">,</span> <span class="token keyword">int</span> dest_process<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span>è¿›ç¨‹çš„å¾…å¤„ç†æ•°æ®å­˜æ”¾çš„åœ°å€ï¼› å­˜æ”¾æœ€ç»ˆç»“æœçš„ç›®æ ‡è¿›ç¨‹çš„åœ°å€ï¼›ç¼“å†²åŒºä¸­çš„æ•°æ®ä¸ªæ•°ï¼›æ•°æ®ç±»å‹ï¼›æ“ä½œå­ï¼ˆåŠ å‡ï¼‰ï¼›ç›®æ ‡è¿›ç¨‹çš„ç¼–å·ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>int MPI_Reduce(void * input_data_p, void * output_data_p, int count, MPI_Datatype datatype, MPI_Op operator, int dest_process, MPI_Comm comm)</code> ï¼Œç”¨äºå°†æ•°æ®ä»æºè¿›ç¨‹æ”¶é›†åˆ°ç›®æ ‡è¿›ç¨‹ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>input_data_p</code>ï¼šæŒ‡å‘è¾“å…¥æ•°æ®çš„æŒ‡é’ˆã€‚</li><li><code>output_data_p</code>ï¼šæŒ‡å‘è¾“å‡ºæ•°æ®çš„æŒ‡é’ˆã€‚</li><li><code>count</code>ï¼šè¦å¤„ç†çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>datatype</code>ï¼šæ•°æ®ç±»å‹ã€‚</li><li><code>operator</code>ï¼šMPIæ“ä½œç¬¦ï¼Œç”¨äºæŒ‡å®šå¦‚ä½•ç»„åˆè¾“å…¥æ•°æ®ä»¥ç”Ÿæˆè¾“å‡ºæ•°æ®ã€‚</li><li><code>dest_process</code>ï¼šç›®æ ‡è¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚</li><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul></blockquote><blockquote><p><code>MPI_Reduce()</code>å‡½æ•°æ˜¯Message Passing Interface (MPI) åº“ä¸­ç”¨äºå¹¶è¡Œè®¡ç®—çš„ä¸€ä¸ªé‡è¦å‡½æ•°ï¼Œä¸»è¦ç”¨äºåœ¨ä¸€ç»„è¿›ç¨‹é—´å¯¹æ•°æ®è¿›è¡Œè§„çº¦æ“ä½œï¼ˆå¦‚æ±‚å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ï¼‰ã€‚ä»¥ä¸‹æ˜¯è¯¥å‡½æ•°çš„è¯¦ç»†è§£æï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">MPI_Reduce</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>input_data_p<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>output_data_p<span class="token punctuation">,</span>             <span class="token keyword">int</span> count<span class="token punctuation">,</span> MPI_Datatype datatype<span class="token punctuation">,</span>             MPI_Op op<span class="token punctuation">,</span> <span class="token keyword">int</span> dest_process<span class="token punctuation">,</span>             MPI_Comm comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><strong>å‚æ•°è§£é‡Šï¼š</strong></p><ul><li><p><code>void *input_data_p</code>: æŒ‡å‘å‚ä¸è§„çº¦æ“ä½œçš„è¾“å…¥ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚æ¯ä¸ªè¿›ç¨‹æä¾›ä¸€å—ç›¸åŒå¤§å°çš„æ•°æ®åŒºåŸŸï¼Œè¿™äº›æ•°æ®å°†æŒ‰ç…§æŒ‡å®šçš„æ“ä½œç¬¦è¢«è§„çº¦ã€‚</p></li><li><p><code>void *output_data_p</code>: æŒ‡å‘è§„çº¦ç»“æœå­˜å‚¨ä½ç½®çš„æŒ‡é’ˆã€‚åªæœ‰æŒ‡å®šçš„ç›®æ ‡è¿›ç¨‹ï¼ˆdest_processï¼‰ä¼šæ¥æ”¶åˆ°æœ€ç»ˆçš„è§„çº¦ç»“æœã€‚</p></li><li><p><code>int count</code>: è¡¨ç¤ºè¦å¤„ç†çš„æ•°æ®å…ƒç´ ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœdatatypeæ˜¯MPI_INTä¸”countä¸º10ï¼Œåˆ™è¡¨ç¤ºæœ‰10ä¸ªæ•´æ•°å‚ä¸è§„çº¦ã€‚</p></li><li><p><code>MPI_Datatype datatype</code>: æŒ‡å®šå‚ä¸è§„çº¦çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯MPIé¢„å®šä¹‰çš„ç±»å‹ï¼Œå¦‚MPI_INTã€MPI_FLOATã€MPI_DOUBLEç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å¤åˆæ•°æ®ç±»å‹ã€‚</p></li><li><p><code>MPI_Op op</code>: æŒ‡å®šè¦æ‰§è¡Œçš„è§„çº¦æ“ä½œï¼Œä¾‹å¦‚MPI_SUMï¼ˆæ±‚å’Œï¼‰ã€MPI_MAXï¼ˆæ±‚æœ€å¤§å€¼ï¼‰ã€MPI_MINï¼ˆæ±‚æœ€å°å€¼ï¼‰ç­‰ã€‚ä¹Ÿå¯ä»¥é€šè¿‡MPI_Op_createè‡ªå®šä¹‰è§„çº¦æ“ä½œã€‚</p></li><li><p><code>int dest_process</code>: è§„çº¦ç»“æœå­˜æ”¾çš„ç›®æ ‡è¿›ç¨‹çš„ rankï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚æ‰€æœ‰è¿›ç¨‹éƒ½å°†å®ƒä»¬çš„å±€éƒ¨ç»“æœå‘é€åˆ°è¿™ä¸ªç›®æ ‡è¿›ç¨‹ï¼Œç„¶åç”±ç›®æ ‡è¿›ç¨‹æ‰§è¡Œæœ€åçš„è§„çº¦æ“ä½œå¾—åˆ°å…¨å±€ç»“æœã€‚</p></li><li><p><code>MPI_Comm comm</code>: æŒ‡å®šé€šä¿¡å™¨ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„ï¼ˆcommunicatorï¼‰ï¼Œå¦‚MPI_COMM_WORLDï¼Œå®ƒåŒ…å«äº†å‚ä¸è§„çº¦çš„æ‰€æœ‰è¿›ç¨‹ã€‚</p></li></ul></li></ul><p>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè‹¥æˆåŠŸåˆ™è¿”å›MPI_SUCCESSï¼Œå¦åˆ™è¿”å›é”™è¯¯ä»£ç ã€‚</p><p>ç¤ºä¾‹ç”¨æ³•ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> my_rank<span class="token punctuation">,</span> size<span class="token punctuation">;</span>    <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>my_rank<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> local_sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token comment">// å‡è®¾æˆ‘ä»¬å·²ç»å¡«å……äº†æœ¬åœ°æ•°æ®</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        local_sum <span class="token operator">+=</span> some_local_array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">double</span> global_sum<span class="token punctuation">;</span>    <span class="token function">MPI_Reduce</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>local_sum<span class="token punctuation">,</span> <span class="token operator">&amp;</span>global_sum<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_DOUBLE<span class="token punctuation">,</span> MPI_SUM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>my_rank <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The global sum is: %f\n"</span><span class="token punctuation">,</span> global_sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½ä¼šè®¡ç®—å…¶æœ¬åœ°æ•°æ®ä¹‹å’Œï¼Œç„¶åé€šè¿‡<code>MPI_Reduce</code>å‡½æ•°å°†å„è‡ªçš„å±€éƒ¨å’Œè§„çº¦æˆä¸€ä¸ªå…¨å±€æ€»å’Œï¼Œç»“æœå­˜å‚¨åœ¨rankä¸º0çš„è¿›ç¨‹ä¸­ã€‚</p></blockquote><blockquote><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>count</code>è®¾ç½®ä¸º1è¡¨ç¤ºæ¯ä¸ªè¿›ç¨‹ä¸­å‚ä¸è§„çº¦æ“ä½œçš„æ•°æ®å…ƒç´ ä¸ªæ•°ä¸º1ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æ­£åœ¨å¯¹å•ä¸ªdoubleç±»å‹çš„æ•°å€¼è¿›è¡Œè§„çº¦ã€‚</p><p>ç„¶è€Œï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œ<code>count</code>å¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®æˆä»»æ„å¤§äº0çš„æ•´æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¯ä¸ªè¿›ç¨‹æœ‰ä¸€æ®µåŒ…å«å¤šä¸ªç›¸åŒç±»å‹æ•°æ®ï¼ˆå¦‚ä¸€ä¸ªdoubleæ•°ç»„ï¼‰çš„ç¼“å†²åŒºï¼Œå¹¶å¸Œæœ›å¯¹è¿™äº›æ•°æ®è¿›è¡Œè§„çº¦ï¼Œé‚£ä¹ˆ<code>count</code>åº”è®¾ä¸ºè¯¥æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ã€‚</p><p>å‡è®¾æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ä¸º100çš„doubleæ•°ç»„ï¼Œæƒ³è¦æ±‚å’Œï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">double</span> local_data<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// åˆå§‹åŒ–local_data...</span><span class="token keyword">double</span> global_sum<span class="token punctuation">;</span><span class="token function">MPI_Reduce</span><span class="token punctuation">(</span>local_data<span class="token punctuation">,</span> <span class="token operator">&amp;</span>global_sum<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> MPI_DOUBLE<span class="token punctuation">,</span> MPI_SUM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>count</code>è¢«è®¾ç½®ä¸º100ï¼Œè¡¨ç¤ºæ¯ä¸ªè¿›ç¨‹å°†å®ƒæ‰€æ‹¥æœ‰çš„100ä¸ªdoubleå…ƒç´ è¿›è¡Œè§„çº¦ã€‚æœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªå…¨å±€çš„æ€»å’Œï¼Œå­˜å‚¨åœ¨rankä¸º0çš„è¿›ç¨‹ä¸­çš„<code>global_sum</code>å˜é‡ä¸­ã€‚</p></blockquote><h3 id="å®éªŒè¯´æ˜-3"><a href="#å®éªŒè¯´æ˜-3" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>ä½¿ç”¨å‡½æ•°MPI_Reduceæ¥å®ŒæˆåŠ æ³•è§„çº¦åˆ°æ ¹è¿›ç¨‹çš„æ“ä½œï¼Œå¹¶åœ¨æ ¹è¿›ç¨‹æ‰“å°å‡ºæ€»å’Œå’Œå¹³å‡å€¼ã€‚</p><p>è¾“å‡ºç»“æœï¼šç”±äºè¿™é‡Œæ˜¯æµ‹è¯•ç”¨ä¾‹ï¼Œæ‰€ä»¥æ¯ä¸ªè¿›ç¨‹çš„æ•°å€¼éƒ½æ˜¯å–3.0ã€‚æ‰€ä»¥ï¼Œè¾“å‡ºçš„å¹³å‡å€¼åº”è¯¥æ˜¯3ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">double</span> local_num <span class="token operator">=</span> <span class="token number">3.0</span><span class="token punctuation">;</span> <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> global_num<span class="token punctuation">;</span>        <span class="token comment">//your code here</span>    <span class="token function">MPI_Reduce</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>local_num<span class="token punctuation">,</span> <span class="token operator">&amp;</span>global_num<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_DOUBLE<span class="token punctuation">,</span> MPI_SUM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//end of your code</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Total sum = %f, avg = %f\n"</span><span class="token punctuation">,</span> global_num<span class="token punctuation">,</span> global_num <span class="token operator">/</span> numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¹¿æ’­ï¼ˆBcastï¼‰"><a href="#å¹¿æ’­ï¼ˆBcastï¼‰" class="headerlink" title="å¹¿æ’­ï¼ˆBcastï¼‰"></a>å¹¿æ’­ï¼ˆBcastï¼‰</h2><p>åœ¨ä¸€ä¸ªé›†åˆé€šä¿¡ä¸­ï¼Œå¦‚æœå±äºä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®è¢«å‘é€åˆ°é€šä¿¡å­ä¸­çš„æ‰€æœ‰è¿›ç¨‹ï¼Œè¿™æ ·çš„é›†åˆé€šä¿¡å«åšå¹¿æ’­ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-5"><a href="#å‡½æ•°è¯´æ˜-5" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>å¹¿æ’­å‡½æ•°ï¼Œä»ä¸€ä¸ªidå€¼ä¸ºsourceçš„è¿›ç¨‹å°†ä¸€æ¡æ¶ˆæ¯å¹¿æ’­å‘é€åˆ°é€šä¿¡å­å†…çš„æ‰€æœ‰è¿›ç¨‹,åŒ…æ‹¬å®ƒæœ¬èº«åœ¨å†…ã€‚</p><pre class="line-numbers language-none"><code class="language-none">int MPI_Bcast(void* buffer, int count, MPI_Datatype datatype, int source, MPI_Comm comm)ç¼“å†²åŒºèµ·å§‹åœ°å€ï¼› ç¼“å†²åŒºæ•°æ®ä¸ªæ•°ï¼› æ•°æ®ç±»å‹ï¼› å‘é€ä¿¡æ¯çš„è¿›ç¨‹idï¼› é€šä¿¡å­ï¼› <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>int MPI_Bcast(void* buffer, int count, MPI_Datatype datatype, int source, MPI_Comm comm)</code> ï¼Œç”¨äºåœ¨å¹¶è¡Œè®¡ç®—ä¸­å¹¿æ’­æ•°æ®ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>buffer</code>ï¼šæŒ‡å‘è¦å¹¿æ’­çš„ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚</li><li><code>count</code>ï¼šè¦å¹¿æ’­çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>datatype</code>ï¼šç¼“å†²åŒºä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li><code>source</code>ï¼šå¹¿æ’­æ•°æ®çš„æºè¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚å¦‚æœä¸º0ï¼Œåˆ™è¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„æºè¿›ç¨‹ã€‚</li><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><blockquote><p><code>MPI_Bcast</code>ï¼Œç”¨äºåœ¨å¹¶è¡Œè®¡ç®—ç¯å¢ƒä¸­çš„æ‰€æœ‰è¿›ç¨‹é—´è¿›è¡Œå¹¿æ’­æ“ä½œã€‚è¯¥å‡½æ•°å°†æºè¿›ç¨‹ï¼ˆç”±å‚æ•°<code>source</code>æŒ‡å®šï¼‰çš„æ•°æ®å¹¿æ’­åˆ° communicator (<code>comm</code>) ä¸­çš„å…¶ä»–æ‰€æœ‰è¿›ç¨‹ä¸­ã€‚</p><p>å‡½æ•°åŸå‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Bcast</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> buffer<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> MPI_Datatype datatype<span class="token punctuation">,</span> <span class="token keyword">int</span> source<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£æï¼š</p><ul><li><p><code>void* buffer</code>: æŒ‡å‘è¦å‘é€æˆ–æ¥æ”¶æ•°æ®çš„ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚åœ¨éæºè¿›ç¨‹ä¸­ï¼Œè¿™ä¸ªç¼“å†²åŒºä¼šè¢«æ¥è‡ª<code>source</code>è¿›ç¨‹çš„æ•°æ®è¦†ç›–ï¼›åœ¨æºè¿›ç¨‹ä¸­ï¼Œå®ƒåŒ…å«è¦å¹¿æ’­çš„æ•°æ®ã€‚</p></li><li><p><code>int count</code>: è¦å‘é€æˆ–æ¥æ”¶çš„æ•°æ®å…ƒç´ ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ•°æ®ç±»å‹ä¸º<code>MPI_INT</code>ï¼Œåˆ™<code>count</code>è¡¨ç¤ºæ•´æ•°çš„æ•°é‡ã€‚</p></li><li><p><code>MPI_Datatype datatype</code>: æ•°æ®ç±»å‹çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ˜¯é¢„å®šä¹‰çš„åŸºæœ¬ç±»å‹å¦‚<code>MPI_INT</code>ã€<code>MPI_DOUBLE</code>ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å¤åˆç±»å‹ã€‚</p></li><li><p><code>int source</code>: å¹¿æ’­æºè¿›ç¨‹çš„rankï¼ˆç¼–å·ï¼‰ã€‚åªæœ‰è¿™ä¸ªè¿›ç¨‹æä¾›æ•°æ®ï¼Œå…¶ä½™æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šæ¥æ”¶åˆ°åŒæ ·çš„æ•°æ®ã€‚</p></li><li><p><code>MPI_Comm comm</code>: é€šä¿¡å™¨ï¼Œå®ƒå®šä¹‰äº†å‚ä¸æ­¤æ¬¡å¹¿æ’­çš„æ‰€æœ‰è¿›ç¨‹é›†åˆã€‚é€šå¸¸ä½¿ç”¨<code>MPI_COMM_WORLD</code>ï¼Œå³åŒ…å«äº†æ‰€æœ‰å‚ä¸è®¡ç®—çš„è¿›ç¨‹ã€‚</p></li></ul><p>å‡½æ•°è¿”å›å€¼ï¼š<br><code>MPI_Bcast</code>å‡½æ•°è¿”å›ä¸€ä¸ª<code>int</code>å‹æ•°å€¼ï¼Œå¦‚æœæˆåŠŸå®Œæˆï¼Œåˆ™è¿”å›<code>MPI_SUCCESS</code>ï¼Œå¦åˆ™è¿”å›é”™è¯¯ä»£ç ã€‚</p><p>åŠŸèƒ½æè¿°ï¼š<br><code>MPI_Bcast</code>å‡½æ•°ä½¿å¾—æ‰€æœ‰è¿›ç¨‹ä¸­çš„<code>buffer</code>åŒºåŸŸå†…å®¹ç›¸åŒï¼Œå…¶å†…å®¹æ¥æºäº<code>source</code>è¿›ç¨‹çš„ç›¸åº”å†…å­˜åŒºåŸŸã€‚è¿™æ ·ï¼Œåœ¨å¹¶è¡Œç¨‹åºä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥é€šè¿‡å¹¿æ’­çš„æ–¹å¼å¿«é€Ÿåœ°å°†å…¶æ•°æ®åŒæ­¥ç»™å…¶ä»–æ‰€æœ‰è¿›ç¨‹ã€‚</p></blockquote><h3 id="å®éªŒè¯´æ˜-4"><a href="#å®éªŒè¯´æ˜-4" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>ä½¿ç”¨å‡½æ•°MPI_Bcaståœ¨æ ¹è¿›ç¨‹ä¸­å‘é€ä¸€ä¸ªæ•°ç»„åˆ°å…¶ä»–è¿›ç¨‹ï¼Œå¹¶åœ¨å…¶ä»–è¿›ç¨‹ä¸­æ‰“å°å‡ºæ¥ã€‚</p><p>è¾“å‡ºç»“æœï¼š<br>In process 1, arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>In process 3, arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>â€¦<br>In process n, arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">int</span> source <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> source<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">//your code here</span>    <span class="token function">MPI_Bcast</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> source<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//end of your code</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">!=</span> source<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In process %d, "</span><span class="token punctuation">,</span> myid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d]=%d\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ”¶é›†ï¼ˆgatherï¼‰"><a href="#æ”¶é›†ï¼ˆgatherï¼‰" class="headerlink" title="æ”¶é›†ï¼ˆgatherï¼‰"></a>æ”¶é›†ï¼ˆgatherï¼‰</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ä»æ‰€æœ‰è¿›ç¨‹è·å–ä¿¡æ¯ï¼Œä¾‹å¦‚å°†æ‰€æœ‰è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ•°ç»„éƒ½æ”¶é›†åˆ°æ ¹è¿›ç¨‹ä¸­ä½œè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œè¿™æ ·çš„é›†åˆé€šä¿¡æˆ‘ä»¬å«åšæ”¶é›†ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-6"><a href="#å‡½æ•°è¯´æ˜-6" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>æ”¶é›†å‡½æ•°ï¼Œæ ¹è¿›ç¨‹ï¼ˆç›®æ ‡è¿›ç¨‹ï¼‰ä»æ‰€æœ‰è¿›ç¨‹ï¼ˆåŒ…æ‹¬å®ƒè‡ªå·±ï¼‰æ”¶é›†å‘é€ç¼“å†²åŒºçš„æ•°æ®ï¼Œå†æ ¹æ®å‘é€è¿™äº›æ•°æ®çš„è¿›ç¨‹idå°†å®ƒä»¬ä¾æ¬¡å­˜æ”¾åˆ°è‡ªå·²çš„ç¼“å†²åŒºä¸­</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Gather</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> sendbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> sendcount<span class="token punctuation">,</span> MPI_Datatype sendtype<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> recvbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> recvcount<span class="token punctuation">,</span> MPI_Datatype recvtype<span class="token punctuation">,</span> <span class="token keyword">int</span> root<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span> å‘é€ç¼“å†²åŒºçš„èµ·å§‹åœ°å€ï¼›å‘é€çš„æ•°æ®ä¸ªæ•°ï¼›æ•°æ®ç±»å‹ï¼›æ¥æ”¶ç¼“å†²åŒºçš„èµ·å§‹åœ°å€ï¼›å¾…æ¥æ”¶çš„å…ƒç´ ä¸ªæ•°ï¼›æ¥æ”¶çš„æ•°æ®ç±»å‹ï¼›æ¥æ”¶è¿›ç¨‹id ï¼›é€šä¿¡å­ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>int MPI_Gather(void* sendbuf, int sendcount, MPI_Datatype sendtype, void* recvbuf, int recvcount, MPI_Datatype recvtype, int root, MPI_Comm comm)</code> ï¼Œç”¨äºå°†ä¸€ä¸ªè¿›ç¨‹çš„å±€éƒ¨æ•°æ®æ”¶é›†åˆ°æ ¹è¿›ç¨‹ä¸­ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>sendbuf</code>ï¼šæŒ‡å‘å‘é€ç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œè¯¥ç¼“å†²åŒºåŒ…å«è¦å‘é€çš„æ•°æ®ã€‚</li><li><code>sendcount</code>ï¼šè¦å‘é€çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>sendtype</code>ï¼šå‘é€ç¼“å†²åŒºä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li><code>recvbuf</code>ï¼šæŒ‡å‘æ¥æ”¶ç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œè¯¥ç¼“å†²åŒºå°†å­˜å‚¨æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</li><li><code>recvcount</code>ï¼šæ¯ä¸ªè¿›ç¨‹åº”æ¥æ”¶çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>recvtype</code>ï¼šæ¥æ”¶ç¼“å†²åŒºä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li><code>root</code>ï¼šæ ¹è¿›ç¨‹çš„æ ‡è¯†ç¬¦ï¼Œå³æ•°æ®åˆ†å‘çš„èµ·ç‚¹ã€‚</li><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h3 id="å®éªŒè¯´æ˜ï¼š"><a href="#å®éªŒè¯´æ˜ï¼š" class="headerlink" title="å®éªŒè¯´æ˜ï¼š"></a>å®éªŒè¯´æ˜ï¼š</h3><p>ä½¿ç”¨å‡½æ•°MPI_Gatheråœ¨æ ¹è¿›ç¨‹ä¸­ä»æ‰€æœ‰è¿›ç¨‹æ¥æ”¶ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶åœ¨æ ¹è¿›ç¨‹ä¸­æ‰“å°å‡ºæ¥ã€‚</p><p>è¾“å‡ºç»“æœï¼š<br>Now is process 1â€™s data: arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>Now is process 4â€™s data: arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>Now is process 2â€™s data: arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5<br>â€¦<br>Now is process nâ€™s data: arr[0]&#x3D;1 arr[1]&#x3D;2 arr[2]&#x3D;3 arr[3]&#x3D;4 arr[4]&#x3D;5</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">int</span> dest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>rbuf<span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> dest<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rbuf<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>numprocs<span class="token operator">*</span><span class="token number">5</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//your code here</span><span class="token function">MPI_Gather</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> rbuf<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> dest<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>dest<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>numprocs<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now is process %d's data: "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"array[%d]=%d\t"</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> rbuf<span class="token punctuation">[</span>i<span class="token operator">*</span><span class="token number">5</span><span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•£å‘ï¼ˆscatterï¼‰"><a href="#æ•£å‘ï¼ˆscatterï¼‰" class="headerlink" title="æ•£å‘ï¼ˆscatterï¼‰"></a>æ•£å‘ï¼ˆscatterï¼‰</h2><p>åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ äº†æ”¶é›†ï¼ˆgatherï¼‰æ“ä½œï¼Œé‚£ä¹ˆä¸ä¹‹ç›¸å¯¹åº”ä¹Ÿæœ‰ä¸€ä¸ªç›¸åçš„é›†åˆé€šä¿¡æ“ä½œï¼Œå³æ ¹è¿›ç¨‹å‘æ‰€æœ‰è¿›ç¨‹å‘é€ç¼“å†²åŒºçš„æ•°æ®ï¼Œç§°ä¸ºæ•£å‘ã€‚</p><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œæ•£å‘æ“ä½œå’Œå¹¿æ’­æ“ä½œçš„åŒºåˆ«åœ¨äºå‘é€åˆ°å„ä¸ªè¿›ç¨‹çš„ä¿¡æ¯å¯ä»¥æ˜¯ä¸åŒçš„ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-7"><a href="#å‡½æ•°è¯´æ˜-7" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><blockquote><p>MPI_SCATTERæ˜¯MPI_GATHERçš„é€†æ“ä½œï¼Œå¦å¤–ä¸€ç§è§£é‡Šæ˜¯æ ¹è¿›ç¨‹é€šè¿‡MPI_Sendå‘é€ä¸€æ¡æ¶ˆæ¯,è¿™æ¡æ¶ˆæ¯è¢«åˆ†æˆnç­‰ä»½,ç¬¬iä»½å‘é€ç»™ç»„ä¸­çš„ç¬¬iä¸ªå¤„ç†å™¨, ç„¶åæ¯ä¸ªå¤„ç†å™¨å¦‚ä¸Šæ‰€è¿°æ¥æ”¶ç›¸åº”çš„æ¶ˆæ¯ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Scatter</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> sendbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> sendcount<span class="token punctuation">,</span> MPI_Datatype sendtype<span class="token punctuation">,</span> <span class="token keyword">void</span><span class="token operator">*</span> recvbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> recvcount<span class="token punctuation">,</span> MPI_Datatype recvtype<span class="token punctuation">,</span><span class="token keyword">int</span> root<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span> å‘é€ç¼“å†²åŒºçš„èµ·å§‹åœ°å€ï¼›å‘é€çš„æ•°æ®ä¸ªæ•°ï¼›æ•°æ®ç±»å‹ï¼›æ¥æ”¶ç¼“å†²åŒºçš„èµ·å§‹åœ°å€ï¼›å¾…æ¥æ”¶çš„å…ƒç´ ä¸ªæ•°ï¼›æ•°æ®ç±»å‹ï¼›å‘é€è¿›ç¨‹idï¼›é€šä¿¡å­ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>int MPI_Scatter(void* sendbuf, int sendcount, MPI_Datatype sendtype, void* recvbuf, int recvcount, MPI_Datatype recvtype,int root, MPI_Comm comm)</code> ï¼Œç”¨äºåœ¨å¹¶è¡Œè®¡ç®—ä¸­å°†æ•°æ®ä»æ ¹è¿›ç¨‹åˆ†æ•£åˆ°å…¶ä»–æ‰€æœ‰è¿›ç¨‹ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>sendbuf</code>ï¼šæŒ‡å‘å‘é€ç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œè¯¥ç¼“å†²åŒºåŒ…å«è¦å‘é€çš„æ•°æ®ã€‚</li><li><code>sendcount</code>ï¼šè¦å‘é€çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>sendtype</code>ï¼šå‘é€ç¼“å†²åŒºä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li><code>recvbuf</code>ï¼šæŒ‡å‘æ¥æ”¶ç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œè¯¥ç¼“å†²åŒºå°†å­˜å‚¨æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</li><li><code>recvcount</code>ï¼šæ¯ä¸ªè¿›ç¨‹åº”æ¥æ”¶çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>recvtype</code>ï¼šæ¥æ”¶ç¼“å†²åŒºä¸­å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</li><li><code>root</code>ï¼šæ ¹è¿›ç¨‹çš„æ ‡è¯†ç¬¦ï¼Œå³æ•°æ®åˆ†å‘çš„èµ·ç‚¹ã€‚</li><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ç»„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å…³ç³»ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> rank<span class="token punctuation">,</span> size<span class="token punctuation">;</span>    <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rank<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sendbuf<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> recvbuf<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rank <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ ¹è¿›ç¨‹åˆå§‹åŒ–å‘é€ç¼“å†²åŒº</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            sendbuf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä½¿ç”¨MPI_Scatterè¿›è¡Œæ•°æ®åˆ†å‘</span>    <span class="token function">MPI_Scatter</span><span class="token punctuation">(</span>sendbuf<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> recvbuf<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Process %d received data: "</span><span class="token punctuation">,</span> rank<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> recvbuf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šè¿°ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>MPI_Scatter</code>å‡½æ•°å°†æ•°æ®ä»æ ¹è¿›ç¨‹åˆ†æ•£åˆ°å…¶ä»–æ‰€æœ‰è¿›ç¨‹ã€‚æ ¹è¿›ç¨‹åˆå§‹åŒ–å‘é€ç¼“å†²åŒºï¼Œç„¶åè°ƒç”¨<code>MPI_Scatter</code>å‡½æ•°è¿›è¡Œæ•°æ®åˆ†å‘ã€‚å…¶ä»–è¿›ç¨‹æ¥æ”¶åˆ°æ•°æ®åï¼Œå°†å…¶æ‰“å°å‡ºæ¥ã€‚</p></blockquote><h3 id="å®éªŒè¯´æ˜ï¼š-1"><a href="#å®éªŒè¯´æ˜ï¼š-1" class="headerlink" title="å®éªŒè¯´æ˜ï¼š"></a>å®éªŒè¯´æ˜ï¼š</h3><p>ä½¿ç”¨å‡½æ•°MPI_Scatteråœ¨æ ¹è¿›ç¨‹ä¸­å‘æ‰€æœ‰è¿›ç¨‹å‘é€å¯¹åº”æ•°ç»„ï¼Œå¹¶åœ¨å¯¹åº”è¿›ç¨‹ä¸­æ‰“å°å‡ºæ¥ã€‚</p><p>è¾“å‡ºç»“æœï¼š<br>Now is process 1: arr[0]&#x3D;5 arr[1]&#x3D;6 arr[2]&#x3D;7 arr[3]&#x3D;8 arr[4]&#x3D;9<br>Now is process 4: arr[0]&#x3D;20 arr[1]&#x3D;21 arr[2]&#x3D;22 arr[3]&#x3D;23 arr[4]&#x3D;24<br>Now is process 2: arr[0]&#x3D;10 arr[1]&#x3D;11 arr[2]&#x3D;12 arr[3]&#x3D;13 arr[4]&#x3D;14<br>â€¦<br>Now is process n: arr[0]&#x3D;5<em>n arr[1]&#x3D;5</em>n+1 arr[2]&#x3D;5<em>n+2 arr[3]&#x3D;5</em>n+3 arr[4]&#x3D;5*n+4<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">int</span> source <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>sbuf<span class="token punctuation">;</span><span class="token keyword">int</span> rbuf<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> source<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    sbuf<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>numprocs<span class="token operator">*</span><span class="token number">5</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>numprocs<span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    sbuf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token comment">// your code here</span>    <span class="token function">MPI_Scatter</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> rbuf<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> source<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now is process %d: "</span><span class="token punctuation">,</span> myid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"array[%d]=%d\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> rbuf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Reduceå’ŒGatherrçš„åŒºåˆ«"><a href="#Reduceå’ŒGatherrçš„åŒºåˆ«" class="headerlink" title="Reduceå’ŒGatherrçš„åŒºåˆ«"></a>Reduceå’ŒGatherrçš„åŒºåˆ«</h2><p><code>MPI_Reduce</code> å’Œ <code>MPI_Gather</code> æ˜¯ MPIï¼ˆMessage Passing Interfaceï¼‰ä¸­ç”¨äºå¹¶è¡Œè®¡ç®—ä¸­çš„ä¸¤ç§ä¸åŒçš„é›†åˆé€šä¿¡æ“ä½œã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®çš„å¤„ç†æ–¹å¼å’Œç›®çš„ï¼š</p><ol><li><p><strong>MPI_Reduce</strong>ï¼š</p><ul><li>åŠŸèƒ½ï¼š<code>MPI_Reduce</code>å‡½æ•°æ˜¯ç”¨æ¥æ‰§è¡Œä¸€ä¸ªå…¨å±€çš„è§„çº¦æ“ä½œï¼Œä¾‹å¦‚æ±‚å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ï¼Œå°†æ‰€æœ‰è¿›ç¨‹ä¸­çš„ç‹¬ç«‹æ•°æ®é›†åˆåˆ°ä¸€ä¸ªè¿›ç¨‹ä¸­å»ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åº”ç”¨äº†ä¸€ä¸ªæŒ‡å®šçš„æ“ä½œç¬¦å¯¹è¿™äº›æ•°æ®è¿›è¡Œå½’çº¦ã€‚</li><li>ç”¨æ³•ï¼šæ¯ä¸ªè¿›ç¨‹æä¾›ä¸€å—æœ¬åœ°æ•°æ®ï¼Œç„¶åé€šè¿‡è°ƒç”¨<code>MPI_Reduce</code>å‡½æ•°ï¼Œç³»ç»Ÿä¼šæ ¹æ®æä¾›çš„æ“ä½œç¬¦ï¼ˆå¦‚<code>MPI_SUM</code>ã€<code>MPI_MAX</code>ç­‰ï¼‰åœ¨æ‰€æœ‰è¿›ç¨‹ä¸­å¯¹è¯¥ç±»å‹çš„æ•°æ®è¿›è¡Œå½’çº¦è¿ç®—ï¼Œæœ€ç»ˆç»“æœåªå­˜åœ¨äºè°ƒç”¨è€…æŒ‡å®šçš„ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼ˆé€šå¸¸ç§°ä¸ºæ ¹è¿›ç¨‹ï¼Œç”±å‚æ•°å†³å®šï¼‰ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœæ¯ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªæ•´æ•°å˜é‡ï¼Œä½¿ç”¨<code>MPI_Reduce</code>å¯ä»¥å°†æ‰€æœ‰è¿›ç¨‹çš„æ•´æ•°åŠ èµ·æ¥å¾—åˆ°æ€»çš„å’Œã€‚</li></ul></li><li><p><strong>MPI_Gather</strong>ï¼š</p><ul><li>åŠŸèƒ½ï¼š<code>MPI_Gather</code>å‡½æ•°åˆ™æ˜¯ç”¨æ¥ä»æ‰€æœ‰å‚ä¸é€šä¿¡çš„è¿›ç¨‹ä¸­æ”¶é›†ç›¸åŒæ•°é‡çš„æ•°æ®ï¼Œå¹¶å°†è¿™äº›æ•°æ®æŒ‰ç…§è¿›ç¨‹çš„ç§©é¡ºåºæ’åˆ—åï¼Œåˆå¹¶åˆ°æ ¹è¿›ç¨‹çš„ä¸€ä¸ªè¿ç»­å†…å­˜åŒºåŸŸä¸­ã€‚</li><li>ç”¨æ³•ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªæœ¬åœ°æ•°æ®ç¼“å†²åŒºï¼Œè°ƒç”¨<code>MPI_Gather</code>åï¼Œæ‰€æœ‰è¿›ç¨‹çš„æ•°æ®éƒ½ä¼šè¢«æ”¶é›†åˆ°æ ¹è¿›ç¨‹çš„ä¸€ä¸ªå¤§ç¼“å†²åŒºä¸­ï¼Œå½¢æˆä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ•°ç»„çš„ç¬¬iä¸ªå…ƒç´ æ¥è‡ªäºç§©ä¸ºiçš„è¿›ç¨‹çš„æœ¬åœ°æ•°æ®ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœæœ‰10ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹æœ‰ä¸€ä¸ªé•¿åº¦ä¸º10çš„æµ®ç‚¹æ•°æ•°ç»„ï¼Œä½¿ç”¨<code>MPI_Gather</code>å¯ä»¥åœ¨æ ¹è¿›ç¨‹å¤„åˆ›å»ºä¸€ä¸ªæ–°çš„å¤§å°ä¸º10x10çš„äºŒç»´æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€åˆ—æ¥è‡ªä¸€ä¸ªè¿›ç¨‹çš„åŸå§‹æ•°ç»„ã€‚</li></ul></li></ol><p>æ€»ç»“æ¥è¯´ï¼Œ<code>MPI_Reduce</code>æ˜¯åšæ•°æ®çš„èšåˆå’Œæ“ä½œï¼Œç›®æ ‡æ˜¯å¾—åˆ°å•ä¸ªè¿›ç¨‹ä¸Šçš„å”¯ä¸€ç»“æœï¼›è€Œ<code>MPI_Gather</code>åˆ™æ›´åƒæ˜¯æ•°æ®çš„æ±‡æ€»ï¼Œä¸æ¶‰åŠæ•°æ®ä¹‹é—´çš„æ“ä½œï¼Œç›®æ ‡æ˜¯å°†å„ä¸ªè¿›ç¨‹çš„æ•°æ®æ‹¼æ¥åˆ°ä¸€èµ·å½¢æˆä¸€ä¸ªå®Œæ•´çš„é›†åˆã€‚</p><h2 id="Bcastå’ŒScatterçš„åŒºåˆ«"><a href="#Bcastå’ŒScatterçš„åŒºåˆ«" class="headerlink" title="Bcastå’ŒScatterçš„åŒºåˆ«"></a>Bcastå’ŒScatterçš„åŒºåˆ«</h2><p><code>MPI_Bcast</code>ï¼ˆBroadcastï¼‰å’Œ<code>MPI_Scatter</code>ï¼ˆScatterï¼‰æ˜¯Message Passing Interface (MPI) ä¸­ç”¨äºå¹¶è¡Œè®¡ç®—çš„ä¸¤ç§é›†åˆé€šä¿¡æ“ä½œï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºæ•°æ®åˆ†å‘çš„æ–¹å¼å’Œç›®çš„ï¼š</p><ol><li><p><strong>MPI_Bcast</strong>ï¼š</p><ul><li>åŠŸèƒ½ï¼š<code>MPI_Bcast</code>å‡½æ•°æ‰§è¡Œçš„æ˜¯å¹¿æ’­æ“ä½œï¼Œå³ä»ä¸€ä¸ªæŒ‡å®šçš„è¿›ç¨‹ï¼ˆç§°ä¸ºâ€œæ ¹è¿›ç¨‹â€ï¼‰å°†ç›¸åŒçš„æ•°æ®å‘é€ç»™ communicator å†…çš„æ‰€æœ‰å…¶ä»–è¿›ç¨‹ã€‚</li><li>ç”¨æ³•ï¼šåœ¨è°ƒç”¨<code>MPI_Bcast</code>æ—¶ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½ä¼šæä¾›ä¸€ä¸ªç¼“å†²åŒºï¼Œä½†åªæœ‰æ ¹è¿›ç¨‹çš„ç¼“å†²åŒºä¸­çš„æ•°æ®ä¼šè¢«å¹¿æ’­ã€‚æ‰§è¡Œåï¼Œæ‰€æœ‰å‚ä¸é€šä¿¡çš„è¿›ç¨‹ä¸­ç¼“å†²åŒºçš„å†…å®¹éƒ½ä¼šè¢«æ›´æ–°ä¸ºæ ¹è¿›ç¨‹ç¼“å†²åŒºä¸­å¹¿æ’­å‡ºå»çš„æ•°æ®ã€‚</li><li>ç¤ºä¾‹åœºæ™¯ï¼šä¾‹å¦‚ï¼Œå¦‚æœæ ¹è¿›ç¨‹æœ‰ä¸€ä¸ªå…¨å±€å‚æ•°éœ€è¦æ‰€æœ‰çš„å…¶ä»–è¿›ç¨‹çŸ¥é“ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨<code>MPI_Bcast</code>æ¥å¿«é€Ÿåœ°è®©æ‰€æœ‰è¿›ç¨‹è·å–åˆ°ç›¸åŒçš„å‚æ•°å€¼ã€‚</li></ul></li><li><p><strong>MPI_Scatter</strong>ï¼š</p><ul><li>åŠŸèƒ½ï¼š<code>MPI_Scatter</code>å‡½æ•°åˆ™è´Ÿè´£å°†æ ¹è¿›ç¨‹çš„ä¸€ä¸ªå¤§æ•°ç»„åˆ†å‰²æˆå¤šä¸ªå­å—ï¼Œå¹¶å°†è¿™äº›å­å—åˆ†åˆ«å‘é€ç»™ communicator å†…çš„ä¸åŒè¿›ç¨‹ã€‚</li><li>ç”¨æ³•ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æä¾›ä¸€ä¸ªæ¥æ”¶ç¼“å†²åŒºï¼Œä½†å†…å®¹å¤§å°é€šå¸¸å°äºæˆ–ç­‰äºæ ¹è¿›ç¨‹çš„å‘é€ç¼“å†²åŒºã€‚æ‰§è¡Œåï¼Œå„ä¸ªè¿›ç¨‹æ¥æ”¶åˆ°çš„æ•°æ®æ¥è‡ªåŸå§‹å¤§æ•°ç»„çš„ä¸åŒéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å®Œå…¨ç›¸åŒçš„æ•°æ®ã€‚</li><li>ç¤ºä¾‹åœºæ™¯ï¼šæ¯”å¦‚ï¼Œåœ¨åˆ†å¸ƒå¼çŸ©é˜µä¹˜æ³•ä¸­ï¼Œæ ¹è¿›ç¨‹æ‹¥æœ‰ä¸€ä¸ªå¤§çš„çŸ©é˜µAï¼Œå®ƒå¯èƒ½éœ€è¦å°†çŸ©é˜µAçš„å„è¡Œåˆ†æ•£ç»™ä¸åŒçš„è¿›ç¨‹è¿›è¡Œå±€éƒ¨è®¡ç®—ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨<code>MPI_Scatter</code>å°†çŸ©é˜µAæ‹†åˆ†æˆå¤šä»½å¹¶åˆ†å‘ç»™å„ä¸ªè¿›ç¨‹ã€‚</li></ul></li></ol><p>æ€»ç»“æ¥è¯´ï¼Œ<code>MPI_Bcast</code>ç”¨äºå‘æ‰€æœ‰è¿›ç¨‹å‘é€ç›¸åŒçš„æ•°æ®å‰¯æœ¬ï¼Œè€Œ<code>MPI_Scatter</code>åˆ™æ˜¯å°†æ•°æ®åˆ†è§£ååˆ†é…ç»™å„ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹å¾—åˆ°çš„æ•°æ®ä¸åŒï¼Œé€šå¸¸æ˜¯åŸå§‹æ•°æ®çš„ä¸€ä¸ªå­é›†ã€‚</p><h2 id="è®¡ç®—è¿è¡Œæ—¶é—´"><a href="#è®¡ç®—è¿è¡Œæ—¶é—´" class="headerlink" title="è®¡ç®—è¿è¡Œæ—¶é—´"></a>è®¡ç®—è¿è¡Œæ—¶é—´</h2><p>å¯ä»¥ä½¿ç”¨MPI_Wtimeå‡½æ•°åœ¨å¹¶è¡Œä»£ç ä¸­è®¡ç®—è¿è¡Œæ—¶é—´ï¼Œç”¨MPI_Wtickæ¥æŸ¥çœ‹ç²¾åº¦ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-8"><a href="#å‡½æ•°è¯´æ˜-8" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><p>MPI_WTIMEï¼š<code>è¿”å›</code>ä¸€ä¸ªç”¨æµ®ç‚¹æ•°è¡¨ç¤ºçš„ç§’æ•°, å®ƒè¡¨ç¤ºä»è¿‡å»æŸä¸€æ—¶åˆ»åˆ°è°ƒç”¨æ—¶åˆ»æ‰€ç»å†çš„æ—¶é—´</p><p>MPI_WTICKï¼š<code>è¿”å›</code>MPI_WTIMEçš„ç²¾åº¦ï¼Œå•ä½æ˜¯ç§’ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæ—¶é’Ÿæ»´ç­”æ‰€å ç”¨çš„æ—¶é—´</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">double</span> <span class="token function">MPI_Wtime</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token keyword">double</span> <span class="token function">MPI_Wtick</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>double MPI_Wtime(void)</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–å½“å‰è¿›ç¨‹çš„å¢™é’Ÿæ—¶é—´çš„å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºä»æŸä¸ªå›ºå®šæ—¶é—´ç‚¹ï¼ˆé€šå¸¸æ˜¯ç¨‹åºå¯åŠ¨æ—¶ï¼‰åˆ°ç°åœ¨æ‰€ç»è¿‡çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚è¿™ä¸ªå‡½æ•°é€šå¸¸ç”¨äºæ€§èƒ½åˆ†æå’Œè°ƒè¯•ã€‚</p><p><code>double MPI_Wtick(void)</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–å½“å‰è¿›ç¨‹çš„å¢™é’Ÿæ—¶é—´é—´éš”çš„å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºä»ä¸Šä¸€æ¬¡è°ƒç”¨ <code>MPI_Wtime()</code> å‡½æ•°åˆ°ç°åœ¨æ‰€ç»è¿‡çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ã€‚è¿™ä¸ªå‡½æ•°é€šå¸¸ç”¨äºæ€§èƒ½åˆ†æå’Œè°ƒè¯•ã€‚</p><h3 id="å®éªŒè¯´æ˜-5"><a href="#å®éªŒè¯´æ˜-5" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>ä½¿ç”¨å‡½æ•°MPI_Wtimeè®¡ç®—å¹¶è¡Œä»£ç çš„è¿è¡Œæ—¶é—´ï¼Œå¹¶ä¸”åœ¨ä¸¤æ¬¡è®¡ç®—æ—¶é—´çš„å‡½æ•°ä¹‹é—´ç”¨å‡½æ•°MPI_WTICKæ‰“å°å‡ºç²¾åº¦</p><p>è¾“å‡ºç»“æœï¼š</p><p>The precision is: 1e-06<br>Hello World!Iâ€™m rank â€¦ of â€¦, running â€¦ seconds</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">double</span> start<span class="token punctuation">,</span> finish<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>start <span class="token operator">=</span> <span class="token function">MPI_Wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The precision is: %f\n"</span><span class="token punctuation">,</span> <span class="token function">MPI_Wtick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>finish <span class="token operator">=</span> <span class="token function">MPI_Wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!I'm rank %d of %d, running %f seconds.\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> finish<span class="token operator">-</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h2><p>ä¾‹å¦‚ï¼Œå¸Œæœ›ä¿è¯æ‰€æœ‰è¿›ç¨‹ä¸­å¹¶è¡Œä»£ç åœ¨æŸä¸ªåœ°æ–¹åŒæ—¶å¼€å§‹è¿è¡Œï¼Œæˆ–è€…åœ¨æŸä¸ªå‡½æ•°è°ƒç”¨ç»“æŸä¹‹å‰ä¸èƒ½è¿”å›ã€‚</p><p>è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°MPI_Barrierå‡½æ•°ã€‚</p><h3 id="å‡½æ•°è¯´æ˜ï¼š"><a href="#å‡½æ•°è¯´æ˜ï¼š" class="headerlink" title="å‡½æ•°è¯´æ˜ï¼š"></a>å‡½æ•°è¯´æ˜ï¼š</h3><p>é˜»æ­¢è°ƒç”¨ç›´åˆ°communicatorä¸­æ‰€æœ‰è¿›ç¨‹å·²ç»å®Œæˆè°ƒç”¨ï¼Œå°±æ˜¯è¯´ï¼Œä»»æ„ä¸€æ¬¡è¿›ç¨‹çš„è°ƒç”¨åªèƒ½åœ¨æ‰€æœ‰communicatorä¸­çš„æˆå‘˜å·²ç»å¼€å§‹è°ƒç”¨ä¹‹åè¿›è¡Œã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Barrier</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>MPI_Barrier(MPI_Comm comm)</code> æ˜¯ä¸€ä¸ªç”¨äºåŒæ­¥è¿›ç¨‹çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼š</p><ol><li><code>MPI_Comm comm</code>ï¼šä¸€ä¸ªé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºè¦åŒæ­¥çš„è¿›ç¨‹ç»„ã€‚</li></ol><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›å€¼ä¸º <code>MPI_SUCCESS</code>ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ä»£ç ã€‚</p><h3 id="å®éªŒè¯´æ˜ï¼š-2"><a href="#å®éªŒè¯´æ˜ï¼š-2" class="headerlink" title="å®éªŒè¯´æ˜ï¼š"></a>å®éªŒè¯´æ˜ï¼š</h3><p>åœ¨è®¡ç®—è¿è¡Œæ—¶é—´çš„ä¿¡æ¯ä¹‹å‰è°ƒç”¨MPI_Barrierå‡½æ•°å®ŒæˆåŒæ­¥ã€‚</p><p>è¾“å‡ºç»“æœï¼š</p><p>The precision is: 1e-06<br>Hello World!Iâ€™m rank â€¦ of â€¦, running â€¦ seconds.</p><p>åœ¨æ­¤ç¤ºä¾‹ç¨‹åºä¸­ï¼Œå¯èƒ½æ˜¯å¦è°ƒç”¨å‡½æ•°ä¸å½±å“æœ€ç»ˆè¾“å‡ºï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€æ•ˆæœç›¸åŒã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span><span class="token keyword">double</span> start<span class="token punctuation">,</span> finish<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span><span class="token function">MPI_Barrier</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span>start <span class="token operator">=</span> <span class="token function">MPI_Wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The precision is: %f\n"</span><span class="token punctuation">,</span> <span class="token function">MPI_Wtick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>finish <span class="token operator">=</span> <span class="token function">MPI_Wtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello World!I'm rank %d of %d, running %f seconds.\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> finish<span class="token operator">-</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»„çš„ç®¡ç†"><a href="#ç»„çš„ç®¡ç†" class="headerlink" title="ç»„çš„ç®¡ç†"></a>ç»„çš„ç®¡ç†</h2><h3 id="åˆ›å»ºï¼ˆ1ï¼‰"><a href="#åˆ›å»ºï¼ˆ1ï¼‰" class="headerlink" title="åˆ›å»ºï¼ˆ1ï¼‰"></a>åˆ›å»ºï¼ˆ1ï¼‰</h3><p>ç»„æ˜¯ä¸€ä¸ªè¿›ç¨‹çš„æœ‰åºé›†åˆï¼Œåœ¨å®ç°ä¸­å¯ä»¥çœ‹ä½œæ˜¯è¿›ç¨‹æ ‡è¯†ç¬¦çš„ä¸€ä¸ªæœ‰åºé›†ã€‚ç»„å†…çš„æ¯ä¸ªè¿›ç¨‹ä¸ä¸€ä¸ªæ•´æ•°rankç›¸è”ç³»ï¼Œåºåˆ—å·ä»0å¼€å§‹å¹¶ä¸”æ˜¯è¿ç»­çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é€šä¿¡ç»„ä¸­ä½¿ç”¨ç»„ï¼Œæ¥æè¿°é€šä¿¡ç©ºé—´ä¸­çš„å‚ä¸è€…å¹¶å¯¹è¿™äº›å‚ä¸è€…è¿›è¡Œåˆ†çº§ï¼ˆè¿™æ ·åœ¨é€šä¿¡ç©ºé—´ä¸­ä¸ºå®ƒä»¬èµ‹äºˆäº†å”¯ä¸€çš„åå­—ï¼‰</p><p>ç”±æ­¤å¯è§ï¼Œç»„æ˜¯æˆ‘ä»¬å¯¹è¿›ç¨‹é›†åˆæ›´é«˜ä¸€çº§çš„æŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„çš„åŸºç¡€ä¸Šå¯¹å„ä¸ªè¿›ç¨‹è¿›è¡Œæ›´è¿›ä¸€æ­¥çš„æ“ä½œï¼Œä¾‹å¦‚é€šè¿‡è™šæ‹Ÿæ‹“æ‰‘æ¥è¾…åŠ©å¹¶è¡Œæ“ä½œçš„å®ç°ã€‚</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬å…ˆä»‹ç»ä¸¤ä¸ªç‰¹æ®Šçš„é¢„å®šä¹‰ç»„ï¼ŒMPI_GROUP_EMPTYå’ŒMPI_GROUP_NULLã€‚<br>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œå‰è€…æ˜¯ä¸€ä¸ªç©ºç»„çš„æœ‰æ•ˆå¥æŸ„ï¼Œå¯ä»¥åœ¨ç»„æ“ä½œä¸­ä½œä¸ºä¸€ä¸ªå‚æ•°ä½¿ç”¨ï¼›è€Œåè€…æ˜¯ä¸€ä¸ªæ— æ•ˆå¥æŸ„ï¼Œåœ¨ç»„é‡Šæ”¾æ—¶ä¼šè¢«è¿”å›ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-9"><a href="#å‡½æ•°è¯´æ˜-9" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><blockquote><p>MPI_Comm_groupç”¨æ¥å»ºç«‹ä¸€ä¸ªé€šä¿¡ç»„å¯¹åº”çš„æ–°è¿›ç¨‹ç»„</p><p>MPI_Group_rankæŸ¥è¯¢è°ƒç”¨è¿›ç¨‹åœ¨è¿›ç¨‹ç»„é‡Œçš„rank</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">,</span> MPI_Group <span class="token operator">*</span>group<span class="token punctuation">)</span><span class="token keyword">int</span> <span class="token function">MPI_Group_rank</span><span class="token punctuation">(</span>MPI_Group group<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>rank<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>MPI_Comm_group(MPI_Comm comm, MPI_Group *group)</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–è¿›ç¨‹ç»„çš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>MPI_Comm comm</code>ï¼šä¸€ä¸ªé€šä¿¡å™¨å¯¹è±¡ï¼Œè¡¨ç¤ºè¦æŸ¥è¯¢çš„è¿›ç¨‹ç»„æ‰€å±çš„é€šä¿¡å™¨ã€‚</li><li><code>MPI_Group *group</code>ï¼šä¸€ä¸ªæŒ‡å‘ <code>MPI_Group</code> ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨æŸ¥è¯¢åˆ°çš„è¿›ç¨‹ç»„ã€‚</li></ol><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›å€¼ä¸º <code>MPI_SUCCESS</code>ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ä»£ç ã€‚</p><p><code>MPI_Group_rank(MPI_Group group, int *rank)</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–è¿›ç¨‹ç»„ä¸­æŸä¸ªè¿›ç¨‹çš„æ’åçš„å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><code>MPI_Group group</code>ï¼šä¸€ä¸ªè¿›ç¨‹ç»„å¯¹è±¡ï¼Œè¡¨ç¤ºè¦æŸ¥è¯¢çš„è¿›ç¨‹ç»„ã€‚</li><li><code>int *rank</code>ï¼šä¸€ä¸ªæŒ‡å‘æ•´æ•°ç±»å‹çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨æŸ¥è¯¢åˆ°çš„è¿›ç¨‹æ’åã€‚</li></ol><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›å€¼ä¸º <code>MPI_SUCCESS</code>ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ä»£ç ã€‚</p></blockquote><h4 id="å®éªŒè¯´æ˜-6"><a href="#å®éªŒè¯´æ˜-6" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>å»ºç«‹ä¸€ä¸ªä¸åˆå§‹é€šä¿¡å­MPI_COMM_WORLDç›¸è”ç³»çš„ç»„ï¼Œæ‰“å°å‡ºå½“å‰è¿›ç¨‹åœ¨è¿›ç¨‹ç»„çš„rankã€‚</p><p>è¾“å‡ºç»“æœ:<br>rankï¼š 1<br>rankï¼š 0<br>â€¦<br>rankï¼š n</p><p>é¡ºåºä¸å”¯ä¸€</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">;</span><span class="token keyword">int</span> rank_of_group<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Group_rank</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rank_of_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"rank: %d\n"</span><span class="token punctuation">,</span> rank_of_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºï¼ˆ2ï¼‰"><a href="#åˆ›å»ºï¼ˆ2ï¼‰" class="headerlink" title="åˆ›å»ºï¼ˆ2ï¼‰"></a>åˆ›å»ºï¼ˆ2ï¼‰</h3><p>ä¸Šä¸€èŠ‚æˆ‘ä»¬çŸ¥é“ï¼Œå¯ä»¥ç”¨MPI_Comm_groupå‡½æ•°æ¥è·å¾—ä¸é€šä¿¡ç»„MPI_COMM_WORLDç›¸å…³è”çš„ç»„å¥æŸ„ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªç»„å¥æŸ„åšä»€ä¹ˆå‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæœ€åŸå§‹çš„ç»„å¥æŸ„æ¥åˆ›å»ºæ›´å¤šçš„ã€æ»¡è¶³æˆ‘ä»¬éœ€è¦çš„ç»„ã€‚</p><p>åœ¨è¿™é‡Œéœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼ŒMPIæ²¡æä¾›å‡­ç©ºæ„é€ ä¸€ä¸ªç»„çš„çš„æœºåˆ¶ï¼Œè€Œåªèƒ½ä»å…¶å®ƒä»¥å‰å®šä¹‰çš„ç»„ä¸­æ„é€ ã€‚æœ€åŸºæœ¬çš„ç»„æ˜¯ä¸åˆå§‹é€šä¿¡å­MPI_COMM_WORLDç›¸è”ç³»çš„ç»„ï¼ˆå¯é€šè¿‡å‡½æ•°MPI_COMM_GROUPè·å¾—ã€•ï¼Œå…¶å®ƒçš„ç»„åœ¨è¯¥ç»„åŸºç¡€ä¸Šå®šä¹‰ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-10"><a href="#å‡½æ•°è¯´æ˜-10" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><blockquote><p>åŸºäºå·²ç»å­˜åœ¨çš„è¿›ç¨‹ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ï¼Œå¹¶æŒ‡æ˜è¢«åŒ…å«(included)å…¶ä¸­çš„æˆå‘˜è¿›ç¨‹ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>MPI_Group old_group<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>members<span class="token punctuation">,</span> MPI_Group <span class="token operator">*</span>new_group<span class="token punctuation">)</span>æ—§è¿›ç¨‹ç»„è¦åŒ…å«åœ¨æ–°è¿›ç¨‹ç»„çš„è¿›ç¨‹æ•°é‡  è¦æ”¾å…¥æ–°è¿›ç¨‹ç»„çš„è¿›ç¨‹çš„ç¼–å·æ•°ç»„ æŒ‡é’ˆæŒ‡å‘æ–°è¿›ç¨‹ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªå‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„ï¼Œè¯¥ç»„åŒ…å«æ—§è¿›ç¨‹ç»„ä¸­æŒ‡å®šçš„æˆå‘˜ã€‚</p><p>å‚æ•°è§£æï¼š</p><ul><li><code>old_group</code>ï¼šä¸€ä¸ªMPI_Groupç±»å‹çš„å˜é‡ï¼Œè¡¨ç¤ºè¦å¤åˆ¶çš„æ—§è¿›ç¨‹ç»„ã€‚</li><li><code>count</code>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦åŒ…å«åœ¨æ–°çš„è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ•°é‡ã€‚</li><li><code>members</code>ï¼šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ŒåŒ…å«äº†è¦åŒ…å«åœ¨æ–°è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚</li><li><code>new_group</code>ï¼šä¸€ä¸ªMPI_Groupç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ›å»ºçš„è¿›ç¨‹ç»„ã€‚</li></ul><p>å‡½æ•°æ‰§è¡Œåï¼Œ<code>new_group</code>å°†æŒ‡å‘ä¸€ä¸ªæ–°åˆ›å»ºçš„è¿›ç¨‹ç»„ï¼Œè¯¥è¿›ç¨‹ç»„åŒ…å«äº†<code>old_group</code>ä¸­æŒ‡å®šçš„æˆå‘˜ã€‚</p></blockquote><h4 id="å®éªŒè¯´æ˜-7"><a href="#å®éªŒè¯´æ˜-7" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>åŸºäºä¸åˆå§‹é€šä¿¡å­MPI_COMM_WORLDç›¸è”ç³»çš„ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ï¼Œè¿™ä¸ªæ–°çš„ç»„çš„æˆå‘˜æ˜¯é€šä¿¡è€…MPI_COMM_WORLDçš„å¥‡æ•°ç¼–å·çš„è¿›ç¨‹ã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>In process n: odd rank is x<br>â€¦</p><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œå¦‚æœåœ¨å¶æ•°ç¼–å·çš„è¿›ç¨‹ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸å±äºè¿™ä¸ªç»„çš„è¿›ç¨‹ä¸­è¾“å‡ºè¿™ä¸ªå€¼ï¼ŒMPI_Group_rankä¼šè¿”å›MPI_UNDEFINEDä½œä¸ºgroup_rankçš„å€¼ï¼Œè¡¨ç¤ºå®ƒä¸æ˜¯ worker_groupçš„æˆå‘˜ï¼Œåœ¨MPICHé‡Œæ˜¯-32766ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> odd_rank<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> odd_group<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">int</span> members<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>members<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> members<span class="token punctuation">,</span> <span class="token operator">&amp;</span>odd_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">MPI_Group_rank</span><span class="token punctuation">(</span>odd_group<span class="token punctuation">,</span> <span class="token operator">&amp;</span>odd_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In process %d: odd rank is %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> odd_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºï¼ˆ3ï¼‰"><a href="#åˆ›å»ºï¼ˆ3ï¼‰" class="headerlink" title="åˆ›å»ºï¼ˆ3ï¼‰"></a>åˆ›å»ºï¼ˆ3ï¼‰</h3><p>åŒæ ·ï¼Œæˆ‘ä»¬åœ¨åŸºäºæ—§è¿›ç¨‹ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„çš„æ—¶å€™ï¼Œå¯èƒ½å¸Œæœ›æ’é™¤ä¸€äº›æˆå‘˜è¿›ç¨‹ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©å‡ºå‰©ä¸‹çš„æˆå‘˜è¿›ç¨‹çš„æ–¹æ³•æ¥è¾¾æˆæˆ‘ä»¬çš„ç›®çš„ï¼Œä½†æ˜¯MPIæä¾›äº†æ›´å¥½çš„åŠæ³•å»å®ç°å®ƒã€‚</p><h4 id="å‡½æ•°è¯´æ˜-11"><a href="#å‡½æ•°è¯´æ˜-11" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><blockquote><p>åŸºäºå·²ç»å­˜åœ¨çš„è¿›ç¨‹ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ï¼Œå¹¶æŒ‡æ˜ä¸è¢«åŒ…å«(excluded)å…¶ä¸­çš„æˆå‘˜è¿›ç¨‹ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Group_excl</span><span class="token punctuation">(</span>MPI_Group old_group<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>nonmembers<span class="token punctuation">,</span> MPI_Group <span class="token operator">*</span>new_group<span class="token punctuation">)</span>æ—§è¿›ç¨‹ç»„ï¼›è¦åŒ…å«åœ¨æ–°çš„è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ•°é‡ï¼›ä¸éœ€è¦æ”¾å…¥æ–°è¿›ç¨‹ç»„çš„è¿›ç¨‹çš„ç¼–å·ï¼›æ–°è¿›ç¨‹ç»„çš„æŒ‡é’ˆï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªå‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„ï¼Œè¯¥ç»„åŒ…å«æ—§è¿›ç¨‹ç»„ä¸­æŒ‡å®šçš„æˆå‘˜ï¼Œä½†ä¸åŒ…å«éæˆå‘˜åˆ—è¡¨ä¸­çš„è¿›ç¨‹ã€‚</p><p>å‚æ•°è§£æï¼š</p><ul><li><code>old_group</code>ï¼šä¸€ä¸ªMPI_Groupç±»å‹çš„å˜é‡ï¼Œè¡¨ç¤ºè¦å¤åˆ¶çš„æ—§è¿›ç¨‹ç»„ã€‚</li><li><code>count</code>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦åŒ…å«åœ¨æ–°çš„è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ•°é‡ã€‚</li><li><code>nonmembers</code>ï¼šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ŒåŒ…å«äº†ä¸åŒ…å«åœ¨æ–°è¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹çš„æ ‡è¯†ç¬¦ã€‚</li><li><code>new_group</code>ï¼šä¸€ä¸ªMPI_Groupç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ›å»ºçš„è¿›ç¨‹ç»„ã€‚</li></ul><p>å‡½æ•°æ‰§è¡Œåï¼Œ<code>new_group</code>å°†æŒ‡å‘ä¸€ä¸ªæ–°åˆ›å»ºçš„è¿›ç¨‹ç»„ï¼Œè¯¥è¿›ç¨‹ç»„åŒ…å«äº†<code>old_group</code>ä¸­æŒ‡å®šçš„æˆå‘˜ï¼Œä½†ä¸åŒ…å«<code>nonmembers</code>åˆ—è¡¨ä¸­çš„è¿›ç¨‹ã€‚</p></blockquote><h4 id="å®éªŒè¯´æ˜-8"><a href="#å®éªŒè¯´æ˜-8" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>åŸºäºä¸åˆå§‹é€šä¿¡å­MPI_COMM_WORLDç›¸è”ç³»çš„ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ï¼Œè¿™ä¸ªæ–°çš„ç»„çš„æˆå‘˜æ˜¯é€šä¿¡è€…MPI_COMM_WORLDçš„å¶æ•°ç¼–å·çš„è¿›ç¨‹ã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>In process n: even rank is x<br>â€¦</p><p>éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œå¦‚æœåœ¨å¥‡æ•°ç¼–å·çš„è¿›ç¨‹ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸å±äºè¿™ä¸ªç»„çš„è¿›ç¨‹ä¸­è¾“å‡ºè¿™ä¸ªå€¼ï¼ŒMPI_Group_rankä¼šè¿”å›MPI_UNDEFINEDä½œä¸ºgroup_rankçš„å€¼ï¼Œè¡¨ç¤ºå®ƒä¸æ˜¯ worker_groupçš„æˆå‘˜ï¼Œåœ¨MPICHé‡Œè¿™ä¸ªå€¼æ˜¯-32766ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> even_rank<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> even_group<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">int</span> nonmembers<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>nonmembers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_excl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> nonmembers<span class="token punctuation">,</span> <span class="token operator">&amp;</span>even_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">MPI_Group_rank</span><span class="token punctuation">(</span>even_group<span class="token punctuation">,</span> <span class="token operator">&amp;</span>even_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In process %d: even rank is %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> even_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç›¸å¯¹ç¼–å·"><a href="#ç›¸å¯¹ç¼–å·" class="headerlink" title="ç›¸å¯¹ç¼–å·"></a>ç›¸å¯¹ç¼–å·</h3><p>åœ¨åˆ›å»ºç»„ä¹‹åï¼Œå¯èƒ½ä¼šæœ‰è¿™ä¸ªç–‘æƒ‘ï¼šå¦‚æœçŸ¥é“äº†åœ¨ç»„MPI_COMM_WORLDä¸­æŸäº›è¿›ç¨‹çš„ç¼–å·ï¼Œå¦‚ä½•æ ¹æ®è¿™äº›ç¼–å·æ¥æ“ä½œåœ¨ä¸åŒç»„çš„åŒä¸€è¿›ç¨‹æ¥å®Œæˆä¸åŒçš„ä»»åŠ¡å‘¢ï¼Ÿ</p><p>MPIæä¾›äº†è¿™æ ·çš„å‡½æ•°ä»¥åº”ä»˜è¿™ç§å¸¸è§çš„æƒ…æ™¯ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-12"><a href="#å‡½æ•°è¯´æ˜-12" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><p>æ£€æµ‹ä¸¤ä¸ªä¸åŒç»„ä¸­ç›¸åŒè¿›ç¨‹çš„ç›¸å¯¹ç¼–å·ã€‚å¦‚æœå±äºè¿›ç¨‹ç»„1çš„æŸä¸ªè¿›ç¨‹å¯ä»¥åœ¨ranks1ä¸­æ‰¾åˆ°ï¼Œè€Œè¿™ä¸ªè¿›ç¨‹ä¸å±äºè¿›ç¨‹ç»„2ï¼Œåˆ™åœ¨ranks2ä¸­å¯¹åº”ranks1çš„ä½ç½®è¿”å›å€¼ä¸ºMPI_UNDEFINEDã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Group_translate_ranks</span><span class="token punctuation">(</span>MPI_Group group1<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>ranks1<span class="token punctuation">,</span> MPI_Group group2<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>ranks2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>MPI_Group_translate_ranks</code>å‡½æ•°ç”¨äºå°†ä¸€ä¸ªè¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ’åæ˜ å°„åˆ°å¦ä¸€ä¸ªè¿›ç¨‹ç»„ä¸­çš„è¿›ç¨‹æ’åã€‚å®ƒæ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li><code>group1</code>ï¼šç¬¬ä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œç±»å‹ä¸º<code>MPI_Group</code>ã€‚</li><li><code>count</code>ï¼šè¦è½¬æ¢çš„è¿›ç¨‹æ•°é‡ï¼Œç±»å‹ä¸ºæ•´æ•°ã€‚</li><li><code>ranks1</code>ï¼šæŒ‡å‘åŒ…å«è¦è½¬æ¢çš„è¿›ç¨‹æ’åçš„æ•°ç»„çš„æŒ‡é’ˆï¼Œç±»å‹ä¸ºæ•´æ•°æŒ‡é’ˆã€‚</li><li><code>group2</code>ï¼šç¬¬äºŒä¸ªè¿›ç¨‹ç»„ï¼Œç±»å‹ä¸º<code>MPI_Group</code>ã€‚</li><li><code>ranks2</code>ï¼šæŒ‡å‘å­˜å‚¨è½¬æ¢åçš„è¿›ç¨‹æ’åçš„æ•°ç»„çš„æŒ‡é’ˆï¼Œç±»å‹ä¸ºæ•´æ•°æŒ‡é’ˆã€‚</li></ul><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª<code>int</code>ç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›å€¼ä¸º<code>MPI_SUCCESS</code>ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ä»£ç ã€‚</p><h4 id="å®éªŒè¯´æ˜-9"><a href="#å®éªŒè¯´æ˜-9" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>å»ºç«‹ä¸¤ä¸ªè¿›ç¨‹ç»„ï¼Œæ‰“å°å‡ºè¿›ç¨‹ç»„2ä¸­å¯¹åº”è¿›ç¨‹ç»„1çš„è¿›ç¨‹çš„ç¼–å·ã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼ï¼š<br>The rank in group2 is: -32766<br>The rank in group2 is: 0<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> group1<span class="token punctuation">,</span> group2<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">int</span> ranks1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ranks2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ranks_output<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>ranks1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token punctuation">;</span>ranks2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> ranks1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> ranks2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_translate_ranks</span><span class="token punctuation">(</span>group1<span class="token punctuation">,</span> numprocs<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> ranks1<span class="token punctuation">,</span> group2<span class="token punctuation">,</span> ranks_output<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The rank in group2 is: %d\n"</span><span class="token punctuation">,</span> ranks_output<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é‡Šæ”¾"><a href="#é‡Šæ”¾" class="headerlink" title="é‡Šæ”¾"></a>é‡Šæ”¾</h3><p>æ—¢ç„¶æœ‰äº†ç»„çš„æ„é€ ï¼Œé‚£ä¹ˆä¸ä¹‹å¯¹åº”ä¹Ÿå­˜åœ¨ç»„çš„ææ„ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-13"><a href="#å‡½æ•°è¯´æ˜-13" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><blockquote><p>è°ƒç”¨å‡½æ•°ä¼šæ ‡è®°ä¸€ä¸ªè¢«é‡Šæ”¾çš„ç»„å¯¹è±¡ï¼Œç»„å¥æŸ„è¢«è°ƒç”¨ç½®ä¸ºMPI_GROUP_NULLã€‚ä»»ä½•æ­£åœ¨ä½¿ç”¨æ­¤ç»„çš„æ“ä½œå°†æ­£å¸¸å®Œæˆã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Group_free</span><span class="token punctuation">(</span>MPI_Group <span class="token operator">*</span>group<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>int MPI_Group_free(MPI_Group *group)</code> æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºé‡Šæ”¾ä¸€ä¸ªå·²ç»åˆ›å»ºçš„è¿›ç¨‹ç»„ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>group</code>ï¼šæŒ‡å‘è¦é‡Šæ”¾çš„è¿›ç¨‹ç»„çš„æŒ‡é’ˆã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul></blockquote><h4 id="å®éªŒè¯´æ˜-10"><a href="#å®éªŒè¯´æ˜-10" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>å»ºç«‹ä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œæ‰“å°å‡ºå®ƒçš„sizeï¼Œç„¶åé‡Šæ”¾å®ƒã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>Now the size is n<br>Now the group is freed.</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">;</span><span class="token keyword">int</span> size0<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Group_size</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> <span class="token operator">&amp;</span>size0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the size is %d\n"</span><span class="token punctuation">,</span> size0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>group_world <span class="token operator">==</span> MPI_GROUP_NULL<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the group is freed.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è¦å¯¹ä¸¤ä¸ªè¿›ç¨‹ç»„åšæœ€åŸºæœ¬çš„åˆ¤æ–­ï¼Œä¾‹å¦‚æˆå‘˜æ˜¯å¦ç›¸åŒï¼Œæ¬¡åºæ˜¯å¦ä¸€è‡´ç­‰ç­‰ã€‚</p><p>MPIåŒæ ·æä¾›äº†è¿™æ ·çš„å‡½æ•°æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-14"><a href="#å‡½æ•°è¯´æ˜-14" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><p>å¦‚æœåœ¨ä¸¤ä¸ªç»„ä¸­æˆå‘˜å’Œæ¬¡åºå®Œå…¨ç›¸ç­‰ï¼Œè¿”å›MPI_IDENTã€‚ä¾‹å¦‚åœ¨group1å’Œgroup2æ˜¯åŒä¸€å¥æŸ„æ—¶å°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚å¦‚æœç»„æˆå‘˜ç›¸åŒè€Œæ¬¡åºä¸åŒåˆ™è¿”å›MPI_SIMILARï¼Œå¦åˆ™è¿”å›MPI_UNEQUAL</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Group_compare</span><span class="token punctuation">(</span>MPI_Group group1<span class="token punctuation">,</span> MPI_Group group2<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>result<span class="token punctuation">)</span>MPI_Group group1ï¼š è¦æ¯”è¾ƒçš„ç»„<span class="token number">1</span>ï¼›MPI_Group group2ï¼š è¦æ¯”è¾ƒçš„ç»„<span class="token number">2</span>ï¼›<span class="token keyword">int</span> <span class="token operator">*</span>resultï¼šç»“æœï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>int MPI_Group_compare(MPI_Group group1, MPI_Group group2, int *result)</code> æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªè¿›ç¨‹ç»„æ˜¯å¦ç›¸ç­‰ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>group1</code>ï¼šæŒ‡å‘ç¬¬ä¸€ä¸ªè¦æ¯”è¾ƒçš„è¿›ç¨‹ç»„çš„æŒ‡é’ˆã€‚</li><li><code>group2</code>ï¼šæŒ‡å‘ç¬¬äºŒä¸ªè¦æ¯”è¾ƒçš„è¿›ç¨‹ç»„çš„æŒ‡é’ˆã€‚</li><li><code>result</code>ï¼šæŒ‡å‘ä¸€ä¸ªæ•´æ•°çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨æ¯”è¾ƒç»“æœã€‚å¦‚æœ <code>group1</code> å’Œ <code>group2</code> ç›¸ç­‰ï¼Œåˆ™ <code>*result</code> çš„å€¼ä¸º0ï¼›å¦‚æœ <code>group1</code> åŒ…å« <code>group2</code> çš„æ‰€æœ‰è¿›ç¨‹ï¼Œåˆ™ <code>*result</code> çš„å€¼ä¸ºæ­£æ•°ï¼›å¦‚æœ <code>group2</code> åŒ…å« <code>group1</code> çš„æ‰€æœ‰è¿›ç¨‹ï¼Œåˆ™ <code>*result</code> çš„å€¼ä¸ºè´Ÿæ•°ï¼›å¦‚æœ <code>group1</code> å’Œ <code>group2</code> æ²¡æœ‰å…±åŒçš„è¿›ç¨‹ï¼Œåˆ™ <code>*result</code> çš„å€¼ä¸ºæ­£æ•°ä¸”å¤§äºç­‰äº <code>group1</code> çš„å¤§å°ã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="å®éªŒè¯´æ˜-11"><a href="#å®éªŒè¯´æ˜-11" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ï¼Œé€šè¿‡è°ƒæ•´è¾“å‡ºä¸¤ä¸ªä¸åŒçš„ç»“æœã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>Now the groups are identical.<br>Now the groups are unequal.<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> new_group_world<span class="token punctuation">;</span><span class="token keyword">int</span> members<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> result<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span>members<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> members<span class="token punctuation">,</span> <span class="token operator">&amp;</span>new_group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_compare</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> group_world<span class="token punctuation">,</span> <span class="token operator">&amp;</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> MPI_IDENT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are identical.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> MPI_SIMILAR<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are similar.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are unequal.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_compare</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> new_group_world<span class="token punctuation">,</span> <span class="token operator">&amp;</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> MPI_IDENT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are identical.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> MPI_SIMILAR<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are similar.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the groups are unequal.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é€šä¿¡å­çš„ç®¡ç†"><a href="#é€šä¿¡å­çš„ç®¡ç†" class="headerlink" title="é€šä¿¡å­çš„ç®¡ç†"></a>é€šä¿¡å­çš„ç®¡ç†</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¾ˆå¤šä¸åŒçš„é€šä¿¡å­æ¥æ»¡è¶³éœ€æ±‚ï¼Œè¿™æ—¶å€™å°±éœ€è¦åˆ›å»ºæ–°çš„é€šä¿¡å­ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-15"><a href="#å‡½æ•°è¯´æ˜-15" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><p>ç”¨ç”±groupæ‰€å®šä¹‰çš„é€šä¿¡ç»„åŠä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„é€šä¿¡å­newcommã€‚å¯¹äºä¸åœ¨groupä¸­çš„è¿›ç¨‹ï¼Œå‡½æ•°è¿”å›MPI_COMM_NULLã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Comm_create</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">,</span> MPI_Group group<span class="token punctuation">,</span> MPI_Comm <span class="token operator">*</span>newcomm<span class="token punctuation">)</span>MPI_Comm comm ï¼š æ—§çš„é€šä¿¡å­ï¼›MPI_Group group ï¼š ä¸commç›¸å…³è”çš„ç»„æˆ–å…¶å­é›†ï¼›MPI_Comm <span class="token operator">*</span>newcomm ï¼š æ–°çš„é€šä¿¡å­ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>int MPI_Comm_create(MPI_Comm comm, MPI_Group group, MPI_Comm *newcomm)</code> æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„é€šä¿¡å™¨ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>comm</code>ï¼šæŒ‡å‘ç°æœ‰é€šä¿¡å™¨çš„æŒ‡é’ˆ</li><li><code>group</code>ï¼šæŒ‡å‘è¦åŒ…å«åœ¨æ–°é€šä¿¡å™¨ä¸­çš„è¿›ç¨‹ç»„çš„æŒ‡é’ˆ</li><li><code>newcomm</code>ï¼šæŒ‡å‘æ–°åˆ›å»ºçš„é€šä¿¡å™¨çš„æŒ‡é’ˆ</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç </li></ul><h4 id="å®éªŒè¯´æ˜-12"><a href="#å®éªŒè¯´æ˜-12" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>å¤åˆ¶ä¸€ä¸ªæ–°çš„é€šä¿¡å­ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€åˆ›å»ºä¸€ä¸ªæ–°çš„é€šä¿¡å­ã€‚ç”±äºç¤ºä¾‹æ˜¯ç”¨å¥‡æ•°ç¼–å·çš„è¿›ç¨‹æ¥åˆ›å»ºé€šä¿¡å­çš„ï¼Œæ‰€ä»¥åªåœ¨å¥‡æ•°è¿›ç¨‹ä¸­è¾“å‡ºç»“æœã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>The new commâ€™s size is 2.<br>The new commâ€™s size is 2.<br>â€¦</p><p>æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰æ·»åŠ åˆ›å»ºå‡½æ•°çš„ä»£ç ï¼Œå¤©æ²³å¯èƒ½ä¼šç”±äºè¶…æ—¶è¿”å›é•¿æ—¶é—´æ²¡æœ‰å“åº”çš„æç¤ºä¿¡æ¯ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> new_numprocs<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> odd_group<span class="token punctuation">;</span>MPI_Comm new_comm<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">int</span> members<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>members<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> members<span class="token punctuation">,</span> <span class="token operator">&amp;</span>odd_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Comm_create</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> odd_group<span class="token punctuation">,</span> <span class="token operator">&amp;</span>new_comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>new_comm<span class="token punctuation">,</span> <span class="token operator">&amp;</span>new_numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The new comm's size is %d.\n"</span><span class="token punctuation">,</span> new_numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h3><p>åœ¨ä¹‹å‰çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬åˆ›å»ºçš„åˆå§‹ç»„å†…é€šä¿¡å­MPI_COMM_WORLDä½œä¸ºé€šä¿¡å­çš„è¾“å…¥ã€‚</p><p>å…¶å®ï¼Œè¿˜æœ‰ä¸¤ä¸ªç³»ç»Ÿé»˜è®¤åˆ›å»ºçš„é€šä¿¡å­ï¼Œä¸€ä¸ªæ˜¯COMM_SELFï¼Œå¦ä¸€ä¸ªæ˜¯COMM_NULLã€‚<br>COMM_SELFä»…ä»…åŒ…å«äº†å½“å‰è¿›ç¨‹ï¼Œè€ŒCOMM_NULLåˆ™ä»€ä¹ˆè¿›ç¨‹éƒ½æ²¡æœ‰åŒ…å«ã€‚</p><p>åœ¨é€šä¿¡å­çš„åˆ›å»ºä¸­ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯MPIä¸­æœ‰ä¸€ä¸ªâ€é¸¡ç”Ÿè›‹, è›‹ç”Ÿé¸¡â€çš„ç‰¹ç‚¹ï¼Œå³æ‰€æœ‰MPIé€šä¿¡å­çš„åˆ›å»ºéƒ½æ˜¯ç”±åŸºç¡€é€šä¿¡å­ï¼Œå³MPI_COMM_WORLDï¼ˆæ˜¯åœ¨MPIçš„å¤–éƒ¨è¢«å®šä¹‰çš„ï¼‰ï¼Œåˆ›å»ºçš„ã€‚è€Œè¿™äº›è¢«åˆ›å»ºçš„é€šä¿¡å­åˆå¯ä»¥ä½œä¸ºæ–°çš„é€šä¿¡å­åˆ›å»ºçš„åŸºç¡€ã€‚</p><p>è¿™ä¸ªæ¨¡å‹æ˜¯ç»è¿‡è®¨è®ºåç¡®å®šçš„ï¼Œç›®çš„æ˜¯ä¸ºäº†æé«˜ç”¨MPIå†™ç¨‹åºçš„å®‰å…¨æ€§ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-16"><a href="#å‡½æ•°è¯´æ˜-16" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><p>å¤åˆ¶å·²å­˜åœ¨çš„é€šä¿¡å­commã€‚</p><pre class="line-numbers language-none"><code class="language-none">int MPI_Comm_dup(MPI_Comm comm,MPI_Comm *newcomm)MPI_Comm comm ï¼š æ—§çš„é€šä¿¡å­ï¼›MPI_Comm *newcomm ï¼š æ–°çš„é€šä¿¡å­ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>int MPI_Comm_dup(MPI_Comm comm, MPI</code>int MPI_Comm_dup(MPI_Comm comm, MPI_Comm *newcomm)&#96; æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºå¤åˆ¶ä¸€ä¸ªç°æœ‰çš„é€šä¿¡å™¨ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>comm</code>ï¼šæŒ‡å‘è¦å¤åˆ¶çš„ç°æœ‰é€šä¿¡å™¨çš„æŒ‡é’ˆã€‚</li><li><code>newcomm</code>ï¼šæŒ‡å‘æ–°åˆ›å»ºçš„é€šä¿¡å™¨çš„æŒ‡é’ˆã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="å®éªŒè¯´æ˜-13"><a href="#å®éªŒè¯´æ˜-13" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>å¤åˆ¶ä¸€ä¸ªæ–°çš„é€šä¿¡å­ï¼Œéœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œç»“æœæ˜¾ç¤ºMPI_IDENTè¡¨ç¤ºä¸Šä¸‹æ–‡(context)å’Œç»„(group)éƒ½ç›¸åŒï¼ŒMPI_CONGRUENTè¡¨ç¤ºä¸Šä¸‹æ–‡ä¸åŒ(different)ä½†ç»„å®Œå…¨ç›¸åŒ(identical)ï¼ŒMPI_SIMILARè¡¨ç¤ºä¸Šä¸‹æ–‡ä¸åŒï¼Œç»„çš„æˆå‘˜ç›¸åŒä½†æ¬¡åºä¸åŒ(similar)ï¼Œå¦åˆ™å°±æ˜¯MPI_UNEQUALã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>The comms are congruent.<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Comm new_comm<span class="token punctuation">;</span> <span class="token keyword">int</span> result<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// your code here</span><span class="token function">MPI_Comm_dup</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>new_comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">MPI_Comm_compare</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> new_comm<span class="token punctuation">,</span> <span class="token operator">&amp;</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> MPI_IDENT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The comms are identical.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> MPI_CONGRUENT <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The comms are congruent.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> MPI_SIMILAR <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The comms are similar.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> MPI_UNEQUAL <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The comms are unequal.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é‡Šæ”¾-1"><a href="#é‡Šæ”¾-1" class="headerlink" title="é‡Šæ”¾"></a>é‡Šæ”¾</h3><p>åŒæ ·ï¼Œé€šä¿¡å­ä¹Ÿå­˜åœ¨ææ„çš„æ“ä½œã€‚</p><h4 id="å‡½æ•°è¯´æ˜ï¼š-1"><a href="#å‡½æ•°è¯´æ˜ï¼š-1" class="headerlink" title="å‡½æ•°è¯´æ˜ï¼š"></a>å‡½æ•°è¯´æ˜ï¼š</h4><pre class="line-numbers language-none"><code class="language-none">int MPI_Comm_free(MPI_Comm *comm)MPI_Comm *comm ï¼š é€šä¿¡å­ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç”¨ç”±groupæ‰€å®šä¹‰çš„é€šä¿¡ç»„åŠä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„é€šä¿¡å­newcommã€‚å¯¹äºä¸åœ¨groupä¸­çš„è¿›ç¨‹ï¼Œå‡½æ•°è¿”å›MPI_COMM_NULLã€‚</p><p><code>int MPI_Comm_free(MPI_Comm *comm)</code> <code>int MPI_Comm_free(MPI_Comm *comm)</code> æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºé‡Šæ”¾ä¸€ä¸ªå·²ç»åˆ›å»ºçš„é€šä¿¡å™¨ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>comm</code>ï¼šæŒ‡å‘è¦é‡Šæ”¾çš„é€šä¿¡å™¨çš„æŒ‡é’ˆã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="å®éªŒè¯´æ˜-14"><a href="#å®éªŒè¯´æ˜-14" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>è¿™æ˜¯ä¸€ä¸ªæ ‡å¿—é€šä¿¡å¯¹è±¡æ’¤æ¶ˆçš„é›†åˆæ“ä½œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°æ“ä½œåªæ˜¯å°†å¥æŸ„ç½®ä¸ºMPI_COMM_NULLï¼Œä»»ä½•ä½¿ç”¨æ­¤é€šä¿¡å­çš„æŒ‚èµ·æ“ä½œéƒ½ä¼šæ­£å¸¸å®Œæˆï¼›ä»…å½“æ²¡æœ‰å¯¹æ­¤å¯¹è±¡çš„æ´»åŠ¨å¼•ç”¨æ—¶ï¼Œå®ƒæ‰ä¼šè¢«å®é™…æ’¤æ¶ˆã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>The comm is freed.<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Comm new_comm<span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_dup</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>new_comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Comm_free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>new_comm<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>new_comm <span class="token operator">==</span> MPI_COMM_NULL<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Now the comm is freed.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ’åˆ†"><a href="#åˆ’åˆ†" class="headerlink" title="åˆ’åˆ†"></a>åˆ’åˆ†</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›æ ¹æ®æ‹“æ‰‘æ¥åˆ›å»ºä¸åŒçš„åŸŸï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ˜¾ç„¶ä¸€ä¸ªä¸ªåˆ›å»ºæ˜¯å¾ˆä¸æ–¹ä¾¿çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°æ¥è¿›è¡Œåˆ’åˆ†ã€‚</p><h4 id="å‡½æ•°è¯´æ˜-17"><a href="#å‡½æ•°è¯´æ˜-17" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h4><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Comm_split</span><span class="token punctuation">(</span>MPI_Comm comm<span class="token punctuation">,</span> <span class="token keyword">int</span> color<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">,</span> MPI_Comm <span class="token operator">*</span>newcomm<span class="token punctuation">)</span>MPI_Comm comm ï¼š æ—§çš„é€šä¿¡å­ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ’åˆ†çš„åŸŸï¼›<span class="token keyword">int</span> color ï¼š å­åŸŸçš„æ ‡è¯†ï¼Œä¹Ÿå°±æ˜¯è¢«åˆ’åˆ†å‡ºæ¥çš„æ¯ä¸ªå­åŸŸéƒ½å¯¹åº”ä¸€ä¸ªcolorï¼Œæ¯ä¸€ä¸ªå­åŸŸåŒ…å«å…·æœ‰åŒæ ·colorçš„æ‰€æœ‰è¿›ç¨‹ï¼›<span class="token keyword">int</span> key ï¼š åœ¨æ¯ä¸€ä¸ªå­åŸŸå†…<span class="token punctuation">,</span> è¿›ç¨‹æŒ‰ç…§keyæ‰€å®šä¹‰çš„å€¼çš„æ¬¡åºè¿›è¡Œæ’åˆ—ã€‚MPI_Comm <span class="token operator">*</span>newcomm ï¼š æ–°çš„é€šä¿¡å­ï¼›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡½æ•°å°†ä¸commç›¸å…³çš„åŸŸåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ç›¸è¿çš„å­åŸŸï¼Œæ ¹æ®colorå’Œkeyå‚æ•°å†³å®šæ¯ä¸ªè¿›ç¨‹æ‰€å¤„çš„ä½ç½®ã€‚</p><p><code>int MPI_Comm_split(MPI_Comm comm, int color, int key, MPI_Comm *newcomm)</code> ï¼Œç”¨äºå°†ä¸€ä¸ªé€šä¿¡å™¨åˆ†å‰²æˆä¸¤ä¸ªå­é€šä¿¡å™¨ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>comm</code>ï¼šæŒ‡å‘è¦åˆ†å‰²çš„é€šä¿¡å™¨çš„æŒ‡é’ˆã€‚</li><li><code>color</code>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå½“å‰è¿›ç¨‹æ‰€å±çš„å­é€šä¿¡å™¨ã€‚å¦‚æœå½“å‰è¿›ç¨‹å±äºç¬¬ä¸€ä¸ªå­é€šä¿¡å™¨ï¼Œåˆ™<code>color</code>ä¸º0ï¼›å¦‚æœå½“å‰è¿›ç¨‹å±äºç¬¬äºŒä¸ªå­é€šä¿¡å™¨ï¼Œåˆ™<code>color</code>ä¸º1ã€‚</li><li><code>key</code>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œç”¨äºç¡®å®šå¦‚ä½•å°†è¿›ç¨‹åˆ†é…åˆ°å­é€šä¿¡å™¨ä¸­ã€‚é€šå¸¸ï¼Œè¿™ä¸ªå€¼åº”è¯¥æ˜¯ä¸€ä¸ªå…¨å±€å¸¸é‡ï¼Œä»¥ç¡®ä¿æ‰€æœ‰è¿›ç¨‹éƒ½ä½¿ç”¨ç›¸åŒçš„é”®å€¼è¿›è¡Œåˆ†å‰²ã€‚</li><li><code>newcomm</code>ï¼šæŒ‡å‘æ–°åˆ›å»ºçš„å­é€šä¿¡å™¨çš„æŒ‡é’ˆã€‚</li></ul><p>è¿”å›å€¼ï¼š</p><ul><li>å‡½æ•°æ‰§è¡ŒæˆåŠŸæ—¶è¿”å›0ã€‚</li><li>å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å›éé›¶é”™è¯¯ä»£ç ã€‚</li></ul><h4 id="å®éªŒè¯´æ˜-15"><a href="#å®éªŒè¯´æ˜-15" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h4><p>åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ ¹æ®è¡Œä¸åˆ—è¿›è¡Œæ±‚å’Œï¼Œåœ¨æ¯ä¸ªè¿›ç¨‹ä¸­è¾“å‡ºåæ ‡å’Œæ±‚å‡ºçš„å’Œã€‚</p><p>è¾“å‡ºç»“æœæ ¼å¼åº”å¦‚ä¸‹ï¼š<br>Iâ€™m process n, my coordinates are (x, y), row sum is p, column sum is q.<br>â€¦</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Comm row_comm<span class="token punctuation">,</span> column_comm<span class="token punctuation">;</span><span class="token keyword">int</span> myrow<span class="token punctuation">,</span> mycolumn<span class="token punctuation">;</span><span class="token keyword">int</span> color <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>myrow <span class="token operator">=</span> myid <span class="token operator">/</span> color <span class="token punctuation">;</span>mycolumn <span class="token operator">=</span> myid <span class="token operator">%</span> color <span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Comm_split</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> myrow<span class="token punctuation">,</span> mycolumn<span class="token punctuation">,</span> <span class="token operator">&amp;</span>row_comm<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">MPI_Comm_split</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> mycolumn<span class="token punctuation">,</span> myrow<span class="token punctuation">,</span> <span class="token operator">&amp;</span>column_comm<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// end of your code</span><span class="token keyword">int</span> rowsum<span class="token punctuation">,</span> columnsum<span class="token punctuation">;</span>rowsum <span class="token operator">=</span> myid<span class="token punctuation">;</span>columnsum <span class="token operator">=</span> myid<span class="token punctuation">;</span><span class="token function">MPI_Allreduce</span><span class="token punctuation">(</span>MPI_IN_PLACE<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rowsum<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_SUM<span class="token punctuation">,</span> row_comm<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">MPI_Allreduce</span><span class="token punctuation">(</span>MPI_IN_PLACE<span class="token punctuation">,</span> <span class="token operator">&amp;</span>columnsum<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_SUM<span class="token punctuation">,</span> column_comm<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"I'm process %d, my coordinates are (%d, %d), row sum is %d, column sum is %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> myrow<span class="token punctuation">,</span> mycolumn<span class="token punctuation">,</span>  rowsum<span class="token punctuation">,</span> columnsum<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è·å–å¤„ç†å™¨å"><a href="#è·å–å¤„ç†å™¨å" class="headerlink" title="è·å–å¤„ç†å™¨å"></a>è·å–å¤„ç†å™¨å</h2><p>æœ‰æ—¶å€™åœ¨å®é™…å¤„ç†ä¸­æˆ‘ä»¬å¯èƒ½éœ€è¦å°†è¿›ç¨‹è¿ç§»è‡³ä¸åŒçš„å¤„ç†å™¨ï¼Œè€ŒMPIæä¾›äº†è·å–å¤„ç†å™¨åçš„å‡½æ•°ä»¥ç®€å•åœ°å…è®¸è¿™ç§è¡Œä¸ºã€‚</p><p>æ³¨æ„åœ¨MPIä¸­ä¸éœ€è¦å®šä¹‰è¿™ç§è¿ç§»ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-18"><a href="#å‡½æ•°è¯´æ˜-18" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-none"><code class="language-none">int MPI_Get_processor_name ( char *name, int *resultlen)char *name : å®é™…èŠ‚ç‚¹çš„å”¯ä¸€è¯´æ˜å­—;int *resultlenï¼šåœ¨nameä¸­è¿”å›ç»“æœçš„é•¿åº¦;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿”å›è°ƒç”¨æ—¶è°ƒç”¨æ‰€åœ¨çš„å¤„ç†å™¨åã€‚</p><blockquote><p><code>MPI_Get_processor_name</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–å½“å‰è¿›ç¨‹åç§°çš„ MPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆ <code>name</code>ï¼Œç”¨äºå­˜å‚¨è¿›ç¨‹åç§°ï¼›ä¸€ä¸ªæ•´æ•°æŒ‡é’ˆ <code>resultlen</code>ï¼Œç”¨äºå­˜å‚¨å®é™…å­˜å‚¨åœ¨ <code>name</code> ä¸­çš„è¿›ç¨‹åç§°é•¿åº¦ã€‚</p><p>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Get_processor_name</span> <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>resultlen <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">char</span> processor_name<span class="token punctuation">[</span>MPI_MAX_PROCESSOR_NAME<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> name_length<span class="token punctuation">;</span> <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">MPI_Get_processor_name</span><span class="token punctuation">(</span>processor_name<span class="token punctuation">,</span> <span class="token operator">&amp;</span>name_length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span>"Processor name<span class="token operator">:</span> <span class="token operator">%</span>s"<span class="token punctuation">,</span> processor_name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span>"Name length<span class="token operator">:</span> <span class="token operator">%</span>d"<span class="token punctuation">,</span> name_length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote><h3 id="å®éªŒè¯´æ˜-16"><a href="#å®éªŒè¯´æ˜-16" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>åœ¨æ¯ä¸ªè¿›ç¨‹ä¸­ï¼Œä½¿ç”¨å‡½æ•°MPI_Get_processor_nameæ¥è·å–å½“å‰è¿›ç¨‹çš„å¤„ç†å™¨åå¹¶æ‰“å°å‡ºæ¥ã€‚</p><p>Hello, world. I am PROCESS_NAME.</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token punctuation">;</span><span class="token keyword">char</span> name<span class="token punctuation">[</span>MPI_MAX_PROCESSOR_NAME<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//your code here</span>    <span class="token function">MPI_Get_processor_name</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token operator">&amp;</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Hello, world. I am %s.\n"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åœ°å€åç§»é‡"><a href="#åœ°å€åç§»é‡" class="headerlink" title="åœ°å€åç§»é‡"></a>åœ°å€åç§»é‡</h2><p>åœ¨é€šä¿¡æ“ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦å¯¹åœ°å€è¿›è¡Œä¼ é€’æˆ–æ“ä½œï¼Œä¾‹å¦‚ä¼ é€&#x2F;æ¥æ”¶ç¼“å†²åŒºã€‚</p><p>è€Œä¸€ä¸ªä½ç½®åœ¨å†…å­˜ä¸­çš„åœ°å€å¯ä»¥é€šè¿‡MPI_ADDRESSå‡½æ•°è·å¾—ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-19"><a href="#å‡½æ•°è¯´æ˜-19" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> location<span class="token punctuation">,</span> MPI_Aint <span class="token operator">*</span>address<span class="token punctuation">)</span><span class="token keyword">void</span><span class="token operator">*</span> location ï¼š è°ƒç”¨è€…çš„å†…å­˜ä½ç½®<span class="token punctuation">;</span>MPI_Aint <span class="token operator">*</span>addressï¼šä½ç½®çš„å¯¹åº”åœ°å€<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>MPI_Address</code> æ˜¯ä¸€ä¸ªç”¨äºè·å–å†…å­˜åœ°å€çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæŒ‡å‘å†…å­˜ä½ç½®çš„æŒ‡é’ˆ <code>location</code> å’Œä¸€ä¸ªæŒ‡å‘ <code>MPI_Aint</code> ç±»å‹çš„æŒ‡é’ˆ <code>address</code>ã€‚<code>MPI_Aint</code> æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºä»»æ„å¤§å°çš„åœ°å€ã€‚</p><p>å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> location<span class="token punctuation">,</span> MPI_Aint <span class="token operator">*</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">int</span> rank<span class="token punctuation">;</span> <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>rank<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">int</span> local_variable <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> MPI_Aint local_address<span class="token punctuation">;</span> <span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>local_variable<span class="token punctuation">,</span> <span class="token operator">&amp;</span>local_address<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Rank %d: Local variable address is %p"</span><span class="token punctuation">,</span> rank<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span>local_address<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆå§‹åŒ– MPI ç¯å¢ƒï¼Œç„¶åè·å–å½“å‰è¿›ç¨‹çš„ç­‰çº§ï¼ˆ<code>rank</code>ï¼‰ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ <code>local_variable</code>ï¼Œå¹¶ä½¿ç”¨ <code>MPI_Address</code> å‡½æ•°è·å–å…¶å†…å­˜åœ°å€ã€‚æœ€åï¼Œæˆ‘ä»¬å°†ç»“æœæ‰“å°å‡ºæ¥ã€‚</p></blockquote><p>###å®éªŒè¯´æ˜</p><p>ç»™å‡ºä¸‰ä¸ªä¸´æ—¶å˜é‡a, b, c, åˆ†åˆ«æ±‚å‡ºaä¸bã€aä¸cä¹‹é—´çš„åœ°å€åç§»é‡ã€‚</p><p>è¾“å‡ºç»“æœ:</p><p>ç”±äºè¿™é‡Œé‡‡ç”¨çš„å˜é‡ç±»å‹ä¸ºintï¼Œæ‰€ä»¥å¦‚æœå˜é‡åœ°å€æ˜¯è¿ç»­çš„è¯åº”è¯¥æ˜¯ï¼š<br>The distance between a and b is 4<br>The distance between a and c is 8</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">;</span>MPI_Aint address1<span class="token punctuation">,</span> address2<span class="token punctuation">,</span> address3<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> dist1<span class="token punctuation">,</span> dist2<span class="token punctuation">;</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>address1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>address2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Address</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token operator">&amp;</span>address3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span>dist1 <span class="token operator">=</span> address2 <span class="token operator">-</span> address1 <span class="token punctuation">;</span>dist2 <span class="token operator">=</span> address3 <span class="token operator">-</span> address1 <span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The distance between a and b is %d\n"</span><span class="token punctuation">,</span> dist1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The distance between a and c is %d\n"</span><span class="token punctuation">,</span> dist2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•°æ®çš„æ‰“åŒ…-pack"><a href="#æ•°æ®çš„æ‰“åŒ…-pack" class="headerlink" title="æ•°æ®çš„æ‰“åŒ…(pack)"></a>æ•°æ®çš„æ‰“åŒ…(pack)</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å°†ä¸è¿ç»­çš„æ•°æ®æˆ–æ˜¯ä¸ç›¸åŒçš„æ•°æ®ç±»å‹çš„æ•°æ®ä¸€èµ·å‘é€åˆ°å…¶ä»–è¿›ç¨‹ï¼Œè€Œä¸æ˜¯æ•ˆç‡å¾ˆä½åœ°é€ä¸ªå‘é€ã€‚</p><p>ä¸€ä¸ªè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆæ˜¯å°†æ•°æ®å°è£…æˆåŒ…ï¼Œå†å°†æ•°æ®åŒ…æ”¾åˆ°ä¸€ä¸ªè¿ç»­çš„ç¼“å†²åŒºï¼Œå‘é€åˆ°æ¥æ”¶ç¼“å†²åŒºåå†æå–å‡ºæ¥å°½å¿ƒè§£åŒ…ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰“åŒ…&#x2F;è§£åŒ…å‡½æ•°æœ‰æ—¶å€™è¿˜ä¼šç”¨æ¥ä»£æ›¿ç³»ç»Ÿç¼“å­˜ç­–ç•¥ã€‚æ­¤å¤–ï¼Œå¯¹äºåœ¨MPIé¡¶å±‚è¿›ä¸€æ­¥å¼€å‘é™„åŠ çš„é€šä¿¡åº“ä¼šèµ·åˆ°è¾…åŠ©çš„ä½œç”¨ã€‚</p><h3 id="å‡½æ•°è¯´æ˜ï¼š-2"><a href="#å‡½æ•°è¯´æ˜ï¼š-2" class="headerlink" title="å‡½æ•°è¯´æ˜ï¼š"></a>å‡½æ•°è¯´æ˜ï¼š</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Pack</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> inbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> incount<span class="token punctuation">,</span> MPI_datatype datatype<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>outbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> outcount<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>position<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span> <span class="token keyword">void</span><span class="token operator">*</span> inbuf ï¼š è¾“å…¥ç¼“å†²åŒºåœ°å€<span class="token punctuation">;</span><span class="token keyword">int</span> incount ï¼šè¾“å…¥æ•°æ®é¡¹æ•°ç›®<span class="token punctuation">;</span>MPI_datatype datatype ï¼šæ•°æ®é¡¹çš„ç±»å‹<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span>outbuf ï¼šè¾“å‡ºç¼“å†²åŒºåœ°å€<span class="token punctuation">;</span><span class="token keyword">int</span> outcount ï¼šè¾“å‡ºç¼“å†²åŒºå¤§å°<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>position ï¼šç¼“å†²åŒºå½“å‰ä½ç½®<span class="token punctuation">;</span>MPI_Comm comm ï¼šé€šä¿¡å­<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ä¸€ä¸ªMPIï¼ˆMessage Passing Interfaceï¼Œæ¶ˆæ¯ä¼ é€’æ¥å£ï¼‰å‡½æ•°ï¼Œç”¨äºå°†æ•°æ®æ‰“åŒ…åˆ°è¾“å‡ºç¼“å†²åŒºä¸­ã€‚ä¸‹é¢æ˜¯å¯¹ä»£ç çš„è§£æï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Pack</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> inbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> incount<span class="token punctuation">,</span> MPI_datatype datatype<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>outbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> outcount<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>position<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>inbuf</code>: è¾“å…¥ç¼“å†²åŒºçš„æŒ‡é’ˆï¼ŒæŒ‡å‘è¦æ‰“åŒ…çš„æ•°æ®ã€‚</li><li><code>incount</code>: è¾“å…¥ç¼“å†²åŒºä¸­è¦æ‰“åŒ…çš„å…ƒç´ æ•°é‡ã€‚</li><li><code>datatype</code>: æ•°æ®ç±»å‹çš„å¯¹è±¡ï¼ŒæŒ‡å®šäº†è¾“å…¥ç¼“å†²åŒºä¸­å…ƒç´ çš„ç±»å‹ã€‚</li><li><code>outbuf</code>: è¾“å‡ºç¼“å†²åŒºçš„æŒ‡é’ˆï¼ŒæŒ‡å‘æ‰“åŒ…åçš„æ•°æ®å­˜å‚¨ä½ç½®ã€‚</li><li><code>outcount</code>: è¾“å‡ºç¼“å†²åŒºä¸­å¯ç”¨çš„ç©ºé—´å¤§å°ã€‚</li><li><code>position</code>: ä¸€ä¸ªæ•´æ•°æŒ‡é’ˆï¼Œç”¨äºè¿”å›å½“å‰åœ¨è¾“å‡ºç¼“å†²åŒºä¸­çš„ä½ç½®ã€‚</li><li><code>comm</code>: é€šä¿¡å™¨å¯¹è±¡ï¼Œç”¨äºæŒ‡å®šè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</li></ul><p>è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯å°†è¾“å…¥ç¼“å†²åŒºä¸­çš„æ•°æ®æŒ‰ç…§æŒ‡å®šçš„æ•°æ®ç±»å‹è¿›è¡Œæ‰“åŒ…ï¼Œå¹¶å°†æ‰“åŒ…åçš„æ•°æ®å­˜å‚¨åˆ°è¾“å‡ºç¼“å†²åŒºä¸­ã€‚æ‰“åŒ…åçš„æ•°æ®å¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´ä¼ è¾“æˆ–å­˜å‚¨ã€‚</p><p>è¯·æ³¨æ„ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå…·ä½“çš„å®ç°ç»†èŠ‚å’Œç”¨æ³•å¯èƒ½å› ä½¿ç”¨çš„MPIåº“è€Œæœ‰æ‰€ä¸åŒã€‚</p><h3 id="å®éªŒè¯´æ˜-17"><a href="#å®éªŒè¯´æ˜-17" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>åœ¨æºè¿›ç¨‹ä¸­æ‰“åŒ…å‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¿›ç¨‹1ï¼Œè¿›ç¨‹1è§£åŒ…å¹¶æ‰“å°å‡ºæ•°æ®ã€‚</p><p>è¾“å‡ºç»“æœ</p><p>The number is 1 and 2</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> source<span class="token punctuation">;</span>MPI_Status status<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> position<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> buf<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    j <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                position <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>            <span class="token comment">// your code here</span>    <span class="token function">MPI_Pack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// end of your code</span>        <span class="token function">MPI_Send</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> position<span class="token punctuation">,</span> MPI_PACKED<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">MPI_Recv</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>position <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span><span class="token function">MPI_Unpack</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Unpack</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> <span class="token operator">&amp;</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The number is %d and %d"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•°æ®çš„è§£åŒ…-unpack"><a href="#æ•°æ®çš„è§£åŒ…-unpack" class="headerlink" title="æ•°æ®çš„è§£åŒ…(unpack)"></a>æ•°æ®çš„è§£åŒ…(unpack)</h2><p>è§£åŒ…æ˜¯å¯¹åº”äºæ‰“åŒ…çš„MPIæ“ä½œã€‚</p><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼šMPI_RECVå’ŒMPI_UNPACKçš„åŒºåˆ«: åœ¨MPI_RECVä¸­, countå‚æ•°æŒ‡æ˜çš„æ˜¯å¯ä»¥æ¥æ”¶çš„æœ€å¤§é¡¹æ•°. å®é™…æ¥æ”¶çš„é¡¹æ•°æ˜¯ç”±æ¥æ”¶çš„æ¶ˆæ¯çš„é•¿åº¦æ¥å†³å®šçš„. åœ¨MPI_UNPACKä¸­, countå‚æ•°æŒ‡æ˜å®é™…æ‰“åŒ…çš„é¡¹æ•°; ç›¸åº”æ¶ˆæ¯çš„â€sizeâ€æ˜¯positionçš„å¢åŠ å€¼. è¿™ç§æ”¹åŠ¨çš„åŸå› æ˜¯â€è¾“å…¥æ¶ˆæ¯çš„å¤§å°â€ ç›´åˆ°ç”¨æˆ·å†³å®šå¦‚ä½•è§£åŒ…ä¹‹å‰æ˜¯ä¸èƒ½é¢„å…ˆç¡®å®šçš„;ä»è§£åŒ…çš„é¡¹æ•°æ¥ç¡®å®šâ€æ¶ˆæ¯å¤§å°â€ä¹Ÿæ˜¯å¾ˆå›°éš¾çš„ã€‚</p><h3 id="å‡½æ•°è¯´æ˜-20"><a href="#å‡½æ•°è¯´æ˜-20" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">MPI_Unpack</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> inbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> insize<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>position<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>outbuf<span class="token punctuation">,</span> <span class="token keyword">int</span> outcount<span class="token punctuation">,</span> MPI_Datatype datatype<span class="token punctuation">,</span> MPI_Comm comm<span class="token punctuation">)</span> <span class="token keyword">void</span><span class="token operator">*</span> inbuf ï¼š è¾“å…¥ç¼“å†²åŒºåœ°å€<span class="token punctuation">;</span><span class="token keyword">int</span> insize ï¼šè¾“å…¥æ•°æ®é¡¹æ•°ç›®<span class="token punctuation">;</span>MPI_datatype datatype ï¼šæ•°æ®é¡¹çš„ç±»å‹<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span>outbuf ï¼šè¾“å‡ºç¼“å†²åŒºåœ°å€<span class="token punctuation">;</span><span class="token keyword">int</span> outcount ï¼šè¾“å‡ºç¼“å†²åŒºå¤§å°<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>position ï¼šç¼“å†²åŒºå½“å‰ä½ç½®<span class="token punctuation">;</span>MPI_Comm comm ï¼šé€šä¿¡å­<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>MPI_Unpack</code>å‡½æ•°ç”¨äºå°†æ‰“åŒ…çš„æ•°æ®ä»è¾“å…¥ç¼“å†²åŒºè§£åŒ…åˆ°è¾“å‡ºç¼“å†²åŒºã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>inbuf</code>ï¼šæŒ‡å‘è¾“å…¥ç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œå…¶ä¸­åŒ…å«è¦è§£åŒ…çš„æ•°æ®ã€‚</li><li><code>insize</code>ï¼šè¾“å…¥ç¼“å†²åŒºçš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</li><li><code>position</code>ï¼šä¸€ä¸ªæ•´æ•°æŒ‡é’ˆï¼Œç”¨äºè¿”å›å½“å‰åœ¨è¾“å…¥ç¼“å†²åŒºä¸­çš„ä½ç½®ã€‚</li><li><code>outbuf</code>ï¼šæŒ‡å‘è¾“å‡ºç¼“å†²åŒºçš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨è§£åŒ…åçš„æ•°æ®ã€‚</li><li><code>outcount</code>ï¼šè¾“å‡ºç¼“å†²åŒºçš„å¤§å°ï¼ˆä»¥å…ƒç´ ä¸ºå•ä½ï¼‰ã€‚</li><li><code>datatype</code>ï¼šæ•°æ®ç±»å‹çš„å¯¹è±¡ï¼ŒæŒ‡å®šäº†è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºä¸­å…ƒç´ çš„ç±»å‹ã€‚</li><li><code>comm</code>ï¼šé€šä¿¡å™¨å¯¹è±¡ï¼Œç”¨äºæŒ‡å®šè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</li></ul><p>è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯å°†æ‰“åŒ…çš„æ•°æ®ä»è¾“å…¥ç¼“å†²åŒºè§£åŒ…åˆ°è¾“å‡ºç¼“å†²åŒºï¼Œä»¥ä¾¿åœ¨ä¸åŒçš„è¿›ç¨‹ä¹‹é—´ä¼ è¾“æˆ–å­˜å‚¨ã€‚è§£åŒ…åçš„æ•°æ®å¯ä»¥æŒ‰ç…§æŒ‡å®šçš„æ•°æ®ç±»å‹è¿›è¡Œè§£æå’Œä½¿ç”¨ã€‚</p><h3 id="å®éªŒè¯´æ˜-18"><a href="#å®éªŒè¯´æ˜-18" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>åœ¨æºè¿›ç¨‹ä¸­æ‰“åŒ…å‘é€ä¸€ä¸ªæ•°æ®åŒ…åˆ°ç¼–å·ä¸º1çš„è¿›ç¨‹ï¼Œç¼–å·ä¸º1çš„è¿›ç¨‹è§£åŒ…å¹¶æ‰“å°å‡ºæ•°æ®ã€‚</p><p>è¾“å‡ºç»“æœ</p><p>The number is 1 and 2</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> source<span class="token punctuation">;</span>MPI_Status status<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> position<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> buf<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span>        i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    j <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                position <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>            <span class="token function">MPI_Pack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">MPI_Pack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">MPI_Send</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> position<span class="token punctuation">,</span> MPI_PACKED<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>myid <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token function">MPI_Recv</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>position <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>i <span class="token operator">=</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Unpack</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Unpack</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>position<span class="token punctuation">,</span> <span class="token operator">&amp;</span>j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MPI_INT<span class="token punctuation">,</span> MPI_COMM_WORLD<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The number is %d and %d"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»„çš„ç®¡ç†-é›†åˆç±»æ“ä½œ"><a href="#ç»„çš„ç®¡ç†-é›†åˆç±»æ“ä½œ" class="headerlink" title="ç»„çš„ç®¡ç†-é›†åˆç±»æ“ä½œ"></a>ç»„çš„ç®¡ç†-é›†åˆç±»æ“ä½œ</h2><p>å¯¹äºä¸¤ä¸ªé›†åˆï¼Œæˆ‘ä»¬ç»å¸¸å¯¹å…¶è¿›è¡Œå„ç§å„æ ·çš„é›†åˆæ“ä½œï¼Œä¾‹å¦‚äº¤&#x2F;å¹¶ã€‚</p><p>MPIåŒæ ·æä¾›äº†å¯¹ç»„çš„é›†åˆç±»æ“ä½œã€‚</p><h3 id="å‡½æ•°è¯´æ˜-21"><a href="#å‡½æ•°è¯´æ˜-21" class="headerlink" title="å‡½æ•°è¯´æ˜"></a>å‡½æ•°è¯´æ˜</h3><pre class="line-numbers language-none"><code class="language-none">int MPI_Group_union(MPI_Group group1, MPI_Group group2, MPI_Group *newgroup)int MPI_Group_intersection(MPI_Group group1,MPI_Group group2,MPI_Group *newgroup) int MPI_Group_difference(MPI_Group group1,MPI_Group group2,MPI_Group *newgroup)MPI_Group group1 ï¼š è¦æ“ä½œçš„ç»„1ï¼›MPI_Group group2 ï¼š è¦æ“ä½œçš„ç»„2ï¼›MPI_Group *newgroupï¼šæ–°çš„ç»„;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><code>MPI_Group_union</code>å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªè¿›ç¨‹ç»„çš„å¹¶é›†ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><code>group1</code>ï¼šç¬¬ä¸€ä¸ªè¿›ç¨‹ç»„ã€‚</li><li><code>group2</code>ï¼šç¬¬äºŒä¸ªè¿›ç¨‹ç»„ã€‚</li><li><code>newgroup</code>ï¼šæŒ‡å‘æ–°è¿›ç¨‹ç»„çš„æŒ‡é’ˆï¼Œè¯¥è¿›ç¨‹ç»„å°†åŒ…å«<code>group1</code>å’Œ<code>group2</code>çš„å¹¶é›†ã€‚</li></ul><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ“ä½œçš„ç»“æœã€‚å¦‚æœæˆåŠŸï¼Œè¿”å›å€¼ä¸º<code>MPI_SUCCESS</code>ï¼›å¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªéé›¶çš„é”™è¯¯ä»£ç ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ç‰‡æ®µï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨<code>MPI_Group_union</code>å‡½æ•°ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆ›å»ºä¸¤ä¸ªè¿›ç¨‹ç»„</span>    MPI_Group group1<span class="token punctuation">,</span> group2<span class="token punctuation">;</span>    <span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è®¡ç®—è¿›ç¨‹ç»„çš„å¹¶é›†</span>    MPI_Group newgroup<span class="token punctuation">;</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">MPI_Group_union</span><span class="token punctuation">(</span>group1<span class="token punctuation">,</span> group2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newgroup<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> MPI_SUCCESS<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Error: MPI_Group_union failed.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// æ‰“å°ç»“æœ</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Process groups union successful.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// é‡Šæ”¾èµ„æº</span>    <span class="token function">MPI_Group_free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>group1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Group_free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>group2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Group_free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newgroup<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œä¸Šè¿°ä»£ç ä»…ä¸ºç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œé€‚å½“çš„ä¿®æ”¹å’Œé”™è¯¯å¤„ç†ã€‚</p></blockquote><h3 id="å®éªŒè¯´æ˜-19"><a href="#å®éªŒè¯´æ˜-19" class="headerlink" title="å®éªŒè¯´æ˜"></a>å®éªŒè¯´æ˜</h3><p>å°†ç»„æŒ‰ç…§ç¼–å·çš„å¥‡å¶åˆ†ä¸ºä¸¤ä¸ªæ–°çš„ç»„ï¼Œå†ç”¨å¹¶æ“ä½œå°†å®ƒä»¬åˆèµ·æ¥ï¼Œè¾“å‡ºå„ä¸ªè¿›ç¨‹åœ¨æ–°çš„ç»„çš„ç¼–å·ã€‚</p><p>è¾“å‡ºç»“æœ</p><p>In process 0: union rank is 2<br>In process 1: union rank is 0<br>In process 2: union rank is 3<br>In process 3: union rank is 1</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;mpi.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> myid<span class="token punctuation">,</span> numprocs<span class="token punctuation">,</span> union_rank<span class="token punctuation">;</span>MPI_Group group_world<span class="token punctuation">,</span> odd_group<span class="token punctuation">,</span> even_group<span class="token punctuation">,</span> union_group<span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">int</span> members<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">MPI_Init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>argc<span class="token punctuation">,</span> <span class="token operator">&amp;</span>argv<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_rank</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">MPI_Comm_size</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>numprocs<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Comm_group</span><span class="token punctuation">(</span>MPI_COMM_WORLD<span class="token punctuation">,</span> <span class="token operator">&amp;</span>group_world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>members<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">MPI_Group_incl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> members<span class="token punctuation">,</span> <span class="token operator">&amp;</span>odd_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Group_excl</span><span class="token punctuation">(</span>group_world<span class="token punctuation">,</span> numprocs<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> members<span class="token punctuation">,</span> <span class="token operator">&amp;</span>even_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// your code here</span><span class="token function">MPI_Group_union</span><span class="token punctuation">(</span>odd_group<span class="token punctuation">,</span> even_group<span class="token punctuation">,</span> <span class="token operator">&amp;</span>union_group<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// end of your code</span><span class="token function">MPI_Group_rank</span><span class="token punctuation">(</span>union_group<span class="token punctuation">,</span> <span class="token operator">&amp;</span>union_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"In process %d: union rank is %d\n"</span><span class="token punctuation">,</span> myid<span class="token punctuation">,</span> union_rank<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">MPI_Finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åˆ†å¸ƒå¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†å¸ƒå¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>live2Dçœ‹æ¿å¨˜</title>
      <link href="/posts/f571.html"/>
      <url>/posts/f571.html</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºç¡€è®¾ç½®"><a href="#åŸºç¡€è®¾ç½®" class="headerlink" title="åŸºç¡€è®¾ç½®"></a>åŸºç¡€è®¾ç½®</h1><h2 id="1-æ¨¡å‹æ’ä»¶"><a href="#1-æ¨¡å‹æ’ä»¶" class="headerlink" title="1.æ¨¡å‹æ’ä»¶"></a>1.æ¨¡å‹æ’ä»¶</h2><p>åœ¨hexoæ ¹ç›®å½•è¿›å…¥git bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…æ¨¡å‹æ’ä»¶</p><pre class="line-numbers language-Text" data-language="Text"><code class="language-Text"># npm install --save hexo-helper-live2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¸è½½æ¨¡å‹</p><pre class="line-numbers language-Text" data-language="Text"><code class="language-Text"># npm uninstall --save hexo-helper-live2d <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2-æŒ‘é€‰æ¨¡å‹"><a href="#2-æŒ‘é€‰æ¨¡å‹" class="headerlink" title="2.æŒ‘é€‰æ¨¡å‹"></a>2.æŒ‘é€‰æ¨¡å‹</h2><p><a href="https://github.com/xiazeyu/live2d-widget-models">live2dæ¨¡å‹ä»“åº“ç›´è¾¾</a></p><h3 id="éƒ¨åˆ†æ¨¡å‹å±•ç¤º"><a href="#éƒ¨åˆ†æ¨¡å‹å±•ç¤º" class="headerlink" title="éƒ¨åˆ†æ¨¡å‹å±•ç¤º"></a>éƒ¨åˆ†æ¨¡å‹å±•ç¤º</h3><table>    <tr>        <td><center><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272109891.png"></center>        </td>        <td><center><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272122120.png"></center>        </td>    </tr></table>â†“ å„ä¸ªæ¨¡å‹åº“ä½¿ç”¨ npm install {packagename}`å®‰è£…æ¨¡å‹<ul><li><code>live2d-widget-model-chitose</code></li><li><code>live2d-widget-model-epsilon2_1</code></li><li><code>live2d-widget-model-gf</code></li><li><code>live2d-widget-model-haru/01</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haru/02</code> (use <code>npm install --save live2d-widget-model-haru</code>)</li><li><code>live2d-widget-model-haruto</code></li><li><code>live2d-widget-model-hibiki</code></li><li><code>live2d-widget-model-hijiki</code></li><li><code>live2d-widget-model-izumi</code></li><li><code>live2d-widget-model-koharu</code></li><li><code>live2d-widget-model-miku</code></li><li><code>live2d-widget-model-ni-j</code></li><li><code>live2d-widget-model-nico</code></li><li><code>live2d-widget-model-nietzsche</code></li><li><code>live2d-widget-model-nipsilon</code></li><li><code>live2d-widget-model-nito</code></li><li><code>live2d-widget-model-shizuku</code></li><li><code>live2d-widget-model-tororo</code></li><li><code>live2d-widget-model-tsumiki</code></li><li><code>live2d-widget-model-unitychan</code></li><li><code>live2d-widget-model-wanko</code></li><li><code>live2d-widget-model-z16</code></li></ul><p>æˆ‘ç”¨çš„æ˜¯ <code>npm install live2d-widget-model-hibiki</code></p><h3 id="htmlå®ç°å¤šå¼ å›¾ç‰‡åŒè¡Œ"><a href="#htmlå®ç°å¤šå¼ å›¾ç‰‡åŒè¡Œ" class="headerlink" title="htmlå®ç°å¤šå¼ å›¾ç‰‡åŒè¡Œ"></a>htmlå®ç°å¤šå¼ å›¾ç‰‡åŒè¡Œ</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272109891.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å›¾1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272122120.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å›¾2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>center</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_33826564/article/details/81303230">https://blog.csdn.net/qq_33826564/article/details/81303230</a></p><h3 id="3-è¯¦ç»†é…ç½®"><a href="#3-è¯¦ç»†é…ç½®" class="headerlink" title="3.è¯¦ç»†é…ç½®"></a>3.è¯¦ç»†é…ç½®</h3><p>1.æå‰åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>live2d_models</code> ç›®å½•</p><p><img src="https://diy-sprint.top/img/cjml.png" alt="img"></p><p>2.ä¸‹è½½å¥½çš„æ¨¡å‹åº“ä¼šåœ¨æ ¹ç›®å½•node_modulesæ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸­æœç´¢æ¨¡å‹åº“åç§°<code>live2d-widget-model-hibiki</code>å°†é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°æå‰åˆ›å»ºå¥½çš„ç›®å½•ä¸‹<code>live2d_models</code></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272129897.png" alt="img"></p><p>3.å¼€å§‹é…ç½®æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code> æ–‡ä»¶åœ¨åº•éƒ¨æ·»åŠ å¦‚ä¸‹æ“ä½œ</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># çœ‹æ¿å¨˜</span><span class="token key atrule">live2d</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment">#enable: false</span>  <span class="token key atrule">scriptFrom</span><span class="token punctuation">:</span> local <span class="token comment"># é»˜è®¤</span>  <span class="token key atrule">pluginRootPath</span><span class="token punctuation">:</span> live2dw/ <span class="token comment"># æ’ä»¶åœ¨ç«™ç‚¹ä¸Šçš„æ ¹ç›®å½•(ç›¸å¯¹è·¯å¾„)</span>  <span class="token key atrule">pluginJsPath</span><span class="token punctuation">:</span> lib/ <span class="token comment"># è„šæœ¬æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span>  <span class="token key atrule">pluginModelPath</span><span class="token punctuation">:</span> assets/ <span class="token comment"># æ¨¡å‹æ–‡ä»¶ç›¸å¯¹ä¸æ’ä»¶æ ¹ç›®å½•è·¯å¾„</span>  <span class="token comment"># scriptFrom: jsdelivr # jsdelivr CDN</span>  <span class="token comment"># scriptFrom: unpkg # unpkg CDN</span>  <span class="token comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # ä½ çš„è‡ªå®šä¹‰ url</span>  <span class="token key atrule">tagMode</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># æ ‡ç­¾æ¨¡å¼, æ˜¯å¦ä»…æ›¿æ¢ live2d tagæ ‡ç­¾è€Œéæ’å…¥åˆ°æ‰€æœ‰é¡µé¢ä¸­</span>  <span class="token key atrule">debug</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># è°ƒè¯•, æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span>  <span class="token key atrule">model</span><span class="token punctuation">:</span>    <span class="token key atrule">use</span><span class="token punctuation">:</span> live2d<span class="token punctuation">-</span>widget<span class="token punctuation">-</span>model<span class="token punctuation">-</span>hibiki    <span class="token comment"># use: live2d-widget-model-wanko # npm-module package name</span>    <span class="token comment"># use: wanko # åšå®¢æ ¹ç›®å½•/live2d_models/ ä¸‹çš„ç›®å½•å</span>    <span class="token comment"># use: ./wives/wanko # ç›¸å¯¹äºåšå®¢æ ¹ç›®å½•çš„è·¯å¾„</span>    <span class="token comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # ä½ çš„è‡ªå®šä¹‰ url</span>  <span class="token key atrule">display</span><span class="token punctuation">:</span>    <span class="token key atrule">position</span><span class="token punctuation">:</span> right    <span class="token key atrule">width</span><span class="token punctuation">:</span> <span class="token number">145</span>    <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token number">315</span>    <span class="token key atrule">hOffset</span><span class="token punctuation">:</span> <span class="token number">60</span> <span class="token comment"># æ°´å¹³åç§» </span>    <span class="token key atrule">vOffset</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># å‚ç›´åç§»</span>  <span class="token key atrule">mobile</span><span class="token punctuation">:</span>    <span class="token key atrule">show</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># æ˜¯å¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º</span>    <span class="token key atrule">scale</span><span class="token punctuation">:</span> <span class="token number">0.5</span> <span class="token comment"># ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç¼©æ”¾       </span>  <span class="token key atrule">react</span><span class="token punctuation">:</span>    <span class="token key atrule">opacityDefault</span><span class="token punctuation">:</span> <span class="token number">0.7</span>    <span class="token key atrule">opacityOnHover</span><span class="token punctuation">:</span> <span class="token number">0.8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>model:  use: live2d-widget-model-hibikiuse <code># è¿™é‡Œå¡«ä½ å–œæ¬¢çš„æ¨¡å‹</code></p></blockquote><h1 id="å¢å¼ºç‰ˆè®¾ç½®"><a href="#å¢å¼ºç‰ˆè®¾ç½®" class="headerlink" title="å¢å¼ºç‰ˆè®¾ç½®"></a>å¢å¼ºç‰ˆè®¾ç½®</h1><h3 id="1-å…ˆå¸è½½helper-live2d"><a href="#1-å…ˆå¸è½½helper-live2d" class="headerlink" title="1.å…ˆå¸è½½helper-live2d"></a>1.å…ˆå¸è½½helper-live2d</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">npm uninstall hexo<span class="token punctuation">-</span>helper<span class="token punctuation">-</span>live2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2-ä¸‹è½½å¤§ç¥çš„é…ç½®"><a href="#2-ä¸‹è½½å¤§ç¥çš„é…ç½®" class="headerlink" title="2.ä¸‹è½½å¤§ç¥çš„é…ç½®"></a>2.<a href="https://github.com/stevenjoezhang/live2d-widget">ä¸‹è½½å¤§ç¥çš„é…ç½®</a></h3><h3 id="3-è§£å‹é…ç½®"><a href="#3-è§£å‹é…ç½®" class="headerlink" title="3.è§£å‹é…ç½®"></a>3.è§£å‹é…ç½®</h3><p>è§£å‹åˆ°<code>\themes\ä¸»é¢˜\source</code>ç›®å½•å¹¶æ”¹åä¸º<code>live2d-widget</code></p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272138049.png" alt="img"></p><h3 id="4-ä¿®æ”¹è·¯å¾„"><a href="#4-ä¿®æ”¹è·¯å¾„" class="headerlink" title="4.ä¿®æ”¹è·¯å¾„"></a>4.ä¿®æ”¹è·¯å¾„</h3><p>ä¿®æ”¹<code>autoload.js</code>æ–‡ä»¶ï¼Œå°†å¤§ç¥è·¯å¾„æ”¹ä¸ºç›¸å¯¹è·¯å¾„</p><pre class="line-numbers language-Text" data-language="Text"><code class="language-Text">&#x2F;&#x2F; æ³¨æ„ï¼šlive2d_path å‚æ•°åº”ä½¿ç”¨ç»å¯¹è·¯å¾„&#x2F;&#x2F;const live2d_path &#x3D; &quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;stevenjoezhang&#x2F;live2d-widget@latest&#x2F;&quot;;const live2d_path &#x3D; &quot;&#x2F;live2d-widget&#x2F;&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="5-ä¿®æ”¹ä»£ç "><a href="#5-ä¿®æ”¹ä»£ç " class="headerlink" title="5.ä¿®æ”¹ä»£ç "></a>5.ä¿®æ”¹ä»£ç </h3><p>ä¿®æ”¹<code>\themes\ä¸»é¢˜\layout\_partial</code>ä¸‹çš„<code>head.ejs</code>ï¼Œnextä¸»é¢˜åœ¨&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_layout.swingç›®å½•ä¸‹</p><pre class="line-numbers language-Text" data-language="Text"><code class="language-Text">&lt;!--çœ‹æ¿å¨˜--&gt;&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;jquery&#x2F;dist&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;&lt;script src&#x3D;&quot;&#x2F;live2d-widget&#x2F;autoload.js&quot;&gt;&lt;&#x2F;script&gt;&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;font-awesome&#x2F;css&#x2F;font-awesome.min.css&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-å¯ç”¨é…ç½®"><a href="#6-å¯ç”¨é…ç½®" class="headerlink" title="6.å¯ç”¨é…ç½®"></a>6.å¯ç”¨é…ç½®</h3><p>åœ¨<code>_config.yml</code>å…¨å±€é…ç½®æ–‡æœ«æ·»åŠ </p><pre class="line-numbers language-Text" data-language="Text"><code class="language-Text">#è‡ªå®šä¹‰çœ‹æ¿å¨˜åŠ¨ç”»live2d: enable: true  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æƒ³ä¿®æ”¹çœ‹æ¿å¨˜å¤§å°ã€ä½ç½®ã€æ ¼å¼ã€æ–‡æœ¬å†…å®¹ç­‰ï¼Œå¯æŸ¥çœ‹å¹¶ä¿®æ”¹ waifu-tips.jsã€waifu-tips.jsonã€waifu.cssæ–‡ä»¶ã€‚</p><h3 id="7-æŸ¥çœ‹å¹¶éƒ¨ç½²"><a href="#7-æŸ¥çœ‹å¹¶éƒ¨ç½²" class="headerlink" title="7.æŸ¥çœ‹å¹¶éƒ¨ç½²"></a>7.æŸ¥çœ‹å¹¶éƒ¨ç½²</h3><pre class="line-numbers language-none"><code class="language-none">hexo cl &amp;&amp; hexo g &amp;&amp; hexo s &amp;&amp; hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ¡å‘½ä»¤ä¼šé¦–å…ˆæ¸…é™¤ç¼“å­˜ (<code>hexo clean</code>), ç„¶åç”Ÿæˆé™æ€ç½‘é¡µ (<code>hexo g</code>), æ¥ç€å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨é¢„è§ˆ (<code>hexo s</code>)ï¼Œæœ€åéƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“ (<code>hexo d</code>)ã€‚è¯·æ³¨æ„ï¼Œåœ¨éƒ¨ç½²å®Œæˆåï¼Œç”±äº<code>hexo s</code>ä»åœ¨è¿è¡Œï¼Œæœ¬åœ°é¢„è§ˆå°†ä¼šç»§ç»­æä¾›æœåŠ¡ï¼Œç›´åˆ°ä½ æ‰‹åŠ¨åœæ­¢å®ƒ(<code>Ctrl C</code>)</p><h3 id="8-æ¼”ç¤ºæ•ˆæœ"><a href="#8-æ¼”ç¤ºæ•ˆæœ" class="headerlink" title="8.æ¼”ç¤ºæ•ˆæœ"></a>8.æ¼”ç¤ºæ•ˆæœ</h3><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202401272151637.png" alt="image-20240127215123424"></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p>æœ¬æ–‡å‚è€ƒä»¥ä¸‹å¤§ç¥çš„åšæ–‡ï¼š</p><p>Onlookerï¼š</p><ul><li><a href="https://diy-sprint.top/2021/050559226.html">https://diy-sprint.top/2021/050559226.html</a></li><li><a href="https://diy-sprint.top/2021/050635991.html">æ·»åŠ live2dçœ‹æ¿åŠ¨ç”»(å¯å¯¹è¯ï¼Œæ¢è£…äº’åŠ¨) | Onlooker (diy-sprint.top)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> live2D </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoåšå®¢(ä¸€) â€”â€”åŸºç¡€æ­å»º</title>
      <link href="/posts/15bb.html"/>
      <url>/posts/15bb.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><h3 id="ä¸‹è½½git"><a href="#ä¸‹è½½git" class="headerlink" title="ä¸‹è½½git"></a>ä¸‹è½½git</h3><p>å®‰è£…git for windowsï¼ˆæˆ–è€…å…¶å®ƒgitå®¢æˆ·ç«¯ï¼‰<a href="https://git-scm.com/downloads">gitä¸‹è½½</a></p><p>éªŒè¯gitå®‰è£…å‘½ä»¤(cmdçª—å£æˆ–é¼ æ ‡å³é”®èœå•çš„git bash çª—å£)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ä¸‹è½½node-js"><a href="#ä¸‹è½½node-js" class="headerlink" title="ä¸‹è½½node.js"></a>ä¸‹è½½node.js</h3><p>åœ¨<a href="https://nodejs.org/zh-cn/">å®˜ç½‘</a>ä¸‹è½½node.jsçš„å®‰è£…ç¨‹åºï¼Œæ ¹æ®ä½ ç”µè„‘ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…ç¨‹åºã€‚</p><p>éªŒè¯nodeå®‰è£…å‘½ä»¤ (cmdçª—å£æˆ–é¼ æ ‡å³é”®èœå•çš„git bash çª—å£)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="vscodeå®‰è£…"><a href="#vscodeå®‰è£…" class="headerlink" title="vscodeå®‰è£…"></a>vscodeå®‰è£…</h3><p>Visual Studio Code <a href="https://visualstudio.microsoft.com/zh-hans/">å®˜ç½‘ä¸‹è½½</a></p><h3 id="githubè´¦å·"><a href="#githubè´¦å·" class="headerlink" title="githubè´¦å·"></a>githubè´¦å·</h3><p>å¦‚æœæ²¡æœ‰å°±æ³¨å†Œä¸€ä¸ªï¼š<a href="https://github.com/">https://github.com/</a></p><h2 id="Github-Pagesåˆ›å»º"><a href="#Github-Pagesåˆ›å»º" class="headerlink" title="Github Pagesåˆ›å»º"></a>Github Pagesåˆ›å»º</h2><h2 id="éŸ³ä¹é¡µé¢"><a href="#éŸ³ä¹é¡µé¢" class="headerlink" title="éŸ³ä¹é¡µé¢"></a>éŸ³ä¹é¡µé¢</h2><p>ä¹¦ç±é¡µé¢vlogé¡µé¢å¯¼èˆªé¡µé¢å½±è§†é¡µé¢</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p><a href="https://blog.csdn.net/u013044713/article/details/120251025">hexoåšå®¢æ­å»ºåŠä¸»é¢˜ä¼˜åŒ–(äºŒ)_5ezuy.top-CSDNåšå®¢</a></p><ul><li>ç”µå½±å¡ç‰‡</li><li>å½’æ¡£æ—¶é—´è½´å’Œæ—¶é—´åˆ—è¡¨</li><li>å¿«æ·å¯¼èˆª</li><li>ç«™ç‚¹ç»Ÿè®¡ä¸æ˜¾ç¤º</li></ul><p>buttreflyé¼ æ ‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">* &#123;    cursor: url(data:image&#x2F;svg+xml,&lt;svg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; viewBox&#x3D;&#39;0 0 8 8&#39; width&#x3D;&#39;8px&#39; height&#x3D;&#39;8px&#39;&gt;&lt;circle cx&#x3D;&#39;4&#39; cy&#x3D;&#39;4&#39; r&#x3D;&#39;4&#39; opacity&#x3D;&#39;1.0&#39; fill&#x3D;&#39;rgb(57, 197, 187)&#39;&#x2F;&gt;&lt;&#x2F;svg&gt;) 4 4, auto;&#125;data:image&#x2F;svg+xml,&lt;svg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; viewBox&#x3D;&#39;0 0 8 8&#39; width&#x3D;&#39;8px&#39; height&#x3D;&#39;8px&#39;&gt;&lt;circle cx&#x3D;&#39;4&#39; cy&#x3D;&#39;4&#39; r&#x3D;&#39;4&#39; opacity&#x3D;&#39;1.0&#39; fill&#x3D;&#39;rgb(57, 197, 187)&#39;&#x2F;&gt;&lt;&#x2F;svg&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="https-seayj-cn"><a href="#https-seayj-cn" class="headerlink" title="https://seayj.cn/"></a><a href="https://seayj.cn/">https://seayj.cn/</a></h2><ul><li><p>footer-wave.css</p></li><li><p>matery.css</p></li><li><p>matery.js</p></li><li><p>cursor.css</p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* build time:Sat Feb 03 2024 21:39:20 GMT+0800 (Ã¤Â¸Â­Ã¥â€ºÂ½Ã¦ â€¡Ã¥â€¡â€ Ã¦â€”Â¶Ã©â€”Â´)*/</span><span class="token selector">body,div,html,span</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/normal.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">#vcomments svg,a,button</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/a.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">::-moz-selection</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/love.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">::selection,img,pre,select</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/love.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">input,textarea</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/input.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token selector">.celeste canvas</span> <span class="token punctuation">&#123;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/cursor/move.png<span class="token punctuation">)</span></span><span class="token punctuation">,</span>auto<span class="token important">!important</span><span class="token punctuation">&#125;</span><span class="token comment">/* rebuild by neat */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>rightMenu.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆå§‹åŒ–å‡½æ•°</span><span class="token keyword">let</span> rm <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">var</span> btf <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token function-variable function">scrollToDest</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pos<span class="token punctuation">,</span> time</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> time <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">const</span> currentPos <span class="token operator">=</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">||</span> window<span class="token punctuation">.</span>screenTop    pos <span class="token operator">=</span> pos <span class="token operator">-</span> <span class="token number">70</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'CSS'</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span> <span class="token constant">CSS</span><span class="token punctuation">.</span><span class="token function">supports</span><span class="token punctuation">(</span><span class="token string">'scroll-behavior'</span><span class="token punctuation">,</span> <span class="token string">'smooth'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">top</span><span class="token operator">:</span> pos<span class="token punctuation">,</span>        <span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">'smooth'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>      <span class="token keyword">return</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token keyword">null</span>    time <span class="token operator">=</span> time <span class="token operator">||</span> <span class="token number">500</span>    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">step</span><span class="token punctuation">(</span><span class="token parameter">currentTime</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      start <span class="token operator">=</span> <span class="token operator">!</span>start <span class="token operator">?</span> currentTime <span class="token operator">:</span> start      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPos <span class="token operator">&lt;</span> pos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> progress <span class="token operator">=</span> currentTime <span class="token operator">-</span> start        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pos <span class="token operator">-</span> currentPos<span class="token punctuation">)</span> <span class="token operator">*</span> progress <span class="token operator">/</span> time<span class="token punctuation">)</span> <span class="token operator">+</span> currentPos<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">const</span> progress <span class="token operator">=</span> currentTime <span class="token operator">-</span> start        window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> currentPos <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>currentPos <span class="token operator">-</span> pos<span class="token punctuation">)</span> <span class="token operator">*</span> progress <span class="token operator">/</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> time<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>          window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> heo <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ä¸‹è½½å›¾ç‰‡</span>  <span class="token function-variable function">downloadImage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">imgsrc<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä¸‹è½½å›¾ç‰‡åœ°å€å’Œå›¾ç‰‡å</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è§£å†³è·¨åŸŸ Canvas æ±¡æŸ“é—®é¢˜</span>        image<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"crossOrigin"</span><span class="token punctuation">,</span> <span class="token string">"anonymous"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> image<span class="token punctuation">.</span>width<span class="token punctuation">;</span>          canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> image<span class="token punctuation">.</span>height<span class="token punctuation">;</span>          <span class="token keyword">let</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> image<span class="token punctuation">.</span>width<span class="token punctuation">,</span> image<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">let</span> url <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">"image/png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¾—åˆ°å›¾ç‰‡çš„base64ç¼–ç æ•°æ®</span>          <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç”Ÿæˆä¸€ä¸ªaå…ƒç´ </span>          <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MouseEvent</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªå•å‡»äº‹ä»¶</span>          a<span class="token punctuation">.</span>download <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">"photo"</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å›¾ç‰‡åç§°</span>          a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span> <span class="token comment">// å°†ç”Ÿæˆçš„URLè®¾ç½®ä¸ºa.hrefå±æ€§</span>          a<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è§¦å‘açš„å•å‡»äº‹ä»¶</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        image<span class="token punctuation">.</span>src <span class="token operator">=</span> imgsrc<span class="token punctuation">;</span>        <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>          <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®&lt;/span>'</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æœ‰æ­£åœ¨è¿›è¡Œä¸­çš„ä¸‹è½½ï¼Œè¯·ç¨åå†è¯•&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//åˆ‡æ¢éŸ³ä¹æ’­æ”¾çŠ¶æ€</span>  <span class="token function-variable function">musicToggle</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// let msgPlay = '&lt;i class="fa-solid fa-play">&lt;/i>&lt;span>æ’­æ”¾éŸ³ä¹&lt;/span>' // æ­¤è™•å¯ä»¥æ›´æ”¹ç‚ºä½ æƒ³è¦é¡¯ç¤ºçš„æ–‡å­—</span>    <span class="token comment">// let msgPause = '&lt;i class="fa-solid fa-pause">&lt;/i>&lt;span>æš‚åœéŸ³ä¹&lt;/span>' // åŒä¸Šï¼Œä½†å…©è™•å‡ä¸å»ºè­°æ›´æ”¹</span>    <span class="token comment">// if (heo_musicPlaying) &#123;</span>    <span class="token comment">//   document.querySelector("#nav-music").classList.remove("playing");</span>    <span class="token comment">//   document.getElementById("menu-music-toggle").innerHTML = msgPlay;</span>    <span class="token comment">//   document.getElementById("nav-music-hoverTips").innerHTML = "éŸ³ä¹å·²æš‚åœ";</span>    <span class="token comment">//   document.querySelector("#consoleMusic").classList.remove("on");</span>    <span class="token comment">//   heo_musicPlaying = false;</span>    <span class="token comment">// &#125; else &#123;</span>    <span class="token comment">//   document.querySelector("#nav-music").classList.add("playing");</span>    <span class="token comment">//   document.getElementById("menu-music-toggle").innerHTML = msgPause;</span>    <span class="token comment">//   document.querySelector("#consoleMusic").classList.add("on");</span>    <span class="token comment">//   heo_musicPlaying = true;</span>    <span class="token comment">// &#125;</span>    <span class="token comment">// document.querySelector('meting-js').aplayer.toggle();</span>    <span class="token comment">// rm.hideRightMenu();</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//éŸ³ä¹ä¸Šä¸€æ›²</span>  <span class="token function-variable function">musicSkipBack</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// document.querySelector('meting-js').aplayer.skipBack();</span>    <span class="token comment">// rm.hideRightMenu();</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//éŸ³ä¹ä¸‹ä¸€æ›²</span>  <span class="token function-variable function">musicSkipForward</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// document.querySelector('meting-js').aplayer.skipForward();</span>    <span class="token comment">// rm.hideRightMenu();</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">//è·å–éŸ³ä¹ä¸­çš„åç§°</span>  <span class="token function-variable function">musicGetName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…å¼€å‘..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// var x = $('.aplayer-title')</span>    <span class="token comment">// // var x = document.getElementsByClassName('txt');</span>    <span class="token comment">// // for (var i = x.length - 1; i >= 0; i--) &#123;</span>    <span class="token comment">// // console.log(x[i].innerText)</span>    <span class="token comment">// // &#125;</span>    <span class="token comment">// var arr = []</span>    <span class="token comment">// for (var i = x.length - 1; i >= 0; i--) &#123;</span>    <span class="token comment">//   arr[i] = x[i].innerText</span>    <span class="token comment">//   // console.log(x[i].innerText)</span>    <span class="token comment">// &#125;</span>    <span class="token comment">// return arr[0]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç¦æ­¢å›¾ç‰‡æ‹–æ‹½</span>rm<span class="token punctuation">.</span>stopdragimg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rm<span class="token punctuation">.</span>stopdragimg<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"dragstart"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ˜¾ç¤ºèœå•</span>rm<span class="token punctuation">.</span><span class="token function-variable function">showRightMenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">isTrue<span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">let</span> $rightMenu <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  $rightMenu<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>isTrue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    $rightMenu<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">stopMaskScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    $rightMenu<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// éšè—èœå•</span>rm<span class="token punctuation">.</span><span class="token function-variable function">hideRightMenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">showRightMenu</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'display: none'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å°ºå¯¸</span><span class="token keyword">let</span> rmWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> rmHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é‡æ–°å®šä¹‰å°ºå¯¸</span>rm<span class="token punctuation">.</span><span class="token function-variable function">reloadrmSize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rmWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rmHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightMenu'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// è·å–ç‚¹å‡»çš„href</span><span class="token keyword">let</span> domhref <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">let</span> domImgSrc <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">let</span> globalEvent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// ç›‘å¬å³é”®åˆå§‹åŒ–</span>window<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> pageX <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š</span>    <span class="token keyword">let</span> pageY <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>    <span class="token comment">// console.log(event);</span>    <span class="token comment">//å…¶ä»–é¢å¤–èœå•</span>    <span class="token keyword">let</span> $rightMenuOther <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.rightMenuOther'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuPlugin <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.rightMenuPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copytext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuPasteText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-pastetext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCommentText <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-commenttext'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuNewWindow <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-newwindow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyLink <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copylink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuCopyImg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copyimg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuDownloadImg <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-downloadimg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuSearch <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-search'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuSearchBing <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-searchBing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicToggle <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicBack <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-back'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicForward <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-forward'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicPlaylist <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-playlist'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> $rightMenuMusicCopyMusicName <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-copyMusicName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> href <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">;</span>    <span class="token keyword">let</span> imgsrc <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>currentSrc<span class="token punctuation">;</span>    <span class="token comment">// åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶</span>    <span class="token keyword">let</span> pluginMode <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    $rightMenuOther<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    globalEvent <span class="token operator">=</span> event<span class="token punctuation">;</span>    <span class="token comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>selectTextNow <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuCopyText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCommentText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearch<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearchBing<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuCopyText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCommentText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearchBing<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuSearch<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>href<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuNewWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCopyLink<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      domhref <span class="token operator">=</span> href<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuNewWindow<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuCopyLink<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>imgsrc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuCopyImg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuDownloadImg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      domImgSrc <span class="token operator">=</span> imgsrc<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuCopyImg<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuDownloadImg<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'input'</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'textarea'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ä¸€ä¸ªè¾“å…¥æ¡†'</span><span class="token punctuation">)</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuPasteText<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuPasteText<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">==</span> <span class="token string">"METING-JS"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ä¸€ä¸ªéŸ³ä¹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      pluginMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      $rightMenuMusicToggle<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicBack<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicForward<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicPlaylist<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicCopyMusicName<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuMusicToggle<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicBack<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicForward<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicPlaylist<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuMusicCopyMusicName<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pluginMode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      $rightMenuOther<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      $rightMenuPlugin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      $rightMenuPlugin<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    rm<span class="token punctuation">.</span><span class="token function">reloadrmSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–è€ƒä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageX <span class="token operator">+</span> rmWidth <span class="token operator">></span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pageX <span class="token operator">-=</span> rmWidth <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageY <span class="token operator">+</span> rmHeight <span class="token operator">></span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      pageY <span class="token operator">-=</span> pageY <span class="token operator">+</span> rmHeight <span class="token operator">-</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    rm<span class="token punctuation">.</span><span class="token function">showRightMenu</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> pageY<span class="token punctuation">,</span> pageX<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'display: flex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">// ä¸‹è½½å›¾ç‰‡çŠ¶æ€</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿</span>rm<span class="token punctuation">.</span><span class="token function-variable function">writeClipImg</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">imgsrc</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// console.log('æŒ‰ä¸‹å¤åˆ¶');</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>rm<span class="token punctuation">.</span>downloadimging <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token function">copyImage</span><span class="token punctuation">(</span>imgsrc<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®&lt;/span>'</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      rm<span class="token punctuation">.</span>downloadimging <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"10000"</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">imageToBlob</span><span class="token punctuation">(</span><span class="token parameter">imageURL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> ctx <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  img<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>  img<span class="token punctuation">.</span>src <span class="token operator">=</span> imageURL<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      c<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalWidth<span class="token punctuation">;</span>      c<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>naturalHeight<span class="token punctuation">;</span>      ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      c<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token comment">// here the image is a blob</span>        <span class="token function">resolve</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">copyImage</span><span class="token punctuation">(</span><span class="token parameter">imageURL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imageToBlob</span><span class="token punctuation">(</span>imageURL<span class="token punctuation">)</span>  <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClipboardItem</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token string-property property">"image/png"</span><span class="token operator">:</span> blob  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">switchDarkMode</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">switchNightMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token string">"&lt;input id='copyVal'>&lt;/input>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> text <span class="token operator">=</span> id<span class="token punctuation">;</span>  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"copyVal"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span>value <span class="token operator">=</span> text<span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">setSelectionRange</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> input<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">"copy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#copyVal"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">stopMaskScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightmenu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> xscroll <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightmenu-mask"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    xscroll<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousewheel"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•</span>      rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// e.preventDefault();</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightMenu"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> xscroll <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"rightMenu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    xscroll<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousewheel"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•</span>      rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// e.preventDefault();</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">rightmenuCopyText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">txt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyPageUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> selURL <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">copyUrl</span><span class="token punctuation">(</span>selURL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>rm<span class="token punctuation">.</span><span class="token function-variable function">sharePage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> content <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">copyUrl</span><span class="token punctuation">(</span>selURL<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬</span><span class="token keyword">var</span> selectTextNow <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span>onmouseup <span class="token operator">=</span> document<span class="token punctuation">.</span>ondbclick <span class="token operator">=</span> selceText<span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">selceText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> txt<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    txt <span class="token operator">=</span> document<span class="token punctuation">.</span>selection<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    txt <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>txt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    selectTextNow <span class="token operator">=</span> txt<span class="token punctuation">;</span>    <span class="token comment">// console.log(selectTextNow);</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    selectTextNow <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// è¯»å–å‰ªåˆ‡æ¿</span>rm<span class="token punctuation">.</span><span class="token function-variable function">readClipboard</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">clipText</span> <span class="token operator">=></span> rm<span class="token punctuation">.</span><span class="token function">insertAtCaret</span><span class="token punctuation">(</span>globalEvent<span class="token punctuation">.</span>target<span class="token punctuation">,</span> clipText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹</span>rm<span class="token punctuation">.</span><span class="token function-variable function">insertAtCaret</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">elemt<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> startPos <span class="token operator">=</span> elemt<span class="token punctuation">.</span>selectionStart<span class="token punctuation">,</span>    endPos <span class="token operator">=</span> elemt<span class="token punctuation">.</span>selectionEnd<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sel <span class="token operator">=</span> document<span class="token punctuation">.</span>selection<span class="token punctuation">.</span><span class="token function">createRange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    sel<span class="token punctuation">.</span>text <span class="token operator">=</span> value<span class="token punctuation">;</span>    elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>startPos <span class="token operator">||</span> startPos <span class="token operator">==</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> elemt<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>value <span class="token operator">=</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> startPos<span class="token punctuation">)</span> <span class="token operator">+</span> value <span class="token operator">+</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endPos<span class="token punctuation">,</span> elemt<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>selectionStart <span class="token operator">=</span> startPos <span class="token operator">+</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>selectionEnd <span class="token operator">=</span> startPos <span class="token operator">+</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      elemt<span class="token punctuation">.</span>value <span class="token operator">+=</span> value<span class="token punctuation">;</span>      elemt<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç²˜è´´æ–‡æœ¬</span>rm<span class="token punctuation">.</span><span class="token function-variable function">pasteText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> result <span class="token operator">=</span> rm<span class="token punctuation">.</span><span class="token function">readClipboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¼•ç”¨åˆ°è¯„è®º</span>rm<span class="token punctuation">.</span><span class="token function-variable function">rightMenuCommentText</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">txt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'veditor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> evt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'HTMLEvents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  evt<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> inputValue <span class="token operator">=</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span>txt<span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">'\n> '</span><span class="token punctuation">)</span>  input<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'> '</span> <span class="token operator">+</span> inputValue <span class="token operator">+</span> <span class="token string">'\n\n'</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> domTop <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#vcomments"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>  window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> domTop <span class="token operator">-</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  input<span class="token punctuation">.</span><span class="token function">setSelectionRange</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ›¿æ¢æ‰€æœ‰å†…å®¹</span><span class="token keyword">function</span> <span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> search<span class="token punctuation">,</span> replace</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// Bingæœç´¢</span>rm<span class="token punctuation">.</span><span class="token function-variable function">searchBing</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å³å°†è·³è½¬åˆ°å¿…åº”æœç´¢&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'https://cn.bing.com/search?q='</span> <span class="token operator">+</span> selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">"1000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ†äº«é“¾æ¥</span>rm<span class="token punctuation">.</span><span class="token function-variable function">copyLink</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>domhref<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å·²å¤åˆ¶é“¾æ¥åœ°å€&lt;/span>'</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">function</span> <span class="token function">addRightMenuClickEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// æ·»åŠ ç‚¹å‡»äº‹ä»¶</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-backward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-forward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-refresh'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-top'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    btf<span class="token punctuation">.</span><span class="token function">scrollToDest</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.menu-link'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>hideRightMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-darkmode'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>switchDarkMode<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-home'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-randomPost'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token function">toRandomPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>hideRightMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#rightmenu-mask'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contextmenu</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copy'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>copyPageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-pastetext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>pasteText<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copytext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶æˆ–è½¬è½½è¯·æ ‡æ³¨æ–‡æœ¬ä½ç½®&lt;/span>'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-commenttext'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightMenuCommentText</span><span class="token punctuation">(</span>selectTextNow<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-newwindow'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>domhref<span class="token punctuation">)</span><span class="token punctuation">;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copylink'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>copyLink<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-downloadimg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    heo<span class="token punctuation">.</span><span class="token function">downloadImage</span><span class="token punctuation">(</span>domImgSrc<span class="token punctuation">,</span> <span class="token string">'SeaYJImageDownload'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-copyimg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">writeClipImg</span><span class="token punctuation">(</span>domImgSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-search'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">hideRightMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#searchIcon'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'searchInput'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> evt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">'HTMLEvents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    evt<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token punctuation">.</span>value <span class="token operator">=</span> selectTextNow<span class="token punctuation">;</span>    t<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-searchBing'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> rm<span class="token punctuation">.</span>searchBing<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//éŸ³ä¹</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicToggle<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-back'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicSkipBack<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-forward'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> heo<span class="token punctuation">.</span>musicSkipForward<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#menu-music-copyMusicName'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    rm<span class="token punctuation">.</span><span class="token function">rightmenuCopyText</span><span class="token punctuation">(</span>heo<span class="token punctuation">.</span><span class="token function">musicGetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token constant">M</span><span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>      <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">'&lt;span>å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ&lt;/span>'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>lantern.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Lantern</span> <span class="token punctuation">&#123;</span>    #startDate <span class="token operator">=</span> <span class="token string">'1-1'</span><span class="token punctuation">;</span>    #endDate <span class="token operator">=</span> <span class="token string">'1-31'</span><span class="token punctuation">;</span>    <span class="token function">#dateCheck</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> $m <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $d <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>$m <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> $m <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>                <span class="token string">'ERROR: %s is a problem!The month can only be selected from 1~12!'</span><span class="token punctuation">,</span>                $m            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>$d <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> $d <span class="token operator">></span> <span class="token number">31</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>                <span class="token string">"ERROR: %s is a problem!Dates can only be selected from 1~31!You don't need to think about leap years, you just need to treat it as if every month is 31 days, and we'll do the rest!"</span><span class="token punctuation">,</span>                $d            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">#dateCorrect</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">'date'</span> <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            obj<span class="token punctuation">.</span>date <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#startDate<span class="token punctuation">,</span>                <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#endDate<span class="token punctuation">,</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">'from'</span> <span class="token keyword">in</span> obj<span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#dateCheck</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>date<span class="token punctuation">.</span>from<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                obj<span class="token punctuation">.</span>date<span class="token punctuation">.</span>from <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#startDate<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">'to'</span> <span class="token keyword">in</span> obj<span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#dateCheck</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>date<span class="token punctuation">.</span>to<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                obj<span class="token punctuation">.</span>date<span class="token punctuation">.</span>to <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#endDate<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">#CompareTime</span><span class="token punctuation">(</span><span class="token parameter">sDate<span class="token punctuation">,</span> eDate</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> $sM <span class="token operator">=</span> sDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $sD <span class="token operator">=</span> sDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $eM <span class="token operator">=</span> eDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $eD <span class="token operator">=</span> eDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $tM <span class="token operator">=</span> $t<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $tD <span class="token operator">=</span> $t<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>$sM <span class="token operator">></span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">></span> $sM <span class="token operator">||</span> $tM <span class="token operator">&lt;</span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">==</span> $sM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> $tD <span class="token operator">>=</span> $sD <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">==</span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> $tD <span class="token operator">&lt;=</span> $eD <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">></span> $sM <span class="token operator">&amp;&amp;</span> $tM <span class="token operator">&lt;</span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">==</span> $sM <span class="token operator">&amp;&amp;</span> $tM <span class="token operator">!=</span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> $tD <span class="token operator">>=</span> $sD <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">==</span> $eM <span class="token operator">&amp;&amp;</span> $tM <span class="token operator">!=</span> $sM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> $tD <span class="token operator">&lt;=</span> $eM <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>$tM <span class="token operator">==</span> $sM <span class="token operator">&amp;&amp;</span> $tM <span class="token operator">==</span> $eM<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> $tD <span class="token operator">>=</span> $sD <span class="token operator">&amp;&amp;</span> $tD <span class="token operator">&lt;=</span> $eD <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    #HTMLContent <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token constant">HTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>                <span class="token string">'&lt;div class="lantern-container">&lt;div class="lantern-box0">&lt;div class="lantern">&lt;div class="lantern-handle">&lt;/div>&lt;div class="lantern-a">&lt;div class="lantern-b">&lt;div class="lantern-t">'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>Text<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-spike lantern-spike-a">&lt;div class="lantern-spike-c">&lt;/div>&lt;div class="lantern-spike-b">&lt;/div>&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-box1">&lt;div class="lantern">&lt;div class="lantern-handle">&lt;/div>&lt;div class="lantern-a">&lt;div class="lantern-b">&lt;div class="lantern-t">'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>Text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-spike lantern-spike-a">&lt;div class="lantern-spike-c">&lt;/div>&lt;div class="lantern-spike-b">&lt;/div>&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-box2">&lt;div class="lantern">&lt;div class="lantern-handle">&lt;/div>&lt;div class="lantern-a">&lt;div class="lantern-b">&lt;div class="lantern-t">'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>Text<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-spike lantern-spike-a">&lt;div class="lantern-spike-c">&lt;/div>&lt;div class="lantern-spike-b">&lt;/div>&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-box3">&lt;div class="lantern">&lt;div class="lantern-handle">&lt;/div>&lt;div class="lantern-a">&lt;div class="lantern-b">&lt;div class="lantern-t">'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>Text<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'&lt;/div>&lt;/div>&lt;/div>&lt;div class="lantern-spike lantern-spike-a">&lt;div class="lantern-spike-c">&lt;/div>&lt;div class="lantern-spike-b">&lt;/div>&lt;/div>&lt;/div>&lt;/div>&lt;/div>&lt;style type="text/css">@media only screen and (max-width:768px)&#123;.lantern-container&#123;display:none&#125;&#125;.lantern-box2&#123;position:fixed;top:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternTop<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;right:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternRL<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;z-index:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>zIndex <span class="token operator">+</span>                <span class="token string">';pointer-events:none&#125;.lantern-box3&#123;position:fixed;top:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternTop<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;right:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternRL<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;z-index:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>zIndex <span class="token operator">+</span>                <span class="token string">';pointer-events:none&#125;.lantern-box1&#123;position:fixed;top:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternTop<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;left:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternRL<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;z-index:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>zIndex <span class="token operator">+</span>                <span class="token string">';pointer-events:none&#125;.lantern-box0&#123;position:fixed;top:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternTop<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;left:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>lanternRL<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span>                <span class="token string">'px;z-index:'</span> <span class="token operator">+</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>zIndex <span class="token operator">+</span>                <span class="token string">';pointer-events:none&#125;.lantern-box3 .lantern,.lantern-box0 .lantern&#123;-webkit-animation:swing 5s infinite ease-in-out;box-shadow:-5px 5px 30px 4px#fc903d&#125;.lantern&#123;position:relative;width:120px;height:90px;margin:20px 50px 60px 50px;background:#d8000f;background:rgba(216,0,15,0.8);border-radius:50%50%;-webkit-transform-origin:50%-100px;-webkit-animation:swing 3s infinite ease-in-out;box-shadow:-5px 5px 50px 4px#fa6c00&#125;.lantern-a&#123;width:100px;height:90px;background:#d8000f;background:rgba(216,0,15,0.1);margin:12px 8px 8px 8px;border-radius:50%50%;border:2px solid#dc8f03&#125;.lantern-b&#123;width:45px;height:90px;background:#d8000f;background:rgba(216,0,15,0.1);margin:-4px 8px 8px 26px;border-radius:50%50%;border:2px solid#dc8f03&#125;.lantern-handle&#123;position:absolute;top:-20px;left:60px;width:2px;height:20px;background:#dc8f03&#125;.lantern-spike-a&#123;position:relative;width:5px;height:20px;margin:-5px 0 0 59px;-webkit-animation:swing 4s infinite ease-in-out;-webkit-transform-origin:50%-45px;background:orange;border-radius:0 0 5px 5px&#125;.lantern-spike-b&#123;position:absolute;top:14px;left:-2px;width:10px;height:10px;background:#dc8f03;border-radius:50%&#125;.lantern-spike-c&#123;position:absolute;top:18px;left:-2px;width:10px;height:35px;background:orange;border-radius:0 0 0 5px&#125;.lantern:before&#123;position:absolute;top:-7px;left:29px;height:12px;width:60px;content:" ";display:block;z-index:999;border-radius:5px 5px 0 0;border:solid 1px#dc8f03;background:orange;background:linear-gradient(to right,#dc8f03,orange,#dc8f03,orange,#dc8f03)&#125;.lantern:after&#123;position:absolute;bottom:-7px;left:10px;height:12px;width:60px;content:" ";display:block;margin-left:20px;border-radius:0 0 5px 5px;border:solid 1px#dc8f03;background:orange;background:linear-gradient(to right,#dc8f03,orange,#dc8f03,orange,#dc8f03)&#125;.lantern-t&#123;font-family:é»‘ä½“,Arial,Lucida Grande,Tahoma,sans-serif;font-size:3.2rem;color:#dc8f03;font-weight:700;line-height:85px;text-align:center&#125;@-moz-keyframes swing&#123;0%&#123;-moz-transform:rotate(-10deg)&#125;50%&#123;-moz-transform:rotate(10deg)&#125;100%&#123;-moz-transform:rotate(-10deg)&#125;&#125;@-webkit-keyframes swing&#123;0%&#123;-webkit-transform:rotate(-10deg)&#125;50%&#123;-webkit-transform:rotate(10deg)&#125;100%&#123;-webkit-transform:rotate(-10deg)&#125;&#125;*[no-select]&#123;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;user-select: none;&#125;&lt;/style>'</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token literal-property property">Text</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'æ–°'</span><span class="token punctuation">,</span> <span class="token string">'å¹´'</span><span class="token punctuation">,</span> <span class="token string">'å¿«'</span><span class="token punctuation">,</span> <span class="token string">'ä¹'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">zIndex</span><span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>        <span class="token literal-property property">lanternRL</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token literal-property property">lanternTop</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token function">#postionCorrect</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'postion'</span> <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> postion <span class="token punctuation">&#125;</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> postion<span class="token punctuation">.</span>zIndex <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>zIndex<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>lanternRL <span class="token operator">=</span> postion<span class="token punctuation">.</span>lanternRL <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>lanternRL<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>lanternTop <span class="token operator">=</span> postion<span class="token punctuation">.</span>lanternTop <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>lanternTop<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">#contentCorrect</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'content'</span> <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span>Text <span class="token operator">=</span> obj<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">wrapperID<span class="token punctuation">,</span> initPara</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æ˜¾ç¤ºæ—¥æœŸå¤„ç†</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#dateCorrect</span><span class="token punctuation">(</span>initPara<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ˜¾ç¤ºä½ç½®å¤„ç†</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#postionCorrect</span><span class="token punctuation">(</span>initPara<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ˜¾ç¤ºå†…å®¹å¤„ç†</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#contentCorrect</span><span class="token punctuation">(</span>initPara<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> $wrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>wrapperID<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">#CompareTime</span><span class="token punctuation">(</span>initPara<span class="token punctuation">.</span>date<span class="token punctuation">.</span>from<span class="token punctuation">,</span> initPara<span class="token punctuation">.</span>date<span class="token punctuation">.</span>to<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            $wrapper<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#HTMLContent<span class="token punctuation">.</span><span class="token constant">HTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            $wrapper<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>3Dcard.js</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> cards <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"[Card3D]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// var images = document.querySelectorAll("[Card3DContent]");</span><span class="token comment">// var backgrounds = document.querySelectorAll("[Card3DConBG]");</span><span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span><span class="token comment">// const calcValue = (a, b) => (((a * 100) / b) * (range / 100) -(range / 2)).toFixed(1);</span><span class="token keyword">var</span> <span class="token function-variable function">calcValue</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">calcValue</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">(</span>a <span class="token operator">/</span> b <span class="token operator">*</span> range <span class="token operator">-</span> range <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// thanks @alice-mx</span><span class="token keyword">var</span> timeout <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_ref</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">var</span> x <span class="token operator">=</span> _ref<span class="token punctuation">.</span>x<span class="token punctuation">,</span>y <span class="token operator">=</span> _ref<span class="token punctuation">.</span>y<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    window<span class="token punctuation">.</span><span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  timeout <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">var</span> yValue <span class="token operator">=</span> <span class="token function">calcValue</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> xValue <span class="token operator">=</span> <span class="token function">calcValue</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(xValue, yValue);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cards <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      cards<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">"rotateX("</span> <span class="token operator">+</span> yValue <span class="token operator">+</span> <span class="token string">"deg) rotateY("</span> <span class="token operator">+</span> xValue <span class="token operator">+</span> <span class="token string">"deg)"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// [].forEach.call(images, function (image) &#123;</span>    <span class="token comment">//   image.style.transform = "translateX(" + -xValue + "px) translateY(" + yValue + "px)";</span>    <span class="token comment">// &#125;);</span>    <span class="token comment">// [].forEach.call(backgrounds, function (background) &#123;</span>    <span class="token comment">//   background.style.backgroundPosition = xValue * .45 + "px " + -yValue * .45 + "px";</span>    <span class="token comment">// &#125;);</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>butterflyçš„å¸ƒå±€</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¡µé¢åŠ è½½åŠ¨ç”»</title>
      <link href="/posts/4b71.html"/>
      <url>/posts/4b71.html</url>
      
        <content type="html"><![CDATA[<h1 id="é¡µé¢åŠ è½½åŠ¨ç”»"><a href="#é¡µé¢åŠ è½½åŠ¨ç”»" class="headerlink" title="é¡µé¢åŠ è½½åŠ¨ç”»"></a>é¡µé¢åŠ è½½åŠ¨ç”»</h1><p>ä»Šå¤©çš„ä¸»é¢˜æ˜¯ä¸ºåšå®¢æ·»åŠ é¡µé¢åŠ è½½åŠ¨ç”»ã€‚</p><p>ä¸‹é¢æ˜¯é¡µé¢åŠ è½½åŠ¨ç”»çš„è¯¦ç»†ä½œç”¨ï¼š</p><ol><li><p><strong>è§†è§‰å¸å¼•åŠ›</strong>: é¡µé¢åŠ è½½åŠ¨ç”»å¯ä»¥å¢åŠ é¡µé¢çš„å¸å¼•åŠ›ï¼Œä½¿ç”¨æˆ·åœ¨ç­‰å¾…é¡µé¢åŠ è½½æ—¶æ„Ÿåˆ°æ›´åŠ æ„‰æ‚¦å’Œæœ‰è¶£ã€‚ç²¾ç¾çš„åŠ è½½åŠ¨ç”»å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œå¢åŠ ç”¨æˆ·å¯¹ç½‘ç«™çš„å¥½æ„Ÿåº¦ã€‚</p></li><li><p><strong>æŒ‡ç¤ºå™¨</strong>: åŠ è½½åŠ¨ç”»å¯ä»¥ä½œä¸ºé¡µé¢åŠ è½½çš„æŒ‡ç¤ºå™¨ï¼Œå‘Šè¯‰ç”¨æˆ·é¡µé¢æ­£åœ¨åŠ è½½ä¸­ï¼Œä»¥åŠåŠ è½½è¿›åº¦å¦‚ä½•ã€‚è¿™å¯ä»¥å¸®åŠ©ç”¨æˆ·äº†è§£é¡µé¢åŠ è½½çš„çŠ¶æ€ï¼Œå‡å°‘ç”¨æˆ·çš„ä¸è€çƒ¦å’Œä¸ç¡®å®šæ€§ã€‚</p></li><li><p><strong>å¿ƒç†å®‰æ…°</strong>: åœ¨åŠ è½½è¾ƒæ…¢çš„æƒ…å†µä¸‹ï¼Œé¡µé¢åŠ è½½åŠ¨ç”»å¯ä»¥ç»™ç”¨æˆ·ä¸€ç§å¿ƒç†ä¸Šçš„å®‰æ…°ï¼Œè®©ä»–ä»¬çŸ¥é“é¡µé¢æ­£åœ¨å·¥ä½œï¼Œè€Œä¸æ˜¯å‡ºç°äº†é—®é¢˜ã€‚è¿™æœ‰åŠ©äºé™ä½ç”¨æˆ·çš„ç„¦è™‘å’Œæµå¤±ç‡ã€‚</p></li><li><p><strong>å“ç‰Œå±•ç¤º</strong>: é¡µé¢åŠ è½½åŠ¨ç”»ä¹Ÿå¯ä»¥æˆä¸ºå“ç‰Œçš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡è®¾è®¡ç‹¬ç‰¹çš„åŠ è½½åŠ¨ç”»æ¥å±•ç¤ºå“ç‰Œçš„é£æ ¼å’Œç‰¹ç‚¹ï¼Œå¢å¼ºå“ç‰Œå½¢è±¡ã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œé¡µé¢åŠ è½½åŠ¨ç”»åœ¨æå‡ç”¨æˆ·ä½“éªŒæ–¹é¢éƒ½å‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œæ˜¯ç½‘é¡µè®¾è®¡ä¸­å¸¸ç”¨çš„å…ƒç´ ä¹‹ä¸€ã€‚</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404292330622.gif" alt="loading"></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><ol><li><p>åœ¨<code>matery\source\css</code>ä¸‹æ–°å»º<code>loading.css</code>ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç </p><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">&#123;</span>    <span class="token property">--primary-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>    <span class="token comment">/* ä½¿ç”¨å˜é‡å®šä¹‰ä¸»è¦é¢œè‰² */</span><span class="token punctuation">&#125;</span><span class="token selector">*</span> <span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body</span> <span class="token punctuation">&#123;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-wrapper</span> <span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>45deg<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>90<span class="token punctuation">,</span> 54<span class="token punctuation">,</span> 148<span class="token punctuation">)</span> 0%<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>19<span class="token punctuation">,</span> 189<span class="token punctuation">,</span> 206<span class="token punctuation">)</span> 33%<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 148<span class="token punctuation">,</span> 217<span class="token punctuation">)</span> 66%<span class="token punctuation">,</span> <span class="token function">rgb</span><span class="token punctuation">(</span>111<span class="token punctuation">,</span> 199<span class="token punctuation">,</span> 181<span class="token punctuation">)</span> 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">background-size</span><span class="token punctuation">:</span> 400%<span class="token punctuation">;</span>    <span class="token property">background-position</span><span class="token punctuation">:</span> 0% 100%<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> gradient 7.5s ease-in-out infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader,.loader::before,.loader::after,.loader img</span> <span class="token punctuation">&#123;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 3px solid transparent<span class="token punctuation">;</span>    <span class="token property">border-top-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">margin-left</span><span class="token punctuation">:</span> -75px<span class="token punctuation">;</span>    <span class="token property">margin-top</span><span class="token punctuation">:</span> -75px<span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> spin 1.7s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader::before</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> spin 0.6s linear infinite reverse<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader::after</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>    <span class="token property">right</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> spin 1s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader img</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> spin 1.7s linear infinite reverse<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 72%<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div</span> <span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">animation</span><span class="token punctuation">:</span> move 2s linear infinite<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(8)::before,.loader-text div:nth-child(9)::before,.loader-text div:nth-child(10)::before</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div::after,.loader-text div:nth-child(8)::after,.loader-text div:nth-child(9)::after,.loader-text div:nth-child(10)::after</span> <span class="token punctuation">&#123;</span>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">bottom</span><span class="token punctuation">:</span> -40px<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(8)::after,.loader-text div:nth-child(9)::after,.loader-text div:nth-child(10)::after</span> <span class="token punctuation">&#123;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">margin-left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(2)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.2s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(3)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.4s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(4)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.6s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(5)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 0.8s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(6)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 1s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(7)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 1.2s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(8)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 1.4s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(9)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 1.6s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">.loader-text div:nth-child(10)</span> <span class="token punctuation">&#123;</span>    <span class="token property">animation-delay</span><span class="token punctuation">:</span> 1.8s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> gradient</span> <span class="token punctuation">&#123;</span>    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>        <span class="token property">background-position</span><span class="token punctuation">:</span> 100% 0%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> spin</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token atrule"><span class="token rule">@keyframes</span> move</span> <span class="token punctuation">&#123;</span>    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">35%</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 41%<span class="token punctuation">;</span>        <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">65%</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 59%<span class="token punctuation">;</span>        <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>        <span class="token property">right</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* å°å±å¹•ä¸‹(æ‰‹æœºç±»)çš„æ ·å¼ */</span><span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.loader</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader img</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 45%<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 45%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 70%<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text div</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* ä¸­ç­‰å±å¹•ä¸‹(å¹³æ¿ç±»)çš„æ ·å¼ */</span><span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 992px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.loader</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -60px<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -60px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader img</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text div</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* å¤§å±å¹•ä¸‹(æ¡Œé¢ç±»)çš„æ ·å¼ */</span><span class="token atrule"><span class="token rule">@media</span> <span class="token keyword">only</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 993px<span class="token punctuation">)</span></span> <span class="token punctuation">&#123;</span>    <span class="token selector">.loader</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>        <span class="token property">margin-left</span><span class="token punctuation">:</span> -90px<span class="token punctuation">;</span>        <span class="token property">margin-top</span><span class="token punctuation">:</span> -90px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader img</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">.loader-text div</span> <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>        <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>åœ¨<code>matery\layout\_partial</code>æ–°å»º<code>loading.ejs</code></p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>loadingPages<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> </span><span class="token delimiter punctuation">%></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        /* ä½ çš„ HTML ä»£ç å°†æ”¾åœ¨è¿™é‡Œ */        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  /* å¡«å†™ä½ çš„å¤´åƒè·¯å¾„ */            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loader-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- 10ä¸ªdiv --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>L<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>O<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>D<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>I<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>N<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>G<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">            <span class="token keyword">var</span> <span class="token function-variable function">endLoading</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'loader-box'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> endLoading<span class="token punctuation">)</span><span class="token punctuation">;</span>        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token language-javascript"> <span class="token punctuation">&#125;</span> </span><span class="token delimiter punctuation">%></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>éƒ¨ç½²åˆ°æœ¬åœ°ï¼ŒæŸ¥çœ‹å¹¶è°ƒè¯•æ•ˆæœ</p></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://seayj.cn/">SeaYJâ€™s Blog</a></li><li><a href="https://www.bilibili.com/video/BV1aZ4y1G7jp/">https://www.bilibili.com/video/BV1aZ4y1G7jp/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡µé¢åŠ¨ç”» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cuda å…¥é—¨</title>
      <link href="/posts/c7d8.html"/>
      <url>/posts/c7d8.html</url>
      
        <content type="html"><![CDATA[<h1 id="CUDAå…¥é—¨"><a href="#CUDAå…¥é—¨" class="headerlink" title="CUDAå…¥é—¨"></a>CUDAå…¥é—¨</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>06å¹´ï¼ŒNVIDIAå…¬å¸å‘å¸ƒäº†CUDAï¼Œå®ƒæ˜¯å»ºç«‹åœ¨NVIDIAçš„GPUä¸Šçš„ä¸€ä¸ªé€šç”¨å¹¶è¡Œè®¡ç®—å¹³å°å’Œç¼–ç¨‹æ¨¡å‹ã€‚CUDAç¼–ç¨‹ä½¿å¾—å¯ä»¥æ›´é«˜æ•ˆåœ°åˆ©ç”¨GPUçš„å¹¶è¡Œè®¡ç®—å¼•æ“æ¥è§£å†³å¤æ‚çš„è®¡ç®—é—®é¢˜ã€‚è¿‘å¹´æ¥ï¼ŒGPUåœ¨æ·±åº¦å­¦ä¹ é¢†åŸŸå–å¾—äº†å·¨å¤§æˆåŠŸï¼ŒåŸºäºGPUçš„å¹¶è¡Œè®¡ç®—å·²æˆä¸ºè®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ ‡å‡†ã€‚</p><p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼ŒGPUå¹¶éç‹¬ç«‹è¿è¡Œçš„è®¡ç®—å¹³å°ï¼Œè€Œæ˜¯éœ€è¦ä¸CPUååŒå·¥ä½œçš„ã€‚å®ƒå¯ä»¥è§†ä½œCPUçš„åå¤„ç†å™¨ï¼Œåœ¨æåŠGPUå¹¶è¡Œè®¡ç®—æ—¶ï¼Œå®é™…ä¸ŠæŒ‡çš„æ˜¯åŸºäºCPU+GPUçš„å¼‚æ„è®¡ç®—æ¶æ„ã€‚åœ¨è¿™ç§å¼‚æ„è®¡ç®—æ¶æ„ä¸­ï¼ŒGPUä¸CPUé€šè¿‡PCIeæ€»çº¿è¿æ¥åœ¨ä¸€èµ·ï¼ŒååŒå®Œæˆè®¡ç®—ä»»åŠ¡ã€‚CPUæ‰€åœ¨ä½ç½®è¢«ç§°ä¸ºä¸»æœºç«¯ï¼ˆhostï¼‰ï¼Œè€ŒGPUæ‰€åœ¨ä½ç½®è¢«ç§°ä¸ºè®¾å¤‡ç«¯ï¼ˆdeviceï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312191415196.png" alt="image-20231219141540082" style="zoom:80%;" /><p>å½“æ¯”è¾ƒGPUå’ŒCPUæ—¶ï¼ŒGPUæ‹¥æœ‰æ›´å¤šçš„è®¡ç®—æ ¸å¿ƒï¼Œä½¿å…¶éå¸¸é€‚åˆå¤„ç†æ•°æ®å¹¶è¡Œçš„è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œä¾‹å¦‚å¤§å‹çŸ©é˜µè¿ç®—ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCPUçš„æ ¸å¿ƒæ•°é‡è¾ƒå°‘ï¼Œä½†å®ƒä»¬æ“…é•¿æ‰§è¡Œå¤æ‚çš„é€»è¾‘è¿ç®—ï¼Œé€‚ç”¨äºæ§åˆ¶å¯†é›†å‹ä»»åŠ¡ã€‚æ­¤å¤–ï¼ŒCPUä¸Šçš„çº¿ç¨‹é€šå¸¸æ˜¯é‡å‹çš„ï¼Œå¯¼è‡´è¾ƒå¤§çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œè€ŒGPUæ‹¥æœ‰è®¸å¤šè½»é‡çº§çº¿ç¨‹ã€‚</p><p>å› æ­¤ï¼ŒåŸºäºCPU+GPUçš„å¼‚æ„è®¡ç®—å¹³å°èƒ½å¤Ÿå……åˆ†å‘æŒ¥ä¼˜åŠ¿ã€‚CPUè´Ÿè´£å¤„ç†ä¸²è¡Œç¨‹åºä¸­çš„é€»è¾‘å¤æ‚éƒ¨åˆ†ï¼Œè€ŒGPUåˆ™ä¸“æ³¨äºå¤„ç†æ•°æ®å¯†é›†å‹ã€å¹¶è¡Œè®¡ç®—çš„éƒ¨åˆ†ï¼Œè¿™æ ·èƒ½å¤Ÿå®ç°æœ€ä½³æ€§èƒ½ã€‚</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312191433412.png" alt="image-20231219143336313" style="zoom:80%;" /><p>CUDAæ˜¯NVIDIAå…¬å¸å¼€å‘çš„GPUç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œå¯ç”¨äºæ„å»ºåŸºäºGPUè®¡ç®—çš„åº”ç”¨ç¨‹åºã€‚CUDAæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¦‚C&#x2F;C++ã€Pythonå’ŒFortranç­‰ã€‚ä¸‹é¢æˆ‘ä»¬å°†ä½¿ç”¨CUDA C&#x2F;C++æ¥å£æ¥è®²è§£CUDAç¼–ç¨‹ã€‚Windowsç³»ç»Ÿä¸‹çš„CUDAå®‰è£…æ•™ç¨‹å¯ä»¥å‚è€ƒç»™å‡ºçš„é“¾æ¥è¿›è¡Œå®‰è£…ï¼š<a href="https://blog.csdn.net/chen565884393/article/details/127905428">CUDAå®‰è£…åŠç¯å¢ƒé…ç½®â€”â€”æœ€æ–°è¯¦ç»†ç‰ˆ-CSDNåšå®¢</a></p><h2 id="å…¥é—¨åŸºç¡€"><a href="#å…¥é—¨åŸºç¡€" class="headerlink" title="å…¥é—¨åŸºç¡€"></a>å…¥é—¨åŸºç¡€</h2><p>åœ¨CUDAç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œæ¶‰åŠä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šhostå’Œdeviceã€‚</p><p>hostä»£è¡¨ç€CPUåŠå…¶ç›¸å…³å†…å­˜ï¼Œè€Œdeviceä»£è¡¨ç€GPUåŠå…¶ç›¸å…³å†…å­˜ã€‚CUDAç¨‹åºä¸­åŒæ—¶å­˜åœ¨hostç¨‹åºå’Œdeviceç¨‹åºï¼Œåˆ†åˆ«åœ¨CPUå’ŒGPUä¸Šè¿è¡Œã€‚æ­¤å¤–ï¼Œhostå’Œdeviceä¹‹é—´å¯ä»¥è¿›è¡Œé€šä¿¡ï¼Œå…è®¸æ•°æ®åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œä¼ è¾“ã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œå…¸å‹çš„CUDAç¨‹åºæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>åˆ†é…hostå†…å­˜å¹¶å¯¹æ•°æ®è¿›è¡Œåˆå§‹åŒ–</li><li>åˆ†é…deviceå†…å­˜ï¼Œå¹¶å°†æ•°æ®ä»hostæ‹·è´åˆ°deviceä¸Š</li><li>è°ƒç”¨CUDAçš„æ ¸å‡½æ•°ï¼ˆkernelï¼‰åœ¨deviceä¸Šå®ŒæˆæŒ‡å®šçš„å¹¶è¡Œè¿ç®—</li><li>å°†deviceä¸Šè®¡ç®—å¾—åˆ°çš„ç»“æœæ‹·è´å›host</li><li>é‡Šæ”¾deviceå’Œhostä¸Šåˆ†é…çš„å†…å­˜ç©ºé—´</li></ol><p>æ ¸å‡½æ•°ï¼ˆkernelï¼‰æ˜¯CUDAä¸­çš„å…³é”®æ¦‚å¿µï¼Œå®ƒæ˜¯åœ¨deviceä¸Šå¹¶è¡Œæ‰§è¡Œçš„å‡½æ•°ã€‚æ ¸å‡½æ•°ä»¥ <code>__global__</code> ä¿®é¥°ç¬¦å£°æ˜ï¼Œåœ¨è°ƒç”¨æ—¶éœ€è¦ä½¿ç”¨ <code>&lt;&lt;&lt;grid, block&gt;&gt;&gt;</code> æ¥æŒ‡å®škernelè¦æ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ã€‚åœ¨CUDAä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæ‰§è¡Œæ ¸å‡½æ•°ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„çº¿ç¨‹IDï¼Œå¯ä»¥é€šè¿‡æ ¸å‡½æ•°çš„å†…ç½®å˜é‡ threadIdx æ¥è·å–ã€‚</p><p>ç”±äºGPUæ˜¯å¼‚æ„è®¡ç®—æ¨¡å‹ï¼Œå› æ­¤éœ€è¦åŒºåˆ†hostå’Œdeviceä¸Šçš„ä»£ç ã€‚åœ¨CUDAä¸­ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°ç±»å‹é™å®šè¯æ¥åŒºåˆ†hostå’Œdeviceä¸Šçš„å‡½æ•°ã€‚ä¸»è¦çš„ä¸‰ç§å‡½æ•°ç±»å‹é™å®šè¯å¦‚ä¸‹ï¼š</p><ul><li><code>__global__</code>ï¼šåœ¨deviceä¸Šæ‰§è¡Œï¼Œå¯ä»¥ä»hostè°ƒç”¨ï¼ˆä¸€äº›ç‰¹å®šçš„GPUä¹Ÿèƒ½ä»deviceä¸Šè°ƒç”¨ï¼‰ã€‚è¿”å›ç±»å‹å¿…é¡»æ˜¯ voidï¼Œä¸æ”¯æŒå¯å˜å‚æ•°ï¼Œä¹Ÿä¸èƒ½æˆä¸ºç±»çš„æˆå‘˜å‡½æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨ <code>__global__</code> å®šä¹‰çš„kernelæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè¿™æ„å‘³ç€hostä¸ä¼šç­‰å¾…kernelæ‰§è¡Œå®Œæ¯•å†æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚</li><li><code>__device__</code>ï¼šåœ¨deviceä¸Šæ‰§è¡Œï¼Œä»…å¯ä»¥ä»deviceä¸­è°ƒç”¨ï¼Œä¸èƒ½ä¸ <code>__global__</code> åŒæ—¶ä½¿ç”¨ã€‚</li><li><code>__host__</code>ï¼šåœ¨hostä¸Šæ‰§è¡Œï¼Œä»…å¯ä»¥ä»hostä¸­è°ƒç”¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ­¤ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ä¸å†™ã€‚å®ƒä¸èƒ½ä¸ <code>__global__</code> åŒæ—¶ä½¿ç”¨ï¼Œä½†å¯ä»¥ä¸ <code>__device__</code> ç»“åˆä½¿ç”¨ï¼Œæ­¤æ—¶å‡½æ•°å¯åœ¨deviceå’Œhostä¸Šéƒ½ç¼–è¯‘ã€‚</li></ul><p>è¦æ·±å…¥ç†è§£kernelï¼Œéœ€è¦å¯¹kernelçš„çº¿ç¨‹å±‚æ¬¡ç»“æ„æœ‰æ¸…æ™°çš„è®¤è¯†ã€‚</p><ul><li>çº¿ç¨‹ç»“æ„çš„ç¬¬ä¸€å±‚æ¬¡ï¼šGPUä¸Šå­˜åœ¨å¤§é‡å¹¶è¡ŒåŒ–çš„è½»é‡çº§çº¿ç¨‹ã€‚å½“kernelåœ¨deviceä¸Šæ‰§è¡Œæ—¶ï¼Œå®é™…ä¸Šæ˜¯å¯åŠ¨äº†å¤§é‡çº¿ç¨‹ï¼Œä¸€ä¸ªkernelå¯åŠ¨çš„æ‰€æœ‰çº¿ç¨‹æ„æˆä¸€ä¸ªç½‘æ ¼ï¼ˆgridï¼‰</li><li>ç¬¬äºŒä¸ªå±‚æ¬¡ï¼šåœ¨åŒä¸€ä¸ªç½‘æ ¼å†…ï¼Œä¸€äº›çº¿ç¨‹å…±äº«ç›¸åŒçš„å…¨å±€å†…å­˜ç©ºé—´ï¼Œç½‘æ ¼è¢«åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹å—ï¼ˆblockï¼‰ä¸€ä¸ªçº¿ç¨‹å—åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚</li><li>ç¬¬ä¸‰ä¸ªå±‚æ¬¡ï¼šåœ¨çº¿ç¨‹å—å†…ï¼Œçº¿ç¨‹è¢«åˆ’åˆ†ä¸ºæ›´å°çš„å•å…ƒï¼Œç§°ä¸ºçº¿ç¨‹ï¼ˆthreadï¼‰ã€‚è¿™æ˜¯GPUä¸Šçš„æœ€ç»†ç²’åº¦çš„å¹¶è¡Œå±‚æ¬¡ã€‚çº¿ç¨‹æ˜¯æ‰§è¡Œè®¡ç®—çš„åŸºæœ¬å•å…ƒï¼Œå®ƒä»¬å…±äº«çº¿ç¨‹å—å†…çš„èµ„æºï¼ŒåŒ…æ‹¬å¯„å­˜å™¨æ–‡ä»¶å’Œå…±äº«å†…å­˜ã€‚é€šè¿‡åˆç†çš„ç»„ç»‡å’ŒååŒå·¥ä½œï¼Œçº¿ç¨‹èƒ½å¤Ÿé«˜æ•ˆåœ°æ‰§è¡Œå„è‡ªçš„ä»»åŠ¡ï¼Œå®ç°æ›´ç»†è‡´çš„å¹¶è¡ŒåŒ–ã€‚</li></ul><p>çº¿ç¨‹çš„å±‚æ¬¡ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥äºŒç»´çš„gridå’Œblockä¸ºä¾‹ã€‚gridå’Œblockéƒ½è¢«å®šä¹‰ä¸º dim3 ç±»å‹çš„å˜é‡ï¼Œdim3 å¯ä»¥çœ‹ä½œåŒ…å«ä¸‰ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆxï¼Œyï¼Œzï¼‰æˆå‘˜çš„ç»“æ„ä½“å˜é‡ï¼Œåœ¨å®šä¹‰æ—¶ï¼Œç¼ºçœå€¼é»˜è®¤ä¸º1ã€‚å› æ­¤ï¼Œgridå’Œblockå¯ä»¥çµæ´»å®šä¹‰ä¸º1ç»´ã€2ç»´æˆ–3ç»´ç»“æ„ã€‚åœ¨CUDAç¼–ç¨‹ä¸­ï¼Œè¿™äº›æ¦‚å¿µå’Œè§„åˆ™æ˜¯å…³é”®ï¼Œå¯¹äºç†è§£å’Œåˆ©ç”¨GPUå¹¶è¡Œè®¡ç®—æä¸ºé‡è¦ã€‚</p><p>è¦è°ƒç”¨kernelï¼Œå¿…é¡»é€šè¿‡æ‰§è¡Œé…ç½® <code>&lt;&lt;&lt;grid, block&gt;&gt;&gt;</code> æ¥æŒ‡å®škernelæ‰€ä½¿ç”¨çš„çº¿ç¨‹æ•°åŠç»“æ„ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">dim3 <span class="token function">grid</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dim3 <span class="token function">block</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>kernel_fun<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> grid<span class="token punctuation">,</span> block <span class="token operator">>></span><span class="token operator">></span><span class="token punctuation">(</span>prams<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312231222160.png" alt="Kernelçš„ä¸¤å±‚çº¿ç¨‹ç»„ç»‡ç»“æ„ï¼ˆ2-dimï¼‰" style="zoom:67%;" /><p>æ‰€ä»¥ï¼Œä¸€ä¸ªçº¿ç¨‹éœ€è¦ä¸¤ä¸ªå†…ç½®çš„åæ ‡å˜é‡ï¼ˆblockIdxï¼ŒthreadIdxï¼‰æ¥å”¯ä¸€æ ‡è¯†ï¼Œå®ƒä»¬éƒ½æ˜¯<code>dim3</code>ç±»å‹å˜é‡ï¼Œå…¶ä¸­blockIdxæŒ‡æ˜çº¿ç¨‹æ‰€åœ¨gridä¸­çš„ä½ç½®ï¼Œè€ŒthreaIdxæŒ‡æ˜çº¿ç¨‹æ‰€åœ¨blockä¸­çš„ä½ç½®ï¼Œå¦‚å›¾ä¸­çš„Thread (1,1)æ»¡è¶³ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">threadIdx<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>threadIdx<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span>blockIdx<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>blockIdx<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨CUDAç¼–ç¨‹ä¸­ï¼Œçº¿ç¨‹å—ï¼ˆblockï¼‰ä¸­çš„çº¿ç¨‹è¢«åˆ†é…åˆ°åŒä¸€ä¸ªæµå¼å¤šå¤„ç†å™¨ï¼ˆSMï¼‰ä¸Šï¼Œä½†æ˜¯æ¯ä¸ªSMçš„èµ„æºæ˜¯æœ‰é™çš„ï¼Œå› æ­¤çº¿ç¨‹å—ä¸­çš„çº¿ç¨‹æ•°é‡å—åˆ°é™åˆ¶ã€‚ç°ä»£GPUæ”¯æŒçš„çº¿ç¨‹å—ä¸­çš„çº¿ç¨‹æ•°é‡é€šå¸¸å¯è¾¾1024ä¸ªã€‚æœ‰æ—¶å€™ï¼Œéœ€è¦çŸ¥é“ä¸€ä¸ªçº¿ç¨‹åœ¨blockä¸­çš„å…¨å±€IDï¼Œè¿™å°±éœ€è¦äº†è§£blockçš„ç»„ç»‡ç»“æ„ï¼Œå¯ä»¥é€šè¿‡çº¿ç¨‹çš„å†…ç½®å˜é‡ blockDim æ¥è·å–ã€‚å®ƒè·å–çº¿ç¨‹å—åœ¨å„ä¸ªç»´åº¦ä¸Šçš„å¤§å°ã€‚å¯¹äºä¸€ä¸ª2ç»´çš„block( D<del>x</del>, D<del>y</del>)ï¼Œçº¿ç¨‹(x, y)çš„IDå€¼ä¸º (x + y * D<del>x</del> )ï¼Œå¦‚æœæ˜¯3ç»´çš„block( D<del>x</del>, D<del>y</del>, D<del>z</del>)ï¼Œçº¿ç¨‹(x, y, z)çš„IDå€¼ä¸º (x + y * D<del>x</del> + z * D<del>x</del> * D<del>y</del>)ã€‚æ­¤å¤–ï¼Œçº¿ç¨‹è¿˜å…·æœ‰å†…ç½®å˜é‡ gridDimï¼Œç”¨äºè·å–ç½‘æ ¼å—åœ¨å„ä¸ªç»´åº¦ä¸Šçš„å¤§å°ã€‚</p><p>kernelçš„è¿™ç§çº¿ç¨‹ç»„ç»‡ç»“æ„å¤©ç„¶é€‚åˆvectorã€matrixç­‰è¿ç®—ï¼Œå¦‚æˆ‘ä»¬å°†åˆ©ç”¨ä¸Šå›¾2-dimç»“æ„å®ç°ä¸¤ä¸ªçŸ©é˜µçš„åŠ æ³•ï¼Œæ¯ä¸ªçº¿ç¨‹è´Ÿè´£å¤„ç†æ¯ä¸ªä½ç½®çš„ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚çº¿ç¨‹å—å¤§å°ä¸º(16, 16)ï¼Œç„¶åå°†N * Nå¤§å°çš„çŸ©é˜µå‡åˆ†ä¸ºä¸åŒçš„çº¿ç¨‹å—æ¥æ‰§è¡ŒåŠ æ³•è¿ç®—ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">__global__ <span class="token keyword">void</span> <span class="token function">matrixAddition</span><span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">float</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> <span class="token keyword">float</span> <span class="token operator">*</span>c<span class="token punctuation">,</span> <span class="token keyword">int</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> blockIdx<span class="token punctuation">.</span>y <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>y <span class="token operator">+</span> threadIdx<span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token keyword">int</span> col <span class="token operator">=</span> blockIdx<span class="token punctuation">.</span>x <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>x <span class="token operator">+</span> threadIdx<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">&lt;</span> N <span class="token operator">&amp;&amp;</span> col <span class="token operator">&lt;</span> N<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> row <span class="token operator">*</span> N <span class="token operator">+</span> col<span class="token punctuation">;</span>        c<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+</span> b<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å…¶ä»–ä»£ç ...</span>    dim3 <span class="token function">blockSize</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dim3 <span class="token function">gridSize</span><span class="token punctuation">(</span><span class="token punctuation">(</span>N <span class="token operator">+</span> blockSize<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span>N <span class="token operator">+</span> blockSize<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    matrixAddition<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>gridSize<span class="token punctuation">,</span> blockSize<span class="token operator">>></span><span class="token operator">></span><span class="token punctuation">(</span>device_a<span class="token punctuation">,</span> device_b<span class="token punctuation">,</span> device_c<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å…¶ä»–ä»£ç ...</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œkernelå‡½æ•° matrixAddition å®ç°äº†çŸ©é˜µåŠ æ³•æ“ä½œã€‚é€šè¿‡è®¡ç®—æ¯ä¸ªçº¿ç¨‹çš„è¡Œåˆ—ç´¢å¼•ï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹ä»…å¤„ç†æœ‰æ•ˆçš„çŸ©é˜µå…ƒç´ ã€‚ä¸»å‡½æ•°ä¸­ï¼Œæ ¹æ®çŸ©é˜µå¤§å° N å’Œè®¾å®šçš„çº¿ç¨‹å—å¤§å°ï¼Œè®¡ç®—å‡ºé€‚å½“çš„ grid å’Œ block å°ºå¯¸ï¼Œå¹¶è°ƒç”¨ kernel å‡½æ•°æ‰§è¡ŒçŸ©é˜µåŠ æ³•ã€‚</p><h3 id="å†…å­˜æ¨¡å‹"><a href="#å†…å­˜æ¨¡å‹" class="headerlink" title="å†…å­˜æ¨¡å‹"></a>å†…å­˜æ¨¡å‹</h3><p>è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹CUDAçš„å†…å­˜æ¨¡å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312232011569.png" alt="CUDAå†…å­˜æ¨¡å‹" style="zoom: 67%;" /><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ç§æœ‰æœ¬åœ°å†…å­˜ï¼ˆLocal Memoryï¼‰ï¼Œè€Œæ¯ä¸ªçº¿ç¨‹å—æœ‰åŒ…å«å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰,å¯ä»¥è¢«çº¿ç¨‹å—ä¸­æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹å—ä¸€è‡´ã€‚æ­¤å¤–ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å…¨å±€å†…å­˜ï¼ˆGlobal Memoryï¼‰ã€‚è¿˜å¯ä»¥è®¿é—®ä¸€äº›åªè¯»å†…å­˜å—ï¼šå¸¸é‡å†…å­˜ï¼ˆConstant Memoryï¼‰å’Œçº¹ç†å†…å­˜ï¼ˆTexture Memoryï¼‰</p><p>è¿™äº›å†…å­˜ç±»å‹çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ç§æœ‰æœ¬åœ°å†…å­˜ï¼ˆLocal Memoryï¼‰</strong>ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç§æœ‰æœ¬åœ°å†…å­˜ï¼Œç”¨äºå­˜å‚¨çº¿ç¨‹ç§æœ‰çš„å˜é‡å’Œæ•°æ®ã€‚è¿™äº›å˜é‡é€šå¸¸æ˜¯åœ¨å¯„å­˜å™¨ä¸è¶³æ—¶æˆ–è€…åŠ¨æ€åˆ†é…å†…å­˜æ—¶ä½¿ç”¨ã€‚è®¿é—®æœ¬åœ°å†…å­˜çš„é€Ÿåº¦è¾ƒæ…¢ï¼Œå› æ­¤éœ€è¦å°½é‡å‡å°‘å¯¹æœ¬åœ°å†…å­˜çš„è®¿é—®ï¼Œä»¥æé«˜æ€§èƒ½ã€‚</p></li><li><p><strong>å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰</strong>ï¼šæ¯ä¸ªçº¿ç¨‹å—éƒ½æ‹¥æœ‰å…±äº«å†…å­˜ï¼Œå®ƒå¯ä»¥è¢«è¯¥çº¿ç¨‹å—ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚å…±äº«å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹å—ä¸€è‡´ï¼Œå¯¹äºéœ€è¦åœ¨çº¿ç¨‹å—å†…å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«çš„æ•°æ®ï¼Œå¯ä»¥å­˜å‚¨åœ¨å…±äº«å†…å­˜ä¸­ã€‚å…±äº«å†…å­˜çš„è®¿é—®é€Ÿåº¦æ¯”å…¨å±€å†…å­˜å¿«å¾—å¤šï¼Œå› æ­¤å¯ä»¥ç”¨äºæé«˜çº¿ç¨‹å—å†…çš„æ•°æ®è®¿é—®æ•ˆç‡å’Œå¹¶è¡Œè®¡ç®—é€Ÿåº¦ã€‚</p></li><li><p><strong>å…¨å±€å†…å­˜ï¼ˆGlobal Memoryï¼‰</strong>ï¼šæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®å…¨å±€å†…å­˜ï¼Œå®ƒæ˜¯GPUä¸­å®¹é‡æœ€å¤§çš„å†…å­˜ç±»å‹ã€‚å…¨å±€å†…å­˜é€šå¸¸ç”¨äºå­˜å‚¨æ•´ä¸ªç¨‹åºçš„æ•°æ®ï¼Œä½†å…¶è®¿é—®é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚å› æ­¤ï¼Œåœ¨CUDAç¼–ç¨‹ä¸­ï¼Œéœ€è¦è°¨æ…ä¼˜åŒ–å…¨å±€å†…å­˜çš„è®¿é—®ï¼Œä»¥æœ€å¤§åŒ–æ€§èƒ½ã€‚</p></li><li><p><strong>å¸¸é‡å†…å­˜ï¼ˆConstant Memoryï¼‰</strong>ï¼šå¸¸é‡å†…å­˜ç”¨äºå­˜å‚¨å¯¹æ‰€æœ‰çº¿ç¨‹åªè¯»çš„æ•°æ®ï¼Œå…¶ç‰¹ç‚¹æ˜¯å…·æœ‰ç¼“å­˜ï¼Œæä¾›å¯¹åªè¯»å†…å­˜çš„å¿«é€Ÿè®¿é—®ï¼Œé€‚ç”¨äºçº¿ç¨‹å†…çš„æ•°æ®å…±äº«ã€‚</p></li><li><p><strong>çº¹ç†å†…å­˜ï¼ˆTexture Memoryï¼‰</strong>ï¼šçº¹ç†å†…å­˜æ˜¯ä¸€ç§ç‰¹æ®Šçš„åªè¯»å†…å­˜ï¼Œé€‚ç”¨äºå›¾å½¢å¤„ç†é¢†åŸŸï¼Œæä¾›å¯¹æ•°æ®çš„é«˜æ•ˆè®¿é—®å’Œæ’å€¼ã€‚å®ƒé€šå¸¸ç”¨äºå›¾åƒå¤„ç†ç­‰åº”ç”¨åœºæ™¯ã€‚</p></li></ol><p>CUDAå†…å­˜æ¨¡å‹ä¸­ä¸åŒç±»å‹çš„å†…å­˜å…·æœ‰ä¸åŒçš„è®¿é—®ç‰¹æ€§å’Œé€Ÿåº¦ï¼Œåˆç†åœ°åˆ©ç”¨å’Œç®¡ç†è¿™äº›å†…å­˜ç±»å‹å¯ä»¥å¯¹CUDAç¨‹åºçš„æ€§èƒ½äº§ç”Ÿæ˜¾è‘—å½±å“ã€‚ä¼˜åŒ–å†…å­˜è®¿é—®æ˜¯CUDAç¼–ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦æ–¹é¢ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p><h3 id="ç¡¬ä»¶è®¤è¯†"><a href="#ç¡¬ä»¶è®¤è¯†" class="headerlink" title="ç¡¬ä»¶è®¤è¯†"></a>ç¡¬ä»¶è®¤è¯†</h3><p>è¿˜æœ‰é‡è¦ä¸€ç‚¹ï¼Œä½ éœ€è¦å¯¹GPUçš„ç¡¬ä»¶å®ç°æœ‰ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ã€‚ä¸Šé¢è¯´åˆ°äº†kernelçš„çº¿ç¨‹ç»„ç»‡å±‚æ¬¡ï¼Œé‚£ä¹ˆä¸€ä¸ªkernelå®é™…ä¸Šä¼šå¯åŠ¨å¾ˆå¤šçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹æ˜¯é€»è¾‘ä¸Šå¹¶è¡Œçš„ï¼Œä½†æ˜¯åœ¨ç‰©ç†å±‚å´å¹¶ä¸ä¸€å®šã€‚</p><p>åœ¨GPUç¡¬ä»¶ä¸­ï¼Œä¸€ä¸ªå…³é”®ç»„ä»¶æ˜¯SMï¼ˆStreaming Multiprocessorï¼Œæµå¼å¤šå¤„ç†å™¨ï¼‰ã€‚SMåŒ…å«CUDAæ ¸å¿ƒã€å…±äº«å†…å­˜ã€å¯„å­˜å™¨ç­‰ã€‚SMèƒ½å¤ŸåŒæ—¶æ‰§è¡Œæ•°ç™¾ä¸ªçº¿ç¨‹ï¼Œå…¶å¹¶å‘èƒ½åŠ›å–å†³äºSMæ‹¥æœ‰çš„èµ„æºæ•°é‡ã€‚å½“ä¸€ä¸ªkernelè¢«æ‰§è¡Œæ—¶ï¼Œå…¶çº¿ç¨‹å—è¢«åˆ†é…åˆ°SMä¸Šã€‚ä¸€ä¸ªçº¿ç¨‹å—åªèƒ½åœ¨ä¸€ä¸ªSMä¸Šè¢«è°ƒåº¦ï¼Œè€Œä¸€ä¸ªSMé€šå¸¸èƒ½å¤Ÿè°ƒåº¦å¤šä¸ªçº¿ç¨‹å—ï¼Œè¿™å–å†³äºSMæœ¬èº«çš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œä¸€ä¸ªkernelçš„çº¿ç¨‹å—å¯èƒ½è¢«åˆ†é…åˆ°å¤šä¸ªSMä¸Šï¼Œæ‰€ä»¥gridåªæ˜¯é€»è¾‘å±‚ï¼Œè€ŒSMæ‰æ˜¯æ‰§è¡Œçš„ç‰©ç†å±‚ã€‚</p><p>SMé‡‡ç”¨çš„æ˜¯<a href="https://link.zhihu.com/?target=http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html%23simt-architecture">SIMT</a> (Single-Instruction, Multiple-Threadï¼Œå•æŒ‡ä»¤å¤šçº¿ç¨‹)æ¶æ„ï¼ŒåŸºæœ¬çš„æ‰§è¡Œå•å…ƒæ˜¯çº¿ç¨‹æŸï¼ˆwarps)ï¼Œæ¯ä¸ªçº¿ç¨‹æŸåŒ…å«32ä¸ªçº¿ç¨‹ã€‚è¿™äº›çº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œä½†æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æŒ‡ä»¤åœ°å€è®¡æ•°å™¨å’Œå¯„å­˜å™¨çŠ¶æ€ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„ã€‚å› æ­¤ï¼Œå°½ç®¡çº¿ç¨‹æŸä¸­çš„çº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œä½†å®ƒä»¬å¯èƒ½å…·æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨é‡åˆ°åˆ†æ”¯ç»“æ„æ—¶ï¼Œå¯èƒ½å¯¼è‡´ä¸€äº›çº¿ç¨‹è¿›å…¥åˆ†æ”¯ï¼Œè€Œå…¶ä»–çº¿ç¨‹ä¸æ‰§è¡Œï¼Œè¿™äº›éæ‰§è¡Œçš„çº¿ç¨‹åªèƒ½ç­‰å¾…ï¼Œå› ä¸ºGPUè§„å®šçº¿ç¨‹æŸä¸­æ‰€æœ‰çº¿ç¨‹åœ¨åŒä¸€å‘¨æœŸæ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤ï¼Œçº¿ç¨‹æŸåˆ†åŒ–ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</p><p>å½“ä¸€ä¸ªçº¿ç¨‹å—è¢«åˆ’åˆ†åˆ°SMä¸Šæ—¶ï¼Œå®ƒä¼šè¿›ä¸€æ­¥åˆ’åˆ†ä¸ºå¤šä¸ªçº¿ç¨‹æŸï¼Œå› ä¸ºè¿™æ‰æ˜¯SMçš„åŸºæœ¬æ‰§è¡Œå•å…ƒã€‚ç„¶è€Œï¼Œä¸€ä¸ªSMåŒæ—¶å¹¶å‘çš„çº¿ç¨‹æŸæ•°é‡æ˜¯æœ‰é™çš„ï¼Œè¿™å—é™äºèµ„æºåˆ†é…ï¼Œå› ä¸ºSMè¦ä¸ºæ¯ä¸ªçº¿ç¨‹å—åˆ†é…å…±äº«å†…å­˜ï¼Œå¹¶ä¸ºæ¯ä¸ªçº¿ç¨‹æŸä¸­çš„çº¿ç¨‹åˆ†é…ç‹¬ç«‹çš„å¯„å­˜å™¨ã€‚å› æ­¤ï¼ŒSMçš„é…ç½®ä¼šå½±å“å…¶æ‰€æ”¯æŒçš„çº¿ç¨‹å—å’Œçº¿ç¨‹æŸçš„å¹¶å‘æ•°é‡ã€‚æ€»çš„æ¥è¯´ï¼Œè™½ç„¶kernelçš„gridå’Œblockåªæ˜¯é€»è¾‘ä¸Šçš„åˆ’åˆ†ï¼Œä½†åœ¨ç‰©ç†å±‚é¢ï¼Œä¸€ä¸ªkernelçš„æ‰€æœ‰çº¿ç¨‹å¹¶éä¸€å®šåŒæ—¶å¹¶å‘ã€‚å› æ­¤ï¼Œéœ€è¦æ³¨æ„è°ƒæ•´gridå’Œblockçš„é…ç½®ï¼Œä»¥å……åˆ†å‘æŒ¥GPUçš„æ€§èƒ½ã€‚æ­¤å¤–ï¼Œç”±äºçº¿ç¨‹æŸçš„åŸºæœ¬å¤§å°æ˜¯32ï¼Œå› æ­¤blockå¤§å°æœ€å¥½è®¾ç½®ä¸º32çš„å€æ•°ã€‚</p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312232017228.png" alt="é€»è¾‘å±‚å’Œç‰©ç†å±‚" style="zoom:67%;" /><h3 id="ä¸ªäººé…ç½®"><a href="#ä¸ªäººé…ç½®" class="headerlink" title="ä¸ªäººé…ç½®"></a>ä¸ªäººé…ç½®</h3><p>åœ¨è¿›è¡ŒCUDAç¼–ç¨‹å‰ï¼Œå¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹è‡ªå·±çš„GPUç¡¬ä»¶é…ç½®ï¼Œè¿™æ ·æ‰èƒ½æœ‰çš„æ”¾çŸ¢ï¼Œé€šè¿‡ä»¥ä¸‹ä»£ç è·å¾—GPUçš„é…ç½®å±æ€§ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cuda_runtime.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    cudaDeviceProp deviceProp<span class="token punctuation">;</span>    <span class="token function">cudaGetDeviceProperties</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>deviceProp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Device 0 information:\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è®¾å¤‡åç§°ä¸å‹å·: %s\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ˜¾å­˜å¤§å°: %d MB\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>deviceProp<span class="token punctuation">.</span>totalGlobalMem <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—èƒ½åŠ›: %d.%d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>major<span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>minor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å«æœ‰çš„SMæ•°é‡: %d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>multiProcessorCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"CUDA COREæ•°é‡: %d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>multiProcessorCount <span class="token operator">*</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ¯ä¸ªçº¿ç¨‹å—çš„å…±äº«å†…å­˜å¤§å°: %.2f KB\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>sharedMemPerBlock <span class="token operator">/</span> <span class="token number">1024.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ¯ä¸ªçº¿ç¨‹å—çš„æœ€å¤§çº¿ç¨‹æ•°: %d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>maxThreadsPerBlock<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ¯ä¸ªEMçš„æœ€å¤§çº¿ç¨‹æ•°: %d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>maxThreadsPerMultiProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ¯ä¸ªSMçš„æœ€å¤§çº¿ç¨‹æŸæ•°: %d\n"</span><span class="token punctuation">,</span> deviceProp<span class="token punctuation">.</span>maxThreadsPerMultiProcessor <span class="token operator">/</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘é‡åŠ æ³•å®ä¾‹"><a href="#å‘é‡åŠ æ³•å®ä¾‹" class="headerlink" title="å‘é‡åŠ æ³•å®ä¾‹"></a>å‘é‡åŠ æ³•å®ä¾‹</h2><p>çŸ¥é“äº†CUDAç¼–ç¨‹åŸºç¡€ï¼Œæˆ‘ä»¬å°±æ¥ä¸ªç®€å•çš„å®æˆ˜ï¼Œåˆ©ç”¨CUDAç¼–ç¨‹å®ç°ä¸¤ä¸ªå‘é‡çš„åŠ æ³•ï¼Œåœ¨å®ç°ä¹‹å‰ï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹CUDAç¼–ç¨‹ä¸­å†…å­˜ç®¡ç†APIã€‚</p><p>åœ¨CUDAç¼–ç¨‹ä¸­ï¼Œå†…å­˜ç®¡ç†æ˜¯è‡³å…³é‡è¦çš„ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å†…å­˜ç®¡ç†å‡½æ•°çš„ç®€è¦ä»‹ç»ï¼š</p><ol><li><p><strong>cudaMalloc() å‡½æ•°</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cudaError_t <span class="token function">cudaMalloc</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span> devPtr<span class="token punctuation">,</span> size_t size<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>cudaMalloc</code> ç”¨äºåœ¨è®¾å¤‡ï¼ˆGPUï¼‰ä¸Šåˆ†é…å†…å­˜ã€‚å®ƒç±»ä¼¼äºCè¯­è¨€ä¸­çš„ <code>malloc()</code> å‡½æ•°ï¼Œä½†æ˜¯åœ¨GPUçš„å…¨å±€å†…å­˜ä¸­åˆ†é…å†…å­˜ã€‚<code>devPtr</code> æ˜¯æŒ‡å‘åˆ†é…å†…å­˜èµ·å§‹ä½ç½®çš„æŒ‡é’ˆï¼Œ<code>size</code> è¡¨ç¤ºè¦åˆ†é…çš„å†…å­˜å­—èŠ‚æ•°ã€‚åˆ†é…æˆåŠŸæ—¶è¿”å› <code>cudaSuccess</code>ï¼Œå¦åˆ™è¿”å›ç›¸åº”çš„é”™è¯¯ç ã€‚éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨å®Œå†…å­˜åï¼Œå¿…é¡»ä½¿ç”¨ <code>cudaFree()</code> å‡½æ•°é‡Šæ”¾ç›¸åº”çš„è®¾å¤‡å†…å­˜ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</p><p>è¿™ä¸ªå‡½æ•°å’ŒCè¯­è¨€ä¸­çš„mallocç±»ä¼¼ï¼Œä½†æ˜¯åœ¨deviceä¸Šç”³è¯·ä¸€å®šå­—èŠ‚å¤§å°çš„æ˜¾å­˜ï¼Œå…¶ä¸­devPtræ˜¯æŒ‡å‘æ‰€åˆ†é…å†…å­˜çš„æŒ‡é’ˆã€‚</p><p>åŒæ—¶è¦é‡Šæ”¾åˆ†é…çš„å†…å­˜ä½¿ç”¨cudaFreeå‡½æ•°ï¼Œè¿™å’ŒCè¯­è¨€ä¸­çš„freeå‡½æ•°å¯¹åº”ã€‚</p></li><li><p><strong>cudaFree() å‡½æ•°</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cudaError_t <span class="token function">cudaFree</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> devPtr<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>cudaFree</code> ç”¨äºé‡Šæ”¾ä¹‹å‰ç”± <code>cudaMalloc</code> åˆ†é…çš„è®¾å¤‡å†…å­˜ã€‚ä¼ å…¥çš„å‚æ•° <code>devPtr</code> æ˜¯ä¹‹å‰åˆ†é…çš„è®¾å¤‡å†…å­˜çš„æŒ‡é’ˆã€‚é‡Šæ”¾æˆåŠŸæ—¶è¿”å› <code>cudaSuccess</code>ï¼Œå¦åˆ™è¿”å›ç›¸åº”çš„é”™è¯¯ç ã€‚</p></li><li><p><strong>cudaMemcpy() å‡½æ•°</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">cudaError_t <span class="token function">cudaMemcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dst<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> src<span class="token punctuation">,</span> size_t count<span class="token punctuation">,</span> cudaMemcpyKind kind<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>cudaMemcpy</code> ç”¨äºåœ¨ä¸»æœºï¼ˆhostï¼‰å’Œè®¾å¤‡ï¼ˆdeviceï¼‰ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚å®ƒå¯ä»¥æ§åˆ¶æ•°æ®çš„å¤åˆ¶æ–¹å‘ï¼Œä¾‹å¦‚ä»ä¸»æœºåˆ°è®¾å¤‡ã€ä»è®¾å¤‡åˆ°ä¸»æœºã€è®¾å¤‡åˆ°è®¾å¤‡ç­‰ã€‚<code>dst</code> å’Œ <code>src</code> åˆ†åˆ«æ˜¯ç›®æ ‡å’Œæºçš„æŒ‡é’ˆï¼Œ<code>count</code>è¡¨ç¤ºè¦å¤åˆ¶çš„å­—èŠ‚æ•°ï¼Œ<code>kind</code>æŒ‡å®šäº†æ•°æ®ä¼ è¾“çš„æ–¹å‘ã€‚å¸¸ç”¨çš„ä¼ è¾“æ–¹å‘æœ‰ï¼š<code>cudaMemcpyHostToHost</code>ã€<code>cudaMemcpyHostToDevice</code>ã€<code>cudaMemcpyDeviceToHost</code>ã€<code>cudaMemcpyDeviceToDevice</code>ï¼Œæ ¹æ®è‹±æ–‡å³å¯çŸ¥é“ä¼ è¾“æ–¹å‘ã€‚</p></li></ol><p>åœ¨CUDAç¨‹åºä¸­ï¼Œåˆç†ä½¿ç”¨è¿™äº›å‡½æ•°è¿›è¡Œå†…å­˜åˆ†é…å’Œæ•°æ®ä¼ è¾“æ˜¯ä¿è¯ç¨‹åºæ­£ç¡®æ€§å’Œæ€§èƒ½çš„é‡è¦ä¸€æ­¥ã€‚</p><p>ç°åœ¨æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå‘é‡åŠ æ³•çš„å®ä¾‹ï¼Œè¿™é‡Œgridå’Œblockéƒ½è®¾è®¡ä¸º1-dimï¼Œé¦–å…ˆå®šä¹‰kernelå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// ä¸¤ä¸ªå‘é‡åŠ æ³•kernelï¼Œgridå’Œblockå‡ä¸ºä¸€ç»´</span>__global__ <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span> <span class="token operator">*</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">*</span> z<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// è·å–å…¨å±€ç´¢å¼•</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> threadIdx<span class="token punctuation">.</span>x <span class="token operator">+</span> blockIdx<span class="token punctuation">.</span>x <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token comment">// æ­¥é•¿</span>    <span class="token keyword">int</span> stride <span class="token operator">=</span> blockDim<span class="token punctuation">.</span>x <span class="token operator">*</span> gridDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">+=</span> stride<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­strideæ˜¯æ•´ä¸ªgridçš„çº¿ç¨‹æ•°ï¼Œæœ‰æ—¶å€™å‘é‡çš„å…ƒç´ æ•°å¾ˆå¤šï¼Œè¿™æ—¶å€™å¯ä»¥å°†åœ¨æ¯ä¸ªçº¿ç¨‹å®ç°å¤šä¸ªå…ƒç´ ï¼ˆå…ƒç´ æ€»æ•°&#x2F;çº¿ç¨‹æ€»æ•°ï¼‰çš„åŠ æ³•ï¼Œç›¸å½“äºä½¿ç”¨äº†å¤šä¸ªgridæ¥å¤„ç†ï¼Œè¿™æ˜¯ä¸€ç§<a href="https://link.zhihu.com/?target=https://devblogs.nvidia.com/cuda-pro-tip-write-flexible-kernels-grid-stride-loops/">grid-stride loop</a>æ–¹å¼ï¼Œä¸è¿‡ä¸‹é¢çš„ä¾‹å­ä¸€ä¸ªçº¿ç¨‹åªå¤„ç†ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥kernelé‡Œé¢çš„å¾ªç¯æ˜¯ä¸æ‰§è¡Œçš„ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å‘é‡åŠ æ³•ç¤ºä¾‹ï¼Œä½¿ç”¨CUDAç¼–ç¨‹ä¸­çš„åŸºæœ¬æ¦‚å¿µå’Œå‡½æ•°è¿›è¡Œå‘é‡ç›¸åŠ æ“ä½œï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cuda_runtime.h></span></span><span class="token comment">// ä¸¤ä¸ªå‘é‡åŠ æ³•kernelï¼Œgridå’Œblockå‡ä¸ºä¸€ç»´</span>__global__ <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">*</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">*</span> z<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// è·å–å…¨å±€ç´¢å¼•</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> threadIdx<span class="token punctuation">.</span>x <span class="token operator">+</span> blockIdx<span class="token punctuation">.</span>x <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token comment">// æ­¥é•¿</span>    <span class="token keyword">int</span> stride <span class="token operator">=</span> blockDim<span class="token punctuation">.</span>x <span class="token operator">*</span> gridDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">+=</span> stride<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// å‘é‡å¤§å°</span>    <span class="token keyword">int</span> nBytes <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token keyword">float</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token operator">*</span>z<span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰ä¸»æœºä¸Šçš„å‘é‡æŒ‡é’ˆ</span>    <span class="token keyword">float</span> <span class="token operator">*</span>dev_x<span class="token punctuation">,</span> <span class="token operator">*</span>dev_y<span class="token punctuation">,</span> <span class="token operator">*</span>dev_z<span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰è®¾å¤‡ä¸Šçš„å‘é‡æŒ‡é’ˆ</span>    <span class="token comment">// åœ¨ä¸»æœºä¸Šåˆ†é…å†…å­˜</span>    x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    z <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨è®¾å¤‡ä¸Šåˆ†é…å†…å­˜</span>    <span class="token function">cudaMalloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>dev_x<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMalloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>dev_y<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMalloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>dev_z<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆå§‹åŒ–ä¸»æœºä¸Šçš„å‘é‡æ•°æ®</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>        y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2.0f</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å°†ä¸»æœºä¸Šçš„å‘é‡æ•°æ®å¤åˆ¶åˆ°è®¾å¤‡</span>    <span class="token function">cudaMemcpy</span><span class="token punctuation">(</span>dev_x<span class="token punctuation">,</span> x<span class="token punctuation">,</span> nBytes<span class="token punctuation">,</span> cudaMemcpyHostToDevice<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMemcpy</span><span class="token punctuation">(</span>dev_y<span class="token punctuation">,</span> y<span class="token punctuation">,</span> nBytes<span class="token punctuation">,</span> cudaMemcpyHostToDevice<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å®šä¹‰ grid å’Œ block çš„å¤§å°</span>    <span class="token keyword">int</span> blockSize <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> numBlocks <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> blockSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">;</span>    <span class="token comment">// è°ƒç”¨ kernel å‡½æ•°</span>    add<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>numBlocks<span class="token punctuation">,</span> blockSize<span class="token operator">>></span><span class="token operator">></span><span class="token punctuation">(</span>dev_x<span class="token punctuation">,</span> dev_y<span class="token punctuation">,</span> dev_z<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å°†è®¾å¤‡ä¸Šçš„ç»“æœå¤åˆ¶å›ä¸»æœº</span>    <span class="token function">cudaMemcpy</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> dev_z<span class="token punctuation">,</span> nBytes<span class="token punctuation">,</span> cudaMemcpyDeviceToHost<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// éªŒè¯ç»“æœ</span>    <span class="token keyword">float</span> maxError <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        maxError <span class="token operator">=</span> <span class="token function">fmaxf</span><span class="token punctuation">(</span>maxError<span class="token punctuation">,</span> <span class="token function">fabsf</span><span class="token punctuation">(</span>z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æœ€å¤§è¯¯å·®: %f\n"</span><span class="token punctuation">,</span> maxError<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// é‡Šæ”¾è®¾å¤‡å’Œä¸»æœºä¸Šçš„å†…å­˜</span>    <span class="token function">cudaFree</span><span class="token punctuation">(</span>dev_x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaFree</span><span class="token punctuation">(</span>dev_y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaFree</span><span class="token punctuation">(</span>dev_z<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç å®ç°äº†å‘é‡åŠ æ³•æ“ä½œï¼Œå®ƒä½¿ç”¨äº†CUDAçš„æ ¸å‡½æ•° <code>add</code>ï¼Œå°†ä¸¤ä¸ªå‘é‡ <code>x</code> å’Œ <code>y</code> ç›¸åŠ å¾—åˆ°ç»“æœå‘é‡ <code>z</code>ã€‚åœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´è¿›è¡Œå†…å­˜åˆ†é…ã€æ•°æ®ä¼ è¾“å’Œæ ¸å‡½æ•°è°ƒç”¨ï¼Œæœ€åå°†ç»“æœä»è®¾å¤‡å¤åˆ¶å›ä¸»æœºè¿›è¡ŒéªŒè¯ã€‚è¿™é‡Œçš„å‘é‡å¤§å°ä¸º1&lt;&lt;20ï¼Œè€Œblockå¤§å°ä¸º256ï¼Œgridå¤§å°æ˜¯4096ï¼Œkernelçš„çº¿ç¨‹å±‚çº§ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312232141601.png" alt="kernelçš„çº¿ç¨‹å±‚æ¬¡ç»“æ„"></p><h2 id="nvprof"><a href="#nvprof" class="headerlink" title="nvprof"></a>nvprof</h2><p>NVIDIA nvprof &#x2F; nvvpå·¥å…·æ˜¯è‹±ä¼Ÿè¾¾Nå¡GPUç¼–ç¨‹ä¸­ç”¨äºè§‚å¯Ÿçš„åˆ©å™¨ã€‚å…¨ç§°æ˜¯NVIDIA Visual Profilerï¼Œæ˜¯ç”±2008å¹´èµ·å¼€å§‹æ”¯æŒçš„æ€§èƒ½åˆ†æå™¨ã€‚äº¤äº’æ€§å¥½ï¼Œåˆ©äºä½¿ç”¨ã€‚å…¶ä¸­è®°å½•è¿è¡Œæ—¥å¿—æ—¶ä½¿ç”¨å‘½ä»¤nvprofï¼Œå¯è§†åŒ–æ˜¾ç¤ºæ—¥å¿—æ—¶ä½¿ç”¨å‘½ä»¤nvvpã€‚</p><p>ä¸è¿‡åœ¨æœ€è¿‘å‡ å¹´ï¼Œè‹±ä¼Ÿè¾¾å®˜æ–¹æ¨å‡ºäº†æ–°çš„æ€§èƒ½åˆ†æå·¥å…·NSightï¼Œå®˜æ–¹æ›´åŠ å»ºè®®ä½¿ç”¨æ–°çš„å·¥å…·ï¼Œç»™å‡ºçš„åŸå› æ˜¯NSightè¿è¡Œæ—¶æ¶ˆè€—çš„èµ„æºæ›´å°‘ï¼Œç»Ÿè®¡çš„æ•°æ®æ›´åŠ è´´è¿‘å®é™…è¿è¡Œæƒ…å†µçš„æ•°æ®ã€‚ç›¸æ¯”ä¹‹ä¸‹ä½¿ç”¨nvprof&#x2F;nvvpæ–¹å¼è¿è¡Œæ—¶æ¶ˆè€—èµ„æºè¾ƒå¤šï¼Œæ•°æ®ç»Ÿè®¡å®¹æ˜“ä¸å‡†ç¡®ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><code>nvprof</code> æ˜¯ NVIDIA æä¾›çš„ä¸€ä¸ªç”¨äºåˆ†æ CUDA åº”ç”¨ç¨‹åºæ€§èƒ½çš„å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥ç”¨æ¥æ”¶é›†å’Œåˆ†æ CUDA åº”ç”¨ç¨‹åºçš„æ€§èƒ½æ•°æ®ï¼ŒåŒ…æ‹¬æ ¸å‡½æ•°æ‰§è¡Œæ—¶é—´ã€å†…å­˜ä½¿ç”¨æƒ…å†µç­‰ã€‚</p><p>ä½¿ç”¨ <code>nvprof</code> å·¥å…·æ¥åˆ†æ CUDA æ ¸å‡½æ•°è¿è¡Œæƒ…å†µçš„åŸºæœ¬æ­¥éª¤ï¼š</p><ol><li><p><strong>ç¼–è¯‘ä»£ç </strong>ï¼šé¦–å…ˆï¼Œç¡®ä¿ä»£ç å·²ç»è¢«ç¼–è¯‘æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p></li><li><p>**è¿è¡Œ <code>nvprof</code>**ï¼šåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>nvprof</code> å¹¶æŒ‡å®šè¦åˆ†æçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvprof ./your_executable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å°†å¯åŠ¨æ‚¨çš„ CUDA å¯æ‰§è¡Œæ–‡ä»¶å¹¶å¼€å§‹æ”¶é›†æ€§èƒ½æ•°æ®ã€‚</p></li><li><p><strong>æŸ¥çœ‹åˆ†æç»“æœ</strong>ï¼š<code>nvprof</code> ä¼šè¾“å‡ºæ ¸å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ã€å†…å­˜ä½¿ç”¨æƒ…å†µç­‰ç›¸å…³ä¿¡æ¯ã€‚é€šå¸¸ï¼Œæ‚¨å¯ä»¥åœ¨è¾“å‡ºä¸­æ‰¾åˆ°æœ‰å…³æ ¸å‡½æ•°æ‰§è¡Œæ—¶é—´ã€å†…å­˜ä¼ è¾“æ—¶é—´ã€èµ„æºä½¿ç”¨æƒ…å†µç­‰æ–¹é¢çš„è¯¦ç»†ä¿¡æ¯ã€‚è¯¥è¾“å‡ºå¯ä»¥å¸®åŠ©æ‚¨ç¡®å®šå“ªäº›éƒ¨åˆ†çš„ä»£ç å¯èƒ½éœ€è¦ä¼˜åŒ–æˆ–å“ªäº›æ“ä½œå ç”¨äº†è¾ƒå¤šçš„æ—¶é—´å’Œèµ„æºã€‚</p></li><li><p><strong>é€‰æ‹©ç‰¹å®šçš„åˆ†æé€‰é¡¹</strong>ï¼š<code>nvprof</code> è¿˜æä¾›äº†è®¸å¤šé€‰é¡¹ï¼Œå¯ç”¨äºæŒ‡å®šæ”¶é›†çš„æ•°æ®ç±»å‹ã€è¾“å‡ºæ ¼å¼ã€åˆ†æèŒƒå›´ç­‰ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ä¸åŒçš„é€‰é¡¹è¿›è¡Œè¯¦ç»†çš„åˆ†æã€‚</p></li></ol><p>ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ <code>nvprof</code> å¯¹ç¤ºä¾‹ç¨‹åºè¿›è¡Œåˆ†æï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvprof ./your_executable<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¼šæ”¶é›†å¹¶æ˜¾ç¤ºæœ‰å…³æ‚¨çš„ CUDA å¯æ‰§è¡Œæ–‡ä»¶çš„åŸºæœ¬æ€§èƒ½æ•°æ®ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–é€‰é¡¹æ¥è¿›è¡Œæ›´è¯¦ç»†çš„åˆ†æï¼Œä¾‹å¦‚æ”¶é›†å†…å­˜ä¿¡æ¯ã€æŒ‡å®šè¦åˆ†æçš„æ ¸å‡½æ•°ç­‰ç­‰ã€‚å¯ä»¥é€šè¿‡ <code>nvprof --help</code> æŸ¥çœ‹æ›´å¤šå¯ç”¨é€‰é¡¹çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>nvprof</code> æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ·±å…¥äº†è§£ CUDA åº”ç”¨ç¨‹åºçš„æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–æœºä¼šã€‚</p><p>ä½¿ç”¨nvprofå·¥å…·å¯ä»¥åˆ†ækernelè¿è¡Œæƒ…å†µï¼Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°kernelå‡½æ•°è´¹æ—¶çº¦1.5msã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">nvprof cuda9.exe==7244== NVPROF is profiling process 7244, command: cuda9.exeæœ€å¤§è¯¯å·®: 4.31602e+008==7244== Profiling application: cuda9.exe==7244== Profiling result:            Type  Time(%)      Time     Calls       Avg       Min       Max  Name GPU activities:   67.57%  3.2256ms         2  1.6128ms  1.6017ms  1.6239ms  [CUDA memcpy HtoD]                   32.43%  1.5478ms         1  1.5478ms  1.5478ms  1.5478ms  add(float*, float*, float*, int)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ è°ƒæ•´blockçš„å¤§å°ï¼Œå¯¹æ¯”ä¸åŒé…ç½®ä¸‹çš„kernelè¿è¡Œæƒ…å†µï¼Œæˆ‘è¿™é‡Œæµ‹è¯•çš„æ˜¯å½“blockä¸º128æ—¶ï¼Œkernelè´¹æ—¶çº¦1.6msï¼Œè€Œblockä¸º512æ—¶kernelè´¹æ—¶çº¦1.7msï¼Œå½“blockä¸º64æ—¶ï¼Œkernelè´¹æ—¶çº¦2.3msã€‚çœ‹æ¥ä¸æ˜¯blockè¶Šå¤§è¶Šå¥½ï¼Œè€Œè¦é€‚å½“é€‰æ‹©ã€‚</p><h2 id="ç»Ÿä¸€å†…å­˜ç®¡ç†"><a href="#ç»Ÿä¸€å†…å­˜ç®¡ç†" class="headerlink" title="ç»Ÿä¸€å†…å­˜ç®¡ç†"></a>ç»Ÿä¸€å†…å­˜ç®¡ç†</h2><p>åœ¨å‰é¢çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬åœ¨hostå’Œdeviceä¸Šè¿›è¡Œå†…å­˜åˆ†é…ï¼Œå¹¶ä¸”è¦è¿›è¡Œæ•°æ®æ‹·è´ï¼Œè¿™æ˜¯å¾ˆå®¹æ˜“å‡ºé”™çš„ã€‚å¥½åœ¨CUDA 6.0å¼•å…¥ç»Ÿä¸€å†…å­˜ï¼ˆ<a href="https://link.zhihu.com/?target=http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html%23um-unified-memory-programming-hd">Unified Memory</a>ï¼‰æ¥é¿å…è¿™ç§éº»çƒ¦ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç»Ÿä¸€å†…å­˜ä½¿ç”¨ä¸€ä¸ªæ‰˜ç®¡å†…å­˜æ¥å…±åŒç®¡ç†hostå’Œdeviceä¸­çš„å†…å­˜ï¼Œå¹¶ä¸”è‡ªåŠ¨åœ¨hostå’Œdeviceä¸­è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚</p><p><code>cudaMallocManaged</code>æ˜¯CUDAç¼–ç¨‹ä¸­ç”¨äºåŠ¨æ€åˆ†é…å†…å­˜çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¸ºè®¾å¤‡å’Œä¸»æœºæä¾›ç»Ÿä¸€çš„ã€å¯å…±äº«çš„å†…å­˜ç©ºé—´ã€‚è¿™ä¸ªå‡½æ•°å±äºCUDAè¿è¡Œæ—¶APIçš„ä¸€éƒ¨åˆ†ã€‚</p><p>å‡½æ•°ï¼š</p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">cudaError_t cudaMallocManaged(void **devPtr, size_t size, unsigned int flags&#x3D;0);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è§£æï¼š</p><ol><li><p><code>void **devPtr</code>ï¼šè¾“å‡ºå‚æ•°ï¼ŒæŒ‡å‘è®¾å¤‡å†…å­˜çš„æŒ‡é’ˆã€‚è°ƒç”¨æˆåŠŸåï¼Œ<code>devPtr</code>å°†è¢«è®¾ç½®ä¸ºæ–°åˆ†é…å†…å­˜åŒºåŸŸçš„é¦–åœ°å€ï¼Œè¯¥å†…å­˜åŒºåŸŸå¯ä¾›GPUå’ŒCPUè®¿é—®ã€‚</p></li><li><p><code>size_t size</code>ï¼šè¾“å…¥å‚æ•°ï¼Œè¦åˆ†é…çš„å†…å­˜å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</p></li><li><p><code>unsigned int flags</code>ï¼šå¯é€‰è¾“å…¥å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º0ã€‚å¯ä»¥ä½¿ç”¨æ­¤å‚æ•°æŒ‡å®šå†…å­˜ç®¡ç†è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>cudaMemAttachHost</code>: è¡¨ç¤ºå†…å­˜åº”è¯¥åŒæ—¶å¯¹ä¸»æœºå’Œè®¾å¤‡å¯è§ï¼Œå¹¶ä¸”åœ¨éœ€è¦æ—¶è‡ªåŠ¨åŒæ­¥ã€‚</li><li><code>cudaMemAttachGlobal</code>: ä¸<code>cudaMemAttachHost</code>ç±»ä¼¼ï¼Œä½†ä¸ä¿è¯å†…å­˜å§‹ç»ˆé©»ç•™åœ¨ä¸»æœºä¸Šã€‚</li></ul></li></ol><p>è¿”å›å€¼ï¼š</p><ul><li><code>cudaSuccess</code>ï¼šå¦‚æœæˆåŠŸåˆ†é…äº†å†…å­˜ï¼Œåˆ™è¿”å›æ­¤çŠ¶æ€ã€‚</li><li>å…¶ä»–é”™è¯¯ä»£ç ï¼ˆå¦‚<code>cudaErrorMemoryAllocation</code>ç­‰ï¼‰ï¼šå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œå¦‚å†…å­˜ä¸è¶³æˆ–å…¶ä»–CUDAè¿è¡Œæ—¶é”™è¯¯ï¼Œåˆ™è¿”å›ç›¸åº”çš„é”™è¯¯ä»£ç ã€‚</li></ul><p>é€šè¿‡<code>cudaMallocManaged</code>åˆ†é…çš„å†…å­˜ä¼šéµå¾ªç»Ÿä¸€å†…å­˜ï¼ˆUnified Memoryï¼‰æ¨¡å‹ï¼Œä½¿å¾—å¼€å‘è€…æ— éœ€æ‰‹åŠ¨ç®¡ç†æ•°æ®åœ¨ä¸»æœºå’Œè®¾å¤‡ä¹‹é—´çš„è¿ç§»ï¼Œå¤§å¤§ç®€åŒ–äº†å¹¶è¡Œè®¡ç®—ä¸­çš„å†…å­˜ç®¡ç†å¤æ‚åº¦ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ç»Ÿä¸€å†…å­˜æä¾›äº†ä¾¿æ·æ€§ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå› ä¸ºå®ƒä¾èµ–äºCUDAé©±åŠ¨ç¨‹åºå’Œç¡¬ä»¶è¿›è¡Œé€æ˜çš„æ•°æ®è¿ç§»ã€‚</p><p>åˆ©ç”¨ç»Ÿä¸€å†…å­˜ï¼Œå¯ä»¥å°†å‰é¢çš„ç¨‹åºç®€åŒ–å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cuda_runtime.h></span></span>__global__ <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">*</span> y<span class="token punctuation">,</span> <span class="token keyword">float</span><span class="token operator">*</span> z<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> threadIdx<span class="token punctuation">.</span>x <span class="token operator">+</span> blockIdx<span class="token punctuation">.</span>x <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">int</span> stride <span class="token operator">=</span> blockDim<span class="token punctuation">.</span>x <span class="token operator">*</span> gridDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">+=</span> stride<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// å‘é‡å¤§å°</span>    <span class="token keyword">int</span> nBytes <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">float</span> <span class="token operator">*</span>z<span class="token punctuation">;</span> <span class="token comment">// å®šä¹‰ç»Ÿä¸€å†…å­˜ä¸­çš„å‘é‡æŒ‡é’ˆ</span>    <span class="token comment">// åœ¨ç»Ÿä¸€å†…å­˜ä¸­åˆ†é…å†…å­˜</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>z<span class="token punctuation">,</span> nBytes <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ†é…ç»Ÿä¸€å†…å­˜å¤§å°ä¸ºä¸‰å€ï¼ŒåŒ…æ‹¬ x, y, z</span>    <span class="token keyword">float</span> <span class="token operator">*</span>x <span class="token operator">=</span> z<span class="token punctuation">;</span> <span class="token comment">// xæŒ‡é’ˆæŒ‡å‘ç»Ÿä¸€å†…å­˜</span>    <span class="token keyword">float</span> <span class="token operator">*</span>y <span class="token operator">=</span> x <span class="token operator">+</span> n<span class="token punctuation">;</span> <span class="token comment">// yæŒ‡é’ˆæŒ‡å‘ç»Ÿä¸€å†…å­˜ä¸­xçš„æœ«å°¾</span>    <span class="token keyword">float</span> <span class="token operator">*</span>dev_z <span class="token operator">=</span> y <span class="token operator">+</span> n<span class="token punctuation">;</span> <span class="token comment">// dev_zæŒ‡é’ˆæŒ‡å‘ç»Ÿä¸€å†…å­˜ä¸­yçš„æœ«å°¾</span>    <span class="token comment">// åˆå§‹åŒ–ä¸»æœºä¸Šçš„å‘é‡æ•°æ®</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span>        y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2.0f</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å®šä¹‰ grid å’Œ block çš„å¤§å°</span>    <span class="token keyword">int</span> blockSize <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> numBlocks <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> blockSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">;</span>    <span class="token comment">// è°ƒç”¨ kernel å‡½æ•°</span>    add<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span>numBlocks<span class="token punctuation">,</span> blockSize<span class="token operator">>></span><span class="token operator">></span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> dev_z<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åŒæ­¥device ä¿è¯ç»“æœèƒ½æ­£ç¡®è®¿é—®</span>    <span class="token function">cudaDeviceSynchronize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// éªŒè¯ç»“æœ</span>    <span class="token keyword">float</span> maxError <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        maxError <span class="token operator">=</span> <span class="token function">fmaxf</span><span class="token punctuation">(</span>maxError<span class="token punctuation">,</span> <span class="token function">fabsf</span><span class="token punctuation">(</span>dev_z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">3.0f</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æœ€å¤§è¯¯å·®: %f\n"</span><span class="token punctuation">,</span> maxError<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// é‡Šæ”¾ç»Ÿä¸€å†…å­˜</span>    <span class="token function">cudaFree</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç›¸æ¯”ä¹‹å‰çš„ä»£ç ï¼Œä½¿ç”¨ç»Ÿä¸€å†…å­˜æ›´ç®€æ´äº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯kernelæ‰§è¡Œæ˜¯ä¸hostå¼‚æ­¥çš„ï¼Œç”±äºæ‰˜ç®¡å†…å­˜è‡ªåŠ¨è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œè¿™é‡Œè¦ç”¨cudaDeviceSynchronize()å‡½æ•°ä¿è¯deviceå’ŒhoståŒæ­¥ï¼Œè¿™æ ·åé¢æ‰å¯ä»¥æ­£ç¡®è®¿é—®kernelè®¡ç®—çš„ç»“æœã€‚</p><h2 id="çŸ©é˜µä¹˜æ³•å®ä¾‹"><a href="#çŸ©é˜µä¹˜æ³•å®ä¾‹" class="headerlink" title="çŸ©é˜µä¹˜æ³•å®ä¾‹"></a>çŸ©é˜µä¹˜æ³•å®ä¾‹</h2><p>æœ€åå†å®ç°ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€äº›çš„ä¾‹å­ï¼Œå°±æ˜¯ä¸¤ä¸ªçŸ©é˜µçš„ä¹˜æ³•ï¼Œè®¾è¾“å…¥çŸ©é˜µä¸º A å’Œ B ï¼Œè¦å¾—åˆ° C&#x3D;AÃ—B ã€‚å®ç°æ€è·¯æ˜¯æ¯ä¸ªçº¿ç¨‹è®¡ç®— Cçš„ä¸€ä¸ªå…ƒç´ å€¼ C<del>i,j</del> ï¼Œå¯¹äºçŸ©é˜µè¿ç®—ï¼Œåº”è¯¥é€‰ç”¨gridå’Œblockä¸º2-Dçš„ã€‚é¦–å…ˆå®šä¹‰çŸ©é˜µçš„ç»“æ„ä½“ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// çŸ©é˜µç±»å‹ï¼Œè¡Œä¼˜å…ˆï¼ŒM(row, col) = *(M.elements + row * M.width + col)</span><span class="token keyword">struct</span> <span class="token class-name">Matrix</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> width<span class="token punctuation">;</span>    <span class="token keyword">int</span> height<span class="token punctuation">;</span>    <span class="token keyword">float</span> <span class="token operator">*</span>elements<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202312232322858.png" alt="çŸ©é˜µä¹˜æ³•" style="zoom: 67%;" /><p>ç„¶åå®ç°çŸ©é˜µä¹˜æ³•çš„æ ¸å‡½æ•°ï¼Œè¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªè¾…åŠ©çš„<code>__device__</code>å‡½æ•°åˆ†åˆ«ç”¨äºè·å–çŸ©é˜µçš„å…ƒç´ å€¼å’Œä¸ºçŸ©é˜µå…ƒç´ èµ‹å€¼ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// è·å–çŸ©é˜µAçš„(row, col)å…ƒç´ </span>__device__ <span class="token keyword">float</span> <span class="token function">getElement</span><span class="token punctuation">(</span><span class="token keyword">const</span> Matrix<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> A<span class="token operator">-></span>elements<span class="token punctuation">[</span>row <span class="token operator">*</span> A<span class="token operator">-></span>width <span class="token operator">+</span> col<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// ä¸ºçŸ©é˜µAçš„(row, col)å…ƒç´ èµ‹å€¼</span>__device__ <span class="token keyword">void</span> <span class="token function">setElement</span><span class="token punctuation">(</span>Matrix<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">,</span> <span class="token keyword">float</span> value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    A<span class="token operator">-></span>elements<span class="token punctuation">[</span>row <span class="token operator">*</span> A<span class="token operator">-></span>width <span class="token operator">+</span> col<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// çŸ©é˜µç›¸ä¹˜kernelï¼Œ2-Dï¼Œæ¯ä¸ªçº¿ç¨‹è®¡ç®—ä¸€ä¸ªå…ƒç´ </span>__global__ <span class="token keyword">void</span> <span class="token function">matMulKernel</span><span class="token punctuation">(</span><span class="token keyword">const</span> Matrix<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">const</span> Matrix<span class="token operator">*</span> B<span class="token punctuation">,</span> Matrix<span class="token operator">*</span> C<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">float</span> Cvalue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> row <span class="token operator">=</span> threadIdx<span class="token punctuation">.</span>y <span class="token operator">+</span> blockIdx<span class="token punctuation">.</span>y <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token keyword">int</span> col <span class="token operator">=</span> threadIdx<span class="token punctuation">.</span>x <span class="token operator">+</span> blockIdx<span class="token punctuation">.</span>x <span class="token operator">*</span> blockDim<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> A<span class="token operator">-></span>width<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        Cvalue <span class="token operator">+=</span> <span class="token function">getElement</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> row<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">getElement</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> i<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">setElement</span><span class="token punctuation">(</span>C<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> Cvalue<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åé‡‡ç”¨ç»Ÿä¸€å†…å­˜ç¼–å†™çŸ©é˜µç›¸ä¹˜çš„æµ‹è¯•å®ä¾‹ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>    Matrix <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token operator">*</span>B<span class="token punctuation">,</span> <span class="token operator">*</span>C<span class="token punctuation">;</span>    <span class="token comment">// ç”³è¯·æ‰˜ç®¡å†…å­˜</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>A<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>B<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>C<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> nBytes <span class="token operator">=</span> width <span class="token operator">*</span> height <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>A<span class="token operator">-></span>elements<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>B<span class="token operator">-></span>elements<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">cudaMallocManaged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>C<span class="token operator">-></span>elements<span class="token punctuation">,</span> nBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆå§‹åŒ–æ•°æ®</span>    A<span class="token operator">-></span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>    A<span class="token operator">-></span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>    B<span class="token operator">-></span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>    B<span class="token operator">-></span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>    C<span class="token operator">-></span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>    C<span class="token operator">-></span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> width <span class="token operator">*</span> height<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        A<span class="token operator">-></span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>        B<span class="token operator">-></span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å®šä¹‰kernelçš„æ‰§è¡Œé…ç½®</span>    dim3 <span class="token function">blockSize</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dim3 <span class="token function">gridSize</span><span class="token punctuation">(</span><span class="token punctuation">(</span>width <span class="token operator">+</span> blockSize<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">.</span>x<span class="token punctuation">,</span>         <span class="token punctuation">(</span>height <span class="token operator">+</span> blockSize<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> blockSize<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ‰§è¡Œkernel</span>    matMulKernel <span class="token operator">&lt;&lt;</span> <span class="token operator">&lt;</span> gridSize<span class="token punctuation">,</span> blockSize <span class="token operator">>></span> <span class="token operator">></span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">,</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åŒæ­¥device ä¿è¯ç»“æœèƒ½æ­£ç¡®è®¿é—®</span>    <span class="token function">cudaDeviceSynchronize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ£€æŸ¥æ‰§è¡Œç»“æœ</span>    <span class="token keyword">float</span> maxError <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> width <span class="token operator">*</span> height<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>        maxError <span class="token operator">=</span> <span class="token function">fmax</span><span class="token punctuation">(</span>maxError<span class="token punctuation">,</span> <span class="token function">fabs</span><span class="token punctuation">(</span>C<span class="token operator">-></span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> width<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æœ€å¤§è¯¯å·®: "</span> <span class="token operator">&lt;&lt;</span> maxError <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡ŒçŸ©é˜µå¤§å°ä¸º1024ï¼Œè®¾è®¡çš„çº¿ç¨‹çš„blockå¤§å°ä¸º(32, 32)ï¼Œé‚£ä¹ˆgridå¤§å°ä¸º(32, 32)ï¼Œæœ€ç»ˆæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">nvprof cuda9.exe==16304== NVPROF is profiling process 16304, command: cuda9.exeæœ€å¤§è¯¯å·®: 0==16304== Profiling application: cuda9.exe==16304== Profiling result:            Type  Time(%)      Time     Calls       Avg       Min       Max  Name GPU activities:  100.00%  1.32752s         1  1.32752s  1.32752s  1.32752s  matMulKernel(Matrix*, Matrix*, Matrix*)      API calls:   83.11%  1.32762s         1  1.32762s  1.32762s  1.32762s  cudaDeviceSynchronize                   13.99%  223.40ms         6  37.233ms  37.341us  217.66ms  cudaMallocManaged                    2.81%  44.810ms         1  44.810ms  44.810ms  44.810ms  cudaLaunch                    0.08%  1.3300ms        94  14.149us       0ns  884.64us  cuDeviceGetAttribute                    0.01%  199.03us         1  199.03us  199.03us  199.03us  cuDeviceGetName                    0.00%  10.009us         1  10.009us  10.009us  10.009us  cuDeviceTotalMem                    0.00%  6.5440us         1  6.5440us  6.5440us  6.5440us  cudaConfigureCall                    0.00%  3.0800us         3  1.0260us     385ns  1.5400us  cudaSetupArgument                    0.00%  2.6940us         3     898ns     385ns  1.5390us  cuDeviceGetCount                    0.00%  1.9250us         2     962ns     385ns  1.5400us  cuDeviceGet==16304== Unified Memory profiling result:Device "GeForce GT 730 (0)"   Count  Avg Size  Min Size  Max Size  Total Size  Total Time  Name    2051  4.0000KB  4.0000KB  4.0000KB  8.011719MB  21.20721ms  Host To Device     270  45.570KB  4.0000KB  1.0000MB  12.01563MB  7.032508ms  Device To Host<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>CUDAç¼–ç¨‹å…¥é—¨ç›¸å¯¹ç®€å•ï¼Œé€šè¿‡æŒæ¡åŸºæœ¬çš„çº¿ç¨‹ç®¡ç†å’Œå†…å­˜æ“ä½œï¼Œå¯ä»¥å¿«é€Ÿå®ç°å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬åº”ç”¨ã€‚ç„¶è€Œï¼Œéšç€é—®é¢˜å¤æ‚åº¦çš„æå‡ï¼Œæ·±å…¥CUDAé¢†åŸŸåˆ™éœ€é¢å¯¹æ›´å¤šæŒ‘æˆ˜ï¼šä¾‹å¦‚åŠ¨æ€å¹¶è¡Œæ€§ç®¡ç†ã€æµå¼å¤šå¤„ç†å™¨çš„ç»†ç²’åº¦åŒæ­¥æ§åˆ¶ã€å…¨å±€å†…å­˜ä¸å…±äº«å†…å­˜çš„æœ‰æ•ˆåˆ©ç”¨ï¼ˆåŒ…æ‹¬bankå†²çªå¤„ç†ï¼‰ã€çº¹ç†å’Œå¸¸é‡å†…å­˜ä¼˜åŒ–ã€ä»¥åŠå…ˆè¿›çš„å¹¶è¡Œç®—æ³•è®¾è®¡å¦‚å½’çº¦ã€æ‰«ç„ç­‰ã€‚æ­¤å¤–ï¼Œé’ˆå¯¹ç°ä»£GPUæ¶æ„çš„ç‰¹æ€§è¿›è¡Œæ€§èƒ½è°ƒä¼˜ï¼Œç†è§£å¹¶è§£å†³å†…å­˜å±‚æ¬¡ç»“æ„å¸¦æ¥çš„ç“¶é¢ˆï¼Œäº¦æ˜¯æ·±å…¥CUDAæŠ€æœ¯æ ˆçš„é‡è¦ç¯èŠ‚ã€‚åªæœ‰ä¸æ–­é’»ç ”è¿™äº›é«˜çº§æŠ€æœ¯å’Œæœ€ä½³å®è·µï¼Œæ‰èƒ½åœ¨å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—ä¸­å‘æŒ¥å‡ºCUDAçš„çœŸæ­£å¨åŠ›ï¼Œå®ç°ä»â€œå…¥é—¨â€åˆ°â€œç²¾é€šâ€çš„è·¨è¶Šã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://zhuanlan.zhihu.com/p/34587739">CUDAç¼–ç¨‹å…¥é—¨æç®€æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://blog.csdn.net/TracelessLe/article/details/110880135">https://blog.csdn.net/TracelessLe/article/details/110880135</a></p>]]></content>
      
      
      <categories>
          
          <category> cuda </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cuda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»Šæ—¥è¯—å¥-ç¥ç¦å‰ç¨‹</title>
      <link href="/posts/f97.html"/>
      <url>/posts/f97.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç¥ç¦å‰ç¨‹"><a href="#ç¥ç¦å‰ç¨‹" class="headerlink" title="ç¥ç¦å‰ç¨‹"></a>ç¥ç¦å‰ç¨‹</h2><div class="ipage">   <div class="ititle">ç¥ç¦å‰ç¨‹</div>    <div class="izhengwen">      <p>        æ˜å¹´æ­¤æ—¥é’äº‘å»ï¼Œå´ç¬‘äººé—´ä¸¾å­å¿™ â€”â€”è¾›å¼ƒç–¾ã€Šé¹§é¸ªå¤©Â·é€å»“ä¹‹ç§‹è¯•ã€‹<br>        è«æ„å‰è·¯æ— çŸ¥å·±ï¼Œå¤©ä¸‹è°äººä¸è¯†å› â€”â€”é«˜é€‚ã€Šåˆ«è‘£å¤§ã€‹<br>        å¤©ä¸‹è°éå¥è€…ï¼Œæˆ‘è¾ˆç»ˆä¸ºå¥‡åœŸ â€”â€”å¼ ç¿¥ã€Šæ°´è°ƒæ­Œå¤´Â·ä¸‰åä¹å¹´æˆ‘ã€‹<br>        å‰ç¨‹è·¯é™©è«è¹‰è· â€”â€”å…ƒå§¬ç¿¼ã€Šä¸´æ±ŸÂ·å²æœˆæ— æƒ…å¦‚ç”µè½¬ã€‹<br>        ä¹˜é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ· â€”â€”æç™½ã€Šè¡Œè·¯éš¾ã€‹<br>        æ‰å­è¯äººï¼Œè‡ªæ˜¯ç™½è¡£å¿ç›¸ â€”â€”æŸ³æ°¸ã€Šé¹¤å†²å¤©ã€‹<br>        å¤§é¹ä¸€æ—¥åŒé£èµ·ï¼Œæ‰¶æ‘‡ç›´ä¸Šä¹ä¸‡é‡Œ â€”â€”æç™½ã€Šä¸Šæé‚•ã€‹<br>        æ˜¥é£å¾—æ„é©¬è¹„ç–¾ï¼Œä¸€æ—¥çœ‹å°½é•¿å®‰èŠ± â€”â€”å­ŸéƒŠã€Šç™»ç§‘åã€‹<br>        å¸Œå›ç”Ÿç¾½ç¿¼ï¼Œä¸€åŒ–åŒ—æºŸé±¼ â€”â€”æç™½ã€Šæ±Ÿå¤ä½¿å›å”å¸­ä¸Šèµ å²éƒä¸­ã€‹<br>         é¹°å‡»å¤©é£å£®ï¼Œé¹é£æµ·æµªæ˜¥ â€”â€”å¸é©¬å…‰ã€Šä¹‹ç¾ä¸¾è¿›å£«å¯“äº¬å¸ˆèŒƒæ­¤è¯—å¯„ä¹‹ã€‹<br>         æ„¿ç¥å›å¦‚æ­¤å±±æ°´ï¼Œæ»”æ»”å²Œå²Œé£äº‘èµ· â€”â€”å†¯æ—¶è¡Œã€Šé—å¤”é—¨æ•…ä¹¦ã€‹<br>           </p>    </div> </div><p>â€‹      </p>]]></content>
      
      
      <categories>
          
          <category> è¯—è¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯—è¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼˜åŒ–åˆ†ç±»é¡µé¢</title>
      <link href="/posts/8bc.html"/>
      <url>/posts/8bc.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¼˜åŒ–åˆ†ç±»é¡µé¢"><a href="#ä¼˜åŒ–åˆ†ç±»é¡µé¢" class="headerlink" title="ä¼˜åŒ–åˆ†ç±»é¡µé¢"></a>ä¼˜åŒ–åˆ†ç±»é¡µé¢</h1><p>åˆ é™¤å¤šä½™æ ·å¼</p><p>æ·»åŠ æ ·å¼</p><p>neko</p><p>ä¿®å¤åˆ†ç±»å¡ç‰‡è’™æ¿</p><p>ä¼˜åŒ–åˆ†ç±»é›·è¾¾</p><p>å‚è€ƒï¼š</p><p><a href="https://blog.17lai.site/categories/">åˆ†ç±» | å¤œæ³•ä¹‹ä¹¦ (17lai.site)</a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åˆ†ç±»é¡µé¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gmailåˆ†èº«</title>
      <link href="/posts/ae7f.html"/>
      <url>/posts/ae7f.html</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©è¦åˆ†äº«çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå‰é¢çš„é‚®ç®±è·ŸåŸé‚®ç®±å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯åé¢å¤šäº†ä¸ª<code>+c1</code>ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨åŸé‚®ç®±åé¢ä½¿ç”¨ä¸€ä¸ª <code>+</code> å·è¿æ¥ä¸€ä¸ªå­—ç¬¦ä¸² <code>c1</code>ï¼Œåç¼€ä¸å˜ï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªæ–°é‚®ç®±ï¼Œä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä½ å°±å¯ä»¥å¼€å¯åˆ†èº«å¤§æ³•äº†ï¼š</p><blockquote><p>åŸé‚®ç®±ï¼štâ€¦â€¦<a href="mailto:&#100;&#64;&#103;&#x6d;&#x61;&#x69;&#108;&#46;&#99;&#x6f;&#109;">&#100;&#64;&#103;&#x6d;&#x61;&#x69;&#108;&#46;&#99;&#x6f;&#109;</a><br>æ–°é‚®ç®±ä¸€ï¼štâ€¦â€¦<a href="mailto:&#x64;&#43;&#99;&#49;&#64;&#103;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#109;">&#x64;&#43;&#99;&#49;&#64;&#103;&#x6d;&#x61;&#105;&#x6c;&#x2e;&#x63;&#x6f;&#109;</a><br>æ–°é‚®ç®±äºŒï¼štâ€¦â€¦<a href="mailto:&#x64;&#x2b;&#99;&#50;&#64;&#x67;&#109;&#97;&#x69;&#x6c;&#x2e;&#99;&#111;&#x6d;">&#x64;&#x2b;&#99;&#50;&#64;&#x67;&#109;&#97;&#x69;&#x6c;&#x2e;&#99;&#111;&#x6d;</a></p></blockquote><p>åŸç†æ˜¯å› ä¸ºåœ¨ Gmail çš„é‚®ä»¶åœ°å€é‡Œï¼Œ<code>+</code> å·æ˜¯ä¸€ä¸ªç‰¹æ®Šç¬¦å·ï¼Œåœ°å€ä¸­çš„ <code>+</code> ä»¥åŠåŠ å·åé¢çš„éƒ¨åˆ†ï¼Œä¼šè¢«è¿‡æ»¤æ‰ã€‚å…¶å®è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šç¬¦å· <code>.</code> ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ä¸å¤ªå¥½ç”¨å®ç”¨ä»·å€¼ä¸å¤§ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚åˆ©ç”¨è¿™ä¸ªåŸç†ï¼Œæˆ‘ä»¬éœ€è¦æ³¨å†ŒæŸä¸ªå¹³å°çš„å¤šä¸ªå‡ è´¦å·æ—¶å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„å®Œæˆ(ä¾‹å¦‚æŸ GPT)ã€‚è¿™æ¯”å¸‚é¢ä¸Šå¾ˆå¤šæ‰€è°“çš„ä¸´æ—¶é‚®ç®±æˆ–è€…é‚®ç®±åˆ†èº«ç”¨èµ·æ¥å¯å®‰å…¨å¯é å¤ªå¤šäº†ï¼Œå¹¶ä¸”éå¸¸æ–¹ä¾¿ï¼Œåœ¨ä¸€ä¸ªé‚®ç®±é‡Œé¢å°±èƒ½æ”¶åˆ°æ‰€æœ‰çš„é‚®ä»¶ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Gmail </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>123äº‘ç›˜èµ„æº</title>
      <link href="/posts/5d4b.html"/>
      <url>/posts/5d4b.html</url>
      
        <content type="html"><![CDATA[<p>Adobeå…¨å®¶æ¡¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-NkFed.html">https://www.123pan.com/s/yS8UVv-NkFed.html</a> æå–ç :6666</p><p>AutoCADï¼š<a href="https://www.123pan.com/s/yS8UVv-2kFed.html">https://www.123pan.com/s/yS8UVv-2kFed.html</a> æå–ç :6666</p><p>ä¸“ä¸šè½¯ä»¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-rkFed.html">https://www.123pan.com/s/yS8UVv-rkFed.html</a> æå–ç :6666</p><p>Unityï¼š<a href="https://www.123pan.com/s/yS8UVv-skFed.html">https://www.123pan.com/s/yS8UVv-skFed.html</a> æå–ç :6666</p><p>è¾¾èŠ¬å¥‡ï¼š<a href="https://www.123pan.com/s/yS8UVv-WkFed.html">https://www.123pan.com/s/yS8UVv-WkFed.html</a> æå–ç :6666</p><p>å»ºæ¨¡ç±»ï¼š<a href="https://www.123pan.com/s/yS8UVv-CkFed.html">https://www.123pan.com/s/yS8UVv-CkFed.html</a> æå–ç :6666</p><p>VMWareè™šæ‹Ÿæœºï¼š<a href="https://www.123pan.com/s/yS8UVv-OkFed.html">https://www.123pan.com/s/yS8UVv-OkFed.html</a> æå–ç :6666</p><p>ç¼–ç¨‹å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-RkFed.html">https://www.123pan.com/s/yS8UVv-RkFed.html</a> æå–ç :6666</p><p>ç”µè„‘å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-DkFed.html">https://www.123pan.com/s/yS8UVv-DkFed.html</a> æå–ç :6666</p><p>ä¸‹è½½å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-nkFed.html">https://www.123pan.com/s/yS8UVv-nkFed.html</a> æå–ç :6666</p><p>PS2024(Beta)_25.1æ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-VcFed.html">https://www.123pan.com/s/yS8UVv-VcFed.html</a> æå–ç :6666ã€å«win+macã€‘</p><p>Adobeå…¨å®¶æ¡¶æ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-HiFed.html">https://www.123pan.com/s/yS8UVv-HiFed.html</a> æå–ç :6666ã€å«å¤§å¸ˆç‰ˆå’ŒSPç‰ˆï¼Œwin+macã€‘</p><p>PSï¼šAdobeå…¨å®¶æ¡¶å¦‚æœæœ‰è§£å‹å¯†ç ï¼Œå¯†ç å°±æ˜¯@vposy</p><p>ã€å¤‡ç”¨ï¼šAdobeå…¨å®¶æ¡¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-hiFed.html">https://www.123pan.com/s/yS8UVv-hiFed.html</a> æå–ç :6666ã€‘</p><p>éŸ³ä¹è½¯ä»¶æ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-u7Fed.html">https://www.123pan.com/s/yS8UVv-u7Fed.html</a> æå–ç :6666ã€å«win+macã€‘</p><p>Win_Alç³»åˆ—è½¯ä»¶æ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-h7Fed.html">https://www.123pan.com/s/yS8UVv-h7Fed.html</a> æå–ç :6666ã€åŒ…å«HitPawå…¨å®¶æ¡¶ï¼ŒTopazå…¨å®¶æ¡¶ã€‘</p><p>Mac_Alç³»åˆ—è½¯ä»¶æ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-niFed.html">https://www.123pan.com/s/yS8UVv-niFed.html</a> æå–ç :6666ã€åŒ…å«HitPawå…¨å®¶æ¡¶ï¼ŒTopazå…¨å®¶æ¡¶ã€‘</p><p>è¿œç¨‹æ¡Œé¢RayLinkå®˜ç½‘<a href="https://www.raylink.live/">https://www.raylink.live/</a></p><p>Mac2024ï¼š<a href="https://www.123pan.com/s/yS8UVv-uIYed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-uIYed.htmlã€</a> æå–ç :6666ã€‘</p><p>Win2024ï¼š<a href="https://www.123pan.com/s/yS8UVv-rIYed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-rIYed.htmlã€</a> æå–ç :6666ã€‘</p><p>æ›´å¤šmonkrusèµ„æºï¼š<a href="https://www.123pan.com/s/yS8UVv-8IYed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-8IYed.htmlã€</a> æå–ç :6666ã€‘</p><p>ğŸ‘‰Adobeå…¨å®¶æ¡¶æ‰€æœ‰ğŸ¬ï¼š<a href="https://www.123pan.com/s/yS8UVv-hiFed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-hiFed.htmlã€</a> æå–ç :6666ã€‘</p><p>Adobeå…¨å®¶æ¡¶ï¼š</p><p>ã€å»ºè®®å»æ€»æ–‡ä»¶å¤¹ã€‘ï¼š<a href="https://www.123pan.com/s/yS8UVv-NkFed.html">https://www.123pan.com/s/yS8UVv-NkFed.html</a> æå–ç :6666</p><p>PSï¼š<a href="https://www.123pan.com/s/yS8UVv-bkFed.html">https://www.123pan.com/s/yS8UVv-bkFed.html</a> æå–ç :6666</p><p>PRï¼š<a href="https://www.123pan.com/s/yS8UVv-ZkFed.html">https://www.123pan.com/s/yS8UVv-ZkFed.html</a> æå–ç :6666</p><p>AEï¼š<a href="https://www.123pan.com/s/yS8UVv-ckFed.html">https://www.123pan.com/s/yS8UVv-ckFed.html</a> æå–ç :6666</p><p>Aiï¼š<a href="https://www.123pan.com/s/yS8UVv-ekFed.html">https://www.123pan.com/s/yS8UVv-ekFed.html</a> æå–ç :6666</p><p>MEï¼š<a href="https://www.123pan.com/s/yS8UVv-tkFed.html">https://www.123pan.com/s/yS8UVv-tkFed.html</a> æå–ç :6666</p><p>AUï¼š<a href="https://www.123pan.com/s/yS8UVv-ikFed.html">https://www.123pan.com/s/yS8UVv-ikFed.html</a> æå–ç :6666</p><p>Anï¼š<a href="https://www.123pan.com/s/yS8UVv-zkFed.html">https://www.123pan.com/s/yS8UVv-zkFed.html</a> æå–ç :6666</p><p>AdobeAcrobatï¼š<a href="https://www.123pan.com/s/yS8UVv-LkFed.html">https://www.123pan.com/s/yS8UVv-LkFed.html</a> æå–ç :6666</p><p>AdobeBridgeï¼š<a href="https://www.123pan.com/s/yS8UVv-5kFed.html">https://www.123pan.com/s/yS8UVv-5kFed.html</a> æå–ç :6666</p><p>AdobeDimensionï¼š<a href="https://www.123pan.com/s/yS8UVv-qkFed.html">https://www.123pan.com/s/yS8UVv-qkFed.html</a> æå–ç :6666</p><p>AdobeDreamweaverï¼š<a href="https://www.123pan.com/s/yS8UVv-6kFed.html">https://www.123pan.com/s/yS8UVv-6kFed.html</a> æå–ç :6666</p><p>AdobeFlashï¼š<a href="https://www.123pan.com/s/yS8UVv-ykFed.html">https://www.123pan.com/s/yS8UVv-ykFed.html</a> æå–ç :6666</p><p>AdobeFrameMakerï¼š<a href="https://www.123pan.com/s/yS8UVv-VkFed.html">https://www.123pan.com/s/yS8UVv-VkFed.html</a> æå–ç :6666</p><p>AdobeInCopyï¼š<a href="https://www.123pan.com/s/yS8UVv-jkFed.html">https://www.123pan.com/s/yS8UVv-jkFed.html</a> æå–ç :6666</p><p>AdobeInDesignï¼š<a href="https://www.123pan.com/s/yS8UVv-ToFed.html">https://www.123pan.com/s/yS8UVv-ToFed.html</a> æå–ç :6666</p><p>AdobePreludeï¼š<a href="https://www.123pan.com/s/yS8UVv-voFed.html">https://www.123pan.com/s/yS8UVv-voFed.html</a> æå–ç :6666</p><p>CharacterAnimatorï¼š<a href="https://www.123pan.com/s/yS8UVv-doFed.html">https://www.123pan.com/s/yS8UVv-doFed.html</a> æå–ç :6666</p><p>ExperienceDesignï¼š<a href="https://www.123pan.com/s/yS8UVv-3oFed.html">https://www.123pan.com/s/yS8UVv-3oFed.html</a> æå–ç :6666</p><p>LightroomClassicï¼š<a href="https://www.123pan.com/s/yS8UVv-hoFed.html">https://www.123pan.com/s/yS8UVv-hoFed.html</a> æå–ç :6666</p><p>PhotoshopElementsï¼š<a href="https://www.123pan.com/s/yS8UVv-HoFed.html">https://www.123pan.com/s/yS8UVv-HoFed.html</a> æå–ç :6666</p><p>PremiereElementsï¼š<a href="https://www.123pan.com/s/yS8UVv-AoFed.html">https://www.123pan.com/s/yS8UVv-AoFed.html</a> æå–ç :6666</p><p>PremiereRushï¼š<a href="https://www.123pan.com/s/yS8UVv-9oFed.html">https://www.123pan.com/s/yS8UVv-9oFed.html</a> æå–ç :6666</p><p>Substance3DDesignaterï¼š<a href="https://www.123pan.com/s/yS8UVv-QoFed.html">https://www.123pan.com/s/yS8UVv-QoFed.html</a> æå–ç :6666</p><p>VMWareè™šæ‹Ÿæœºï¼š<a href="https://www.123pan.com/s/yS8UVv-OkFed.html">https://www.123pan.com/s/yS8UVv-OkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼š16ï¼Œ17éƒ¨åˆ†ç‰ˆæœ¬</p><p>VisualStudioCode(å®˜ç½‘é“¾æ¥)ï¼š<a href="https://www.123pan.com/s/yS8UVv-EoFed.html">https://www.123pan.com/s/yS8UVv-EoFed.html</a> æå–ç :6666</p><p>VisualStudioï¼š<a href="https://www.123pan.com/s/yS8UVv-koFed.html">https://www.123pan.com/s/yS8UVv-koFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šä¸€äº›ç¤¾åŒºç‰ˆï¼Œä¸“ä¸šç‰ˆï¼Œä¼ä¸šç‰ˆ</p><p>JetBrainså®¶æ—ï¼š<a href="https://www.123pan.com/s/yS8UVv-ooFed.html">https://www.123pan.com/s/yS8UVv-ooFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šIntelliJIDEAï¼ŒJetBrainsWebStormï¼ŒPyCharm</p><p>IntelliJIDEAï¼š<a href="https://www.123pan.com/s/yS8UVv-moFed.html">https://www.123pan.com/s/yS8UVv-moFed.html</a> æå–ç :6666</p><p>JetBrainsWebStormï¼š<a href="https://www.123pan.com/s/yS8UVv-1oFed.html">https://www.123pan.com/s/yS8UVv-1oFed.html</a> æå–ç :6666</p><p>PyCharmï¼š<a href="https://www.123pan.com/s/yS8UVv-4oFed.html">https://www.123pan.com/s/yS8UVv-4oFed.html</a> æå–ç :6666</p><p>Androidï¼š<a href="https://www.123pan.com/s/yS8UVv-xoFed.html">https://www.123pan.com/s/yS8UVv-xoFed.html</a> æå–ç :6666</p><p>JAVA8ï¼Œ11éƒ¨åˆ†JDKï¼š<a href="https://www.123pan.com/s/yS8UVv-poFed.html">https://www.123pan.com/s/yS8UVv-poFed.html</a> æå–ç :6666</p><p>JetBrainså…¨å®¶æ¡¶2022-2023å¹´ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-F6Fed.html">https://www.123pan.com/s/yS8UVv-F6Fed.html</a> æå–ç ï¼š6666</p><p>JetBrainså…¨å®¶æ¡¶2022.2ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-g6Fed.html">https://www.123pan.com/s/yS8UVv-g6Fed.html</a> æå–ç ï¼š6666</p><p>ç”µè„‘å¸¸ç”¨å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-DkFed.html">https://www.123pan.com/s/yS8UVv-DkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šBandizipï¼Œå½•å±å·¥å…·ï¼Œåˆ†åŒºå·¥å…·ï¼Œç¡¬ç›˜æ¸…ç†å·¥å…·ï¼Œæ•°æ®æ¢å¤ï¼Œ7-zip</p><p>bandizipï¼š<a href="https://www.123pan.com/s/yS8UVv-foFed.html">https://www.123pan.com/s/yS8UVv-foFed.html</a> æå–ç :6666</p><p>å½•å±å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-aoFed.html">https://www.123pan.com/s/yS8UVv-aoFed.html</a> æå–ç :6666</p><p>åˆ†åŒºå·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-BoFed.html">https://www.123pan.com/s/yS8UVv-BoFed.html</a> æå–ç :6666</p><p>ç¡¬ç›˜æ¸…ç†å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-JoFed.html">https://www.123pan.com/s/yS8UVv-JoFed.html</a> æå–ç :6666</p><p>æ•°æ®æ¢å¤ï¼š<a href="https://www.123pan.com/s/yS8UVv-IoFed.html">https://www.123pan.com/s/yS8UVv-IoFed.html</a> æå–ç :6666</p><p>7-Zipï¼š<a href="https://www.123pan.com/s/yS8UVv-MoFed.html">https://www.123pan.com/s/yS8UVv-MoFed.html</a> æå–ç :6666</p><p>è¾¾èŠ¬å¥‡ï¼š<a href="https://www.123pan.com/s/yS8UVv-WkFed.html">https://www.123pan.com/s/yS8UVv-WkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼š14ï¼Œ15ï¼Œ16ï¼Œ1ï¼Œ18éƒ¨åˆ†ç‰ˆæœ¬</p><p>å»ºæ¨¡ç±»ï¼š<a href="https://www.123pan.com/s/yS8UVv-CkFed.html">https://www.123pan.com/s/yS8UVv-CkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼š3dsMaxï¼ŒMayaï¼ŒC4Dï¼ŒBlenderï¼ŒZBrushâ€¦â€¦.</p><p>3DsMaxï¼š<a href="https://www.123pan.com/s/yS8UVv-woFed.html">https://www.123pan.com/s/yS8UVv-woFed.html</a> æå–ç :6666</p><p>Mayaï¼š<a href="https://www.123pan.com/s/yS8UVv-goFed.html">https://www.123pan.com/s/yS8UVv-goFed.html</a> æå–ç :6666</p><p>C4Dï¼š<a href="https://www.123pan.com/s/yS8UVv-FoFed.html">https://www.123pan.com/s/yS8UVv-FoFed.html</a> æå–ç :6666</p><p>Blenderè‡ªç”¨ï¼š<a href="https://www.123pan.com/s/yS8UVv-YoFed.html">https://www.123pan.com/s/yS8UVv-YoFed.html</a> æå–ç :6666</p><p>ZBrushï¼š<a href="https://www.123pan.com/s/yS8UVv-GoFed.html">https://www.123pan.com/s/yS8UVv-GoFed.html</a> æå–ç :6666</p><p>SketchUpè‰å›¾å¤§å¸ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-PoFed.html">https://www.123pan.com/s/yS8UVv-PoFed.html</a> æå–ç :6666</p><p>VrayforSketchUpï¼š<a href="https://www.123pan.com/s/yS8UVv-XoFed.html">https://www.123pan.com/s/yS8UVv-XoFed.html</a> æå–ç :6666</p><p>VrayforRhinoï¼š<a href="https://www.123pan.com/s/yS8UVv-noFed.html">https://www.123pan.com/s/yS8UVv-noFed.html</a> æå–ç :6666</p><p>MarvelousDesigneï¼š<a href="https://www.123pan.com/s/yS8UVv-2oFed.html">https://www.123pan.com/s/yS8UVv-2oFed.html</a> æå–ç :6666</p><p>Lumionï¼š<a href="https://www.123pan.com/s/yS8UVv-soFed.html">https://www.123pan.com/s/yS8UVv-soFed.html</a> æå–ç :6666</p><p>Keyshotï¼š<a href="https://www.123pan.com/s/yS8UVv-WoFed.html">https://www.123pan.com/s/yS8UVv-WoFed.html</a> æå–ç :6666</p><p>Enscapeï¼š<a href="https://www.123pan.com/s/yS8UVv-CoFed.html">https://www.123pan.com/s/yS8UVv-CoFed.html</a> æå–ç :6666</p><p>CorelCADï¼š<a href="https://www.123pan.com/s/yS8UVv-NoFed.html">https://www.123pan.com/s/yS8UVv-NoFed.html</a> æå–ç :6666</p><p>Artlantisï¼š<a href="https://www.123pan.com/s/yS8UVv-OoFed.html">https://www.123pan.com/s/yS8UVv-OoFed.html</a> æå–ç :6666</p><p>CADï¼š<a href="https://www.123pan.com/s/yS8UVv-2kFed.html">https://www.123pan.com/s/yS8UVv-2kFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šCADï¼Œä¸­æœ›CADï¼Œæµ©è¾°CADç­‰ç­‰å¤šä¸ªç‰ˆæœ¬</p><p>CADï¼š<a href="https://www.123pan.com/s/yS8UVv-RoFed.html">https://www.123pan.com/s/yS8UVv-RoFed.html</a> æå–ç :6666</p><p>CADç²¾ç®€ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-DoFed.html">https://www.123pan.com/s/yS8UVv-DoFed.html</a> æå–ç :6666</p><p>CADå»ºç­‘ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-roFed.html">https://www.123pan.com/s/yS8UVv-roFed.html</a> æå–ç :6666</p><p>CADç”µæ°”ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-8oFed.html">https://www.123pan.com/s/yS8UVv-8oFed.html</a> æå–ç :6666</p><p>CADæœºæ¢°ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-0oFed.html">https://www.123pan.com/s/yS8UVv-0oFed.html</a> æå–ç :6666</p><p>ä¸­æœ›CADï¼š<a href="https://www.123pan.com/s/yS8UVv-KoFed.html">https://www.123pan.com/s/yS8UVv-KoFed.html</a> æå–ç :6666</p><p>ä¸­æœ›CADå»ºç­‘ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-uoFed.html">https://www.123pan.com/s/yS8UVv-uoFed.html</a> æå–ç :6666</p><p>ä¸­æœ›CADæœºæ¢°ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-UoFed.html">https://www.123pan.com/s/yS8UVv-UoFed.html</a> æå–ç :6666</p><p>æµ©è¾°CADï¼š<a href="https://www.123pan.com/s/yS8UVv-ZoFed.html">https://www.123pan.com/s/yS8UVv-ZoFed.html</a> æå–ç :6666</p><p>æµ©è¾°CADç”µæ°”ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-coFed.html">https://www.123pan.com/s/yS8UVv-coFed.html</a> æå–ç :6666</p><p>æµ©è¾°CADç”µåŠ›ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-eoFed.html">https://www.123pan.com/s/yS8UVv-eoFed.html</a> æå–ç :6666</p><p>æµ©è¾°CADå»ºç­‘ç‰ˆï¼š<a href="https://www.123pan.com/s/yS8UVv-toFed.html">https://www.123pan.com/s/yS8UVv-toFed.html</a> æå–ç :6666</p><p>CADè¿·ä½ ç”»å›¾ï¼š<a href="https://www.123pan.com/s/yS8UVv-SoFed.html">https://www.123pan.com/s/yS8UVv-SoFed.html</a> æå–ç :6666</p><p>CAXA3Då®ä½“è®¾è®¡ï¼š<a href="https://www.123pan.com/s/yS8UVv-loFed.html">https://www.123pan.com/s/yS8UVv-loFed.html</a> æå–ç :6666</p><p>CAXAç”µå­å›¾æ¿ï¼š<a href="https://www.123pan.com/s/yS8UVv-7oFed.html">https://www.123pan.com/s/yS8UVv-7oFed.html</a> æå–ç :6666</p><p>CAXAå·¥è‰ºå›¾è¡¨ï¼š<a href="https://www.123pan.com/s/yS8UVv-boFed.html">https://www.123pan.com/s/yS8UVv-boFed.html</a> æå–ç :6666</p><p>T20å¤©æ­£ç”µæ°”ï¼š<a href="https://www.123pan.com/s/yS8UVv-ioFed.html">https://www.123pan.com/s/yS8UVv-ioFed.html</a> æå–ç :6666</p><p>T20å¤©æ­£ç»“æ„ï¼š<a href="https://www.123pan.com/s/yS8UVv-zoFed.html">https://www.123pan.com/s/yS8UVv-zoFed.html</a> æå–ç :6666</p><p>T20å¤©æ­£æš–é€šï¼š<a href="https://www.123pan.com/s/yS8UVv-LoFed.html">https://www.123pan.com/s/yS8UVv-LoFed.html</a> æå–ç :6666</p><p>T20å¤©æ­£å»ºç­‘ï¼š<a href="https://www.123pan.com/s/yS8UVv-5oFed.html">https://www.123pan.com/s/yS8UVv-5oFed.html</a> æå–ç :6666</p><p>T20å¤©æ­£ç»™æ’æ°´ï¼š<a href="https://www.123pan.com/s/yS8UVv-qoFed.html">https://www.123pan.com/s/yS8UVv-qoFed.html</a> æå–ç :6666</p><p>ä¸‹è½½å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-nkFed.html">https://www.123pan.com/s/yS8UVv-nkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šIDMï¼Œæ¯”ç‰¹å½—æ˜Ÿå’Œä¸€äº›è§†é¢‘ä¸‹è½½å·¥å…·</p><p>åŠå…¬è½¯ä»¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-8kFed.html">https://www.123pan.com/s/yS8UVv-8kFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šOfficeï¼ŒWpsï¼ŒPDFé˜…è¯»ã€ç¼–è¾‘å™¨ï¼ŒVisioï¼ŒProjectï¼ŒEndNoteï¼ŒLaTex</p><p>Officeï¼š<a href="https://www.123pan.com/s/yS8UVv-6oFed.html">https://www.123pan.com/s/yS8UVv-6oFed.html</a> æå–ç :6666</p><p>Wpsï¼š<a href="https://www.123pan.com/s/yS8UVv-yoFed.html">https://www.123pan.com/s/yS8UVv-yoFed.html</a> æå–ç :6666</p><p>Visioï¼š<a href="https://www.123pan.com/s/yS8UVv-VoFed.html">https://www.123pan.com/s/yS8UVv-VoFed.html</a> æå–ç :6666</p><p>Projectï¼š<a href="https://www.123pan.com/s/yS8UVv-joFed.html">https://www.123pan.com/s/yS8UVv-joFed.html</a> æå–ç :6666</p><p>EndNoteï¼š<a href="https://www.123pan.com/s/yS8UVv-TmFed.html">https://www.123pan.com/s/yS8UVv-TmFed.html</a> æå–ç :6666</p><p>LaTexï¼š<a href="https://www.123pan.com/s/yS8UVv-vmFed.html">https://www.123pan.com/s/yS8UVv-vmFed.html</a> æå–ç :6666</p><p>Foxitç¦æ˜•PDFç¼–è¾‘å™¨ï¼š<a href="https://www.123pan.com/s/yS8UVv-dmFed.html">https://www.123pan.com/s/yS8UVv-dmFed.html</a> æå–ç :6666</p><p>Foxitç¦æ˜•PDFé˜…è¯»å™¨ï¼š<a href="https://www.123pan.com/s/yS8UVv-3mFed.html">https://www.123pan.com/s/yS8UVv-3mFed.html</a> æå–ç :6666</p><p>PDFelementä¸‡å…´PDFä¸“å®¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-HmFed.html">https://www.123pan.com/s/yS8UVv-HmFed.html</a> æå–ç :6666</p><p>PDFXChangeEditorï¼š<a href="https://www.123pan.com/s/yS8UVv-hmFed.html">https://www.123pan.com/s/yS8UVv-hmFed.html</a> æå–ç :6666</p><p>åª’ä½“å·¥å…·ï¼š<a href="https://www.123pan.com/s/yS8UVv-0kFed.html">https://www.123pan.com/s/yS8UVv-0kFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šnuendoï¼ŒCubase</p><p>nuendoï¼š<a href="https://www.123pan.com/s/yS8UVv-9mFed.html">https://www.123pan.com/s/yS8UVv-9mFed.html</a> æå–ç :6666</p><p>Cubaseï¼š<a href="https://www.123pan.com/s/yS8UVv-AmFed.html">https://www.123pan.com/s/yS8UVv-AmFed.html</a> æå–ç :6666</p><p>å›¾åƒå¤„ç†ï¼š<a href="https://www.123pan.com/s/yS8UVv-KkFed.html">https://www.123pan.com/s/yS8UVv-KkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šACDSeeï¼ŒAffinityPhotoï¼ŒCaptureOneï¼ŒCorelPainterï¼Œäº¿å›¾å›¾ç¤ºï¼ŒSketchBookï¼ŒEasyPaintToolSAI</p><p>ACDSeeï¼š<a href="https://www.123pan.com/s/yS8UVv-QmFed.html">https://www.123pan.com/s/yS8UVv-QmFed.html</a> æå–ç :6666</p><p>AffinityPhotoï¼š<a href="https://www.123pan.com/s/yS8UVv-EmFed.html">https://www.123pan.com/s/yS8UVv-EmFed.html</a> æå–ç :6666</p><p>CaptureOneï¼š<a href="https://www.123pan.com/s/yS8UVv-kmFed.html">https://www.123pan.com/s/yS8UVv-kmFed.html</a> æå–ç :6666</p><p>CorelPainterï¼š<a href="https://www.123pan.com/s/yS8UVv-omFed.html">https://www.123pan.com/s/yS8UVv-omFed.html</a> æå–ç :6666</p><p>äº¿å›¾å›¾ç¤ºï¼š<a href="https://www.123pan.com/s/yS8UVv-1mFed.html">https://www.123pan.com/s/yS8UVv-1mFed.html</a> æå–ç :6666</p><p>SketchBookï¼š<a href="https://www.123pan.com/s/yS8UVv-4mFed.html">https://www.123pan.com/s/yS8UVv-4mFed.html</a> æå–ç :6666</p><p>EasyPaintToolSAIï¼š<a href="https://www.123pan.com/s/yS8UVv-mmFed.html">https://www.123pan.com/s/yS8UVv-mmFed.html</a> æå–ç :6666</p><p>ä»¿çœŸæ¨¡æ‹Ÿï¼š<a href="https://www.123pan.com/s/yS8UVv-ukFed.html">https://www.123pan.com/s/yS8UVv-ukFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šCOMSOLMultiphysicsï¼ŒANSYSElectronicsSuiteï¼ŒANSYSProductsï¼ŒAltairHyperWorksï¼ŒAnsysMaxwellï¼ŒMSCAdamsï¼ŒAbaqusï¼ŒVeroVisiï¼ŒTecplot360EXï¼ŒAutodeskMoldflowï¼ŒMidasCivilï¼ŒDynaform</p><p>COMSOLMultiphysicsï¼š<a href="https://www.123pan.com/s/yS8UVv-ImFed.html">https://www.123pan.com/s/yS8UVv-ImFed.html</a> æå–ç :6666</p><p>ANSYSElectronicsSuiteï¼š<a href="https://www.123pan.com/s/yS8UVv-JmFed.html">https://www.123pan.com/s/yS8UVv-JmFed.html</a> æå–ç :6666</p><p>ANSYSProductsï¼š<a href="https://www.123pan.com/s/yS8UVv-BmFed.html">https://www.123pan.com/s/yS8UVv-BmFed.html</a> æå–ç :6666</p><p>AltairHyperWorksï¼š<a href="https://www.123pan.com/s/yS8UVv-amFed.html">https://www.123pan.com/s/yS8UVv-amFed.html</a> æå–ç :6666</p><p>AnsysMaxwellï¼š<a href="https://www.123pan.com/s/yS8UVv-fmFed.html">https://www.123pan.com/s/yS8UVv-fmFed.html</a> æå–ç :6666</p><p>MSCAdamsï¼š<a href="https://www.123pan.com/s/yS8UVv-pmFed.html">https://www.123pan.com/s/yS8UVv-pmFed.html</a> æå–ç :6666</p><p>Abaqusï¼š<a href="https://www.123pan.com/s/yS8UVv-xmFed.html">https://www.123pan.com/s/yS8UVv-xmFed.html</a> æå–ç :6666</p><p>VeroVisiï¼š<a href="https://www.123pan.com/s/yS8UVv-GmFed.html">https://www.123pan.com/s/yS8UVv-GmFed.html</a> æå–ç :6666</p><p>Tecplot360EXï¼š<a href="https://www.123pan.com/s/yS8UVv-FmFed.html">https://www.123pan.com/s/yS8UVv-FmFed.html</a> æå–ç :6666</p><p>AutodeskMoldflowï¼š<a href="https://www.123pan.com/s/yS8UVv-gmFed.html">https://www.123pan.com/s/yS8UVv-gmFed.html</a> æå–ç :6666</p><p>MidasCivilï¼š<a href="https://www.123pan.com/s/yS8UVv-wmFed.html">https://www.123pan.com/s/yS8UVv-wmFed.html</a> æå–ç :6666</p><p>Dynaformï¼š<a href="https://www.123pan.com/s/yS8UVv-MmFed.html">https://www.123pan.com/s/yS8UVv-MmFed.html</a> æå–ç :6666</p><p>æ•°æ®åˆ†æï¼š<a href="https://www.123pan.com/s/yS8UVv-UkFed.html">https://www.123pan.com/s/yS8UVv-UkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šMatlabï¼ŒMySQLï¼ŒSQLServerï¼ŒTableauDesktopï¼ŒStataï¼ŒIBMSPSSStatisticsï¼ŒOriginï¼ŒMinitabï¼ŒMathematicaï¼ŒMapleï¼ŒAmos</p><p>Matlabï¼š<a href="https://www.123pan.com/s/yS8UVv-nmFed.html">https://www.123pan.com/s/yS8UVv-nmFed.html</a> æå–ç :6666</p><p>MySQLï¼š<a href="https://www.123pan.com/s/yS8UVv-2mFed.html">https://www.123pan.com/s/yS8UVv-2mFed.html</a> æå–ç :6666</p><p>SQLServerï¼š<a href="https://www.123pan.com/s/yS8UVv-smFed.html">https://www.123pan.com/s/yS8UVv-smFed.html</a> æå–ç :6666</p><p>TableauDesktopï¼š<a href="https://www.123pan.com/s/yS8UVv-WmFed.html">https://www.123pan.com/s/yS8UVv-WmFed.html</a> æå–ç :6666</p><p>Stataï¼š<a href="https://www.123pan.com/s/yS8UVv-CmFed.html">https://www.123pan.com/s/yS8UVv-CmFed.html</a> æå–ç :6666</p><p>IBMSPSSStatisticsï¼š<a href="https://www.123pan.com/s/yS8UVv-NmFed.html">https://www.123pan.com/s/yS8UVv-NmFed.html</a> æå–ç :6666</p><p>Originï¼š<a href="https://www.123pan.com/s/yS8UVv-OmFed.html">https://www.123pan.com/s/yS8UVv-OmFed.html</a> æå–ç :6666</p><p>Minitabï¼š<a href="https://www.123pan.com/s/yS8UVv-RmFed.html">https://www.123pan.com/s/yS8UVv-RmFed.html</a> æå–ç :6666</p><p>Mathematicaï¼š<a href="https://www.123pan.com/s/yS8UVv-DmFed.html">https://www.123pan.com/s/yS8UVv-DmFed.html</a> æå–ç :6666</p><p>Mapleï¼š<a href="https://www.123pan.com/s/yS8UVv-rmFed.html">https://www.123pan.com/s/yS8UVv-rmFed.html</a> æå–ç :6666</p><p>Amosï¼š<a href="https://www.123pan.com/s/yS8UVv-8mFed.html">https://www.123pan.com/s/yS8UVv-8mFed.html</a> æå–ç :6666</p><p>æœºæ¢°è®¾è®¡ï¼š<a href="https://www.123pan.com/s/yS8UVv-SkFed.html">https://www.123pan.com/s/yS8UVv-SkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šRhinocerosçŠ€ç‰›ï¼ŒUnigraphicsNX(UGNX)ï¼ŒSolidWorksï¼ŒPowerMillï¼ŒProeï¼ŒMastercamï¼ŒInventorï¼ŒCreoï¼ŒCATIAComposerï¼ŒCATIA</p><p>RhinocerosçŠ€ç‰›ï¼š<a href="https://www.123pan.com/s/yS8UVv-0mFed.html">https://www.123pan.com/s/yS8UVv-0mFed.html</a> æå–ç :6666</p><p>UnigraphicsNX(UGNX)ï¼š<a href="https://www.123pan.com/s/yS8UVv-KmFed.html">https://www.123pan.com/s/yS8UVv-KmFed.html</a> æå–ç :6666</p><p>SolidWorksï¼š<a href="https://www.123pan.com/s/yS8UVv-umFed.html">https://www.123pan.com/s/yS8UVv-umFed.html</a> æå–ç :6666</p><p>PowerMillï¼š<a href="https://www.123pan.com/s/yS8UVv-UmFed.html">https://www.123pan.com/s/yS8UVv-UmFed.html</a> æå–ç :6666</p><p>Proeï¼š<a href="https://www.123pan.com/s/yS8UVv-SmFed.html">https://www.123pan.com/s/yS8UVv-SmFed.html</a> æå–ç :6666</p><p>Mastercamï¼š<a href="https://www.123pan.com/s/yS8UVv-lmFed.html">https://www.123pan.com/s/yS8UVv-lmFed.html</a> æå–ç :6666</p><p>Inventorï¼š<a href="https://www.123pan.com/s/yS8UVv-7mFed.html">https://www.123pan.com/s/yS8UVv-7mFed.html</a> æå–ç :6666</p><p>Creoï¼š<a href="https://www.123pan.com/s/yS8UVv-bmFed.html">https://www.123pan.com/s/yS8UVv-bmFed.html</a> æå–ç :6666</p><p>CATIAComposerï¼š<a href="https://www.123pan.com/s/yS8UVv-ZmFed.html">https://www.123pan.com/s/yS8UVv-ZmFed.html</a> æå–ç :6666</p><p>CATIAï¼š<a href="https://www.123pan.com/s/yS8UVv-cmFed.html">https://www.123pan.com/s/yS8UVv-cmFed.html</a> æå–ç :6666</p><p>å»ºç­‘è®¾è®¡ï¼š<a href="https://www.123pan.com/s/yS8UVv-lkFed.html">https://www.123pan.com/s/yS8UVv-lkFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šAutodeskRevitï¼ŒAutoCADCivil3Dï¼ŒNavisworksManageï¼ŒTeklaStructuresï¼ŒVectorworks</p><p>AutodeskRevitï¼š<a href="https://www.123pan.com/s/yS8UVv-imFed.html">https://www.123pan.com/s/yS8UVv-imFed.html</a> æå–ç :6666</p><p>AutoCADCivil3Dï¼š<a href="https://www.123pan.com/s/yS8UVv-emFed.html">https://www.123pan.com/s/yS8UVv-emFed.html</a> æå–ç :6666</p><p>NavisworksManageï¼š<a href="https://www.123pan.com/s/yS8UVv-tmFed.html">https://www.123pan.com/s/yS8UVv-tmFed.html</a> æå–ç :6666</p><p>TeklaStructuresï¼š<a href="https://www.123pan.com/s/yS8UVv-zmFed.html">https://www.123pan.com/s/yS8UVv-zmFed.html</a> æå–ç :6666</p><p>Vectorworksï¼š<a href="https://www.123pan.com/s/yS8UVv-LmFed.html">https://www.123pan.com/s/yS8UVv-LmFed.html</a> æå–ç :6666</p><p>ç”µå­ç”µè·¯ï¼š<a href="https://www.123pan.com/s/yS8UVv-7kFed.html">https://www.123pan.com/s/yS8UVv-7kFed.html</a> æå–ç :6666</p><p>åŒ…å«ï¼šProteusï¼ŒMultisimï¼ŒAltiumDesigner</p><p>Proteusï¼š<a href="https://www.123pan.com/s/yS8UVv-6mFed.html">https://www.123pan.com/s/yS8UVv-6mFed.html</a> æå–ç :6666</p><p>Multisimï¼š<a href="https://www.123pan.com/s/yS8UVv-qmFed.html">https://www.123pan.com/s/yS8UVv-qmFed.html</a> æå–ç :6666</p><p>AltiumDesignerï¼š<a href="https://www.123pan.com/s/yS8UVv-5mFed.html">https://www.123pan.com/s/yS8UVv-5mFed.html</a> æå–ç :6666</p><p>MSDNï¼š<a href="https://www.123pan.com/s/yS8UVv-ymFed.html">https://www.123pan.com/s/yS8UVv-ymFed.html</a> æå–ç :6666</p><hr><p>Macæ€»ç´¢å¼•ï¼š<a href="https://www.123pan.com/s/yS8UVv-bqged.html%E3%80%90">https://www.123pan.com/s/yS8UVv-bqged.htmlã€</a> æå–ç :6666ã€‘</p><p>ISOæ–‡ä»¶ï¼š<a href="https://www.123pan.com/s/yS8UVv-66Fed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-66Fed.htmlã€</a> æå–ç :6666ã€‘</p><p>VMvareï¼š<a href="https://www.123pan.com/s/yS8UVv-OkFed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-OkFed.htmlã€</a> æå–ç :6666ã€‘</p><p>unlockerï¼š<a href="https://www.123pan.com/s/yS8UVv-y6Fed.html%E3%80%90">https://www.123pan.com/s/yS8UVv-y6Fed.htmlã€</a> æå–ç :6666ã€‘</p><hr><p>MSDNæ–°ç½‘ç«™ï¼šnext.itellyou.cn</p><p>æç¤ºï¼š</p><p>Windowså˜æ­£ç‰ˆå·¥å…·KMSï¼š<a href="https://wwi.lanzout.com/igcDdyru6if">https://wwi.lanzout.com/igcDdyru6if</a></p><p>æˆ‘çš„è“ç­¹äº‘KMSï¼š<a href="https://wwcv.lanzouw.com/iyJBM0y2vtwj%E5%AF%86%E7%A0%81:crce">https://wwcv.lanzouw.com/iyJBM0y2vtwjå¯†ç :crce</a></p><p>å…¶ä»–æ­£ç‰ˆå·¥å…·å‚è€ƒï¼šrjctx.com</p><p>å¿…é¡»æ³¨æ„ï¼šä¸‹è½½çš„ç³»ç»Ÿæ–‡ä»¶å¿…é¡»æ ¡éªŒï¼Œæ ¡éªŒå·¥å…·å’ŒHashæ ¡éªŒå€¼ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹éƒ½æœ‰</p><p>ä¸æ ¡éªŒï¼Œå¯„äº†åˆå¾—é‡è£…ç³»ç»Ÿã€‚ã€‚ã€‚</p><p>ã€Windowsç³»ç»Ÿã€‘ï¼š</p><p>Win11ï¼š<a href="https://www.123pan.com/s/yS8UVv-sqged.html">https://www.123pan.com/s/yS8UVv-sqged.html</a> æå–ç :6666</p><p>Win10ï¼š<a href="https://www.123pan.com/s/yS8UVv-Wqged.html">https://www.123pan.com/s/yS8UVv-Wqged.html</a> æå–ç :6666</p><p>Win8.1ï¼š<a href="https://www.123pan.com/s/yS8UVv-Nqged.html">https://www.123pan.com/s/yS8UVv-Nqged.html</a> æå–ç :6666</p><p>Win8ï¼š<a href="https://www.123pan.com/s/yS8UVv-Oqged.html">https://www.123pan.com/s/yS8UVv-Oqged.html</a> æå–ç :6666</p><p>WinVistaï¼š<a href="https://www.123pan.com/s/yS8UVv-Dqged.html">https://www.123pan.com/s/yS8UVv-Dqged.html</a> æå–ç :6666</p><p>Win7ï¼š<a href="https://www.123pan.com/s/yS8UVv-Cqged.html">https://www.123pan.com/s/yS8UVv-Cqged.html</a> æå–ç :6666</p><p>WinXPï¼š<a href="https://www.123pan.com/s/yS8UVv-Rqged.html">https://www.123pan.com/s/yS8UVv-Rqged.html</a> æå–ç :6666</p><p>ã€WindowsæœåŠ¡å™¨ã€‘</p><p>WindowsServer2022ï¼š<a href="https://www.123pan.com/s/yS8UVv-rqged.html">https://www.123pan.com/s/yS8UVv-rqged.html</a> æå–ç :6666</p><p>WindowsServer2019ï¼š<a href="https://www.123pan.com/s/yS8UVv-8qged.html">https://www.123pan.com/s/yS8UVv-8qged.html</a> æå–ç :6666</p><p>WindowsServer2016ï¼š<a href="https://www.123pan.com/s/yS8UVv-0qged.html">https://www.123pan.com/s/yS8UVv-0qged.html</a> æå–ç :6666</p><hr><p>Windowsæ±‡æ€»ï¼š<a href="https://www.123pan.com/s/yS8UVv-cqged.html">https://www.123pan.com/s/yS8UVv-cqged.html</a> æå–ç :6666</p><p>ã€Linuxç³»ç»Ÿã€‘ï¼š</p><p>CentOSï¼š<a href="https://www.123pan.com/s/yS8UVv-lqged.html">https://www.123pan.com/s/yS8UVv-lqged.html</a> æå–ç :6666</p><p>Ubuntuï¼š<a href="https://www.123pan.com/s/yS8UVv-Sqged.html">https://www.123pan.com/s/yS8UVv-Sqged.html</a> æå–ç :6666</p><p>Fedoraï¼š<a href="https://www.123pan.com/s/yS8UVv-7qged.html">https://www.123pan.com/s/yS8UVv-7qged.html</a> æå–ç :6666</p><p>UOSï¼š<a href="https://www.123pan.com/s/yS8UVv-Uqged.html">https://www.123pan.com/s/yS8UVv-Uqged.html</a> æå–ç :6666</p><p>Deepinï¼š<a href="https://www.123pan.com/s/yS8UVv-uqged.html">https://www.123pan.com/s/yS8UVv-uqged.html</a> æå–ç :6666</p><hr><p>Linuxæ±‡æ€»ï¼š<a href="https://www.123pan.com/s/yS8UVv-Zqged.html">https://www.123pan.com/s/yS8UVv-Zqged.html</a> æå–ç :6666</p><p>ã€MacOSç³»ç»Ÿã€‘ï¼š</p><p>MacOSæ±‡æ€»ï¼š<a href="https://www.123pan.com/s/yS8UVv-bqged.html">https://www.123pan.com/s/yS8UVv-bqged.html</a> æå–ç :6666</p><p>ã€ChromiumOSç³»ç»Ÿã€‘ï¼š</p><p>ChromiumOSæ±‡æ€»ï¼š<a href="https://www.123pan.com/s/yS8UVv-eqged.html">https://www.123pan.com/s/yS8UVv-eqged.html</a> æå–ç :6666</p><p>ã€BSDç³»ç»Ÿã€‘ï¼š</p><p>FreeBSDï¼š<a href="https://www.123pan.com/s/yS8UVv-iqged.html">https://www.123pan.com/s/yS8UVv-iqged.html</a> æå–ç :6666</p><p>NetBSDï¼š<a href="https://www.123pan.com/s/yS8UVv-zqged.html">https://www.123pan.com/s/yS8UVv-zqged.html</a> æå–ç :6666</p><p>OpenBSDï¼š<a href="https://www.123pan.com/s/yS8UVv-Lqged.html">https://www.123pan.com/s/yS8UVv-Lqged.html</a> æå–ç :6666</p><p>DragonFlyBSDï¼š<a href="https://www.123pan.com/s/yS8UVv-5qged.html">https://www.123pan.com/s/yS8UVv-5qged.html</a> æå–ç :6666</p><hr><p>BSDæ±‡æ€»ï¼š<a href="https://www.123pan.com/s/yS8UVv-tqged.html">https://www.123pan.com/s/yS8UVv-tqged.html</a> æå–ç :6666</p><p>ã€ã€ã€PSï¼š123ç½‘ç›˜åˆ†äº«ï¼Œå…¨æ˜¯æ–‡ä»¶å¤¹ï¼Œç‚¹è¿›å»è‡ªå·±é€‰æ‹©ä¸‹è½½ç‰ˆæœ¬ã€‘ã€‘ã€‘</p><p>è½¯ä»¶ä¸»è¦æ¥æºï¼š</p><p>è€ƒæ‹‰ï¼šrjctx.comï¼Œè„šæœ¬ä¹‹å®¶ï¼š<a href="https://www.jb51.netï¼Œç³»ç»Ÿæ¬è¿è‡ªMSDNï¼šhttps://msdn.itellyou.cn/ï¼Œnext.itellyou.cn">https://www.jb51.netï¼Œç³»ç»Ÿæ¬è¿è‡ªMSDNï¼šhttps://msdn.itellyou.cn/ï¼Œnext.itellyou.cn</a></p>]]></content>
      
      
      <categories>
          
          <category> èµ„æº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èµ„æº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·»åŠ è¡Œæ˜Ÿç‰¹æ•ˆ</title>
      <link href="/posts/b04a.html"/>
      <url>/posts/b04a.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ·»åŠ è¡Œæ˜Ÿç‰¹æ•ˆ"><a href="#æ·»åŠ è¡Œæ˜Ÿç‰¹æ•ˆ" class="headerlink" title="æ·»åŠ è¡Œæ˜Ÿç‰¹æ•ˆ"></a>æ·»åŠ è¡Œæ˜Ÿç‰¹æ•ˆ</h1><p>å‰å‡ å¤©åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªå¾ˆå¥½çœ‹çš„è¡Œæ˜ŸåŠ¨ç”»ç‰¹æ•ˆã€‚äºæ˜¯å°±æƒ³ç€æŠŠå®ƒåŠ å…¥åˆ°è‡ªå·±çš„ç½‘ç«™é‡Œï¼Œè™½ç„¶ä¼šå½±å“ç½‘ç«™æ€§èƒ½ï¼Œä½†æ˜¯å¯¹è¿™ç§çœŸçš„æ²¡æœ‰æŠµæŠ—åŠ›ï¼</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202404291955038.gif" alt="æ—¥æ—¥å¤œå¤œè‡ªè½¬çš„è¡Œæ˜Ÿ"></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>æºç ï¼š<a href="https://nowjava.com/download/19419">html5 canvasç»˜åˆ¶é™¨çŸ³å›´ç»•å¤©ä½“è¿åŠ¨çš„åŠ¨ç”»ç‰¹æ•ˆæºç  -HTMLä»£ç ä¸‹è½½ -æ—¶ä»£Javaï¼Œä¸æ‚¨åŒè¡Œï¼ (nowjava.com)</a></p><p><strong>æ³¨æ„</strong>ï¼š</p><ol><li><p>è‡ªå·±éœ€è¦æ ¹æ®è‡ªå·±çš„ä»£ç å­˜æ”¾ä½ç½®æ‰‹åŠ¨ä¿®æ”¹<code>index.html</code>ä»£ç ä¸­çš„è·¯å¾„</p></li><li><p>å¯èƒ½ä¼šå‡ºç°é¡µé¢æ¸²æŸ“é˜»å¡çš„æƒ…å†µï¼Œåšä¸»ä½¿ç”¨åŸä»£ç ï¼Œæ¨é€åˆ°ç½‘ç«™åï¼Œå°±å‡ºç°äº†åŠ¨ç”»æ•ˆæœå¡é¡¿çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>defer</code> æˆ– <code>async</code> å±æ€§æ¥å®ç°å¼‚æ­¥åŠ è½½ï¼Œç¡®ä¿è„šæœ¬ä¸ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ã€‚</p><p>è¿™é‡Œè®°å½•ä¸€ä¸‹ä»£ç çš„ä¼˜åŒ–è¿‡ç¨‹</p><ol><li><p>ä½¿ç”¨åŸä»£ç ï¼ˆé¡µé¢æ¸²æŸ“é˜»å¡ï¼‰</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ä¹±çŸ³ç©¿ç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../css/asteroids.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/three.min.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/CopyShader.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/EffectComposer.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/FilmPass.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/FilmShader.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/ShaderPass.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/RenderPass.js<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../js/asteroids/index.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ä½¿ç”¨ <code>defer</code> å±æ€§å®ç°å¼‚æ­¥åŠ è½½ï¼Œç¡®ä¿è„šæœ¬å°†åœ¨æ–‡æ¡£è§£æå®Œæ¯•åå¼‚æ­¥åŠ è½½ï¼Œå¹¶åœ¨æ–‡æ¡£å®Œæˆè§£æåç«‹å³æ‰§è¡Œã€‚è¿™æ ·å¯ä»¥ç¡®ä¿é¡µé¢åŠ è½½ä¸ä¼šè¢«è„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œæ‰€é˜»å¡ã€‚ä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ˜¯ä»£ç å’ŒåŸåšå®¢é‡Œçš„ä»£ç äº§ç”Ÿå†²çªï¼Œä¸€ç›´æ²¡èƒ½è§£å†³ï¼Œæˆäº†è¦ç»•åœ¨å¿ƒå¤´çš„ä¸€å¤§é—®é¢˜ï¼Œä»Šæ—¥ç»ˆäºæˆåŠŸè§£å†³ï¼ãƒ¾(â‰§â–½â‰¦*)o</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ä¹±çŸ³ç©¿ç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../css/asteroids.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/three.min.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/CopyShader.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/EffectComposer.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/FilmPass.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/FilmShader.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/ShaderPass.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>../../js/asteroids/RenderPass.js<span class="token punctuation">'</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../js/asteroids/index.js<span class="token punctuation">"</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ„Ÿè§‰ä»£ç çœ‹èµ·æ¥æœ‰äº›å†—æ‚ï¼Œä¿®æ”¹äº†ä¸€ä¸‹ï¼Œçœ‹èµ·æ¥æ›´ä¸“ä¸šäº†ğŸ˜</p><pre class="line-numbers language-ejs" data-language="ejs"><code class="language-ejs"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ä¹±çŸ³ç©¿ç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../../css/asteroids.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token string">"../../js/asteroids/"</span><span class="token punctuation">;</span>            <span class="token keyword">const</span> scripts <span class="token operator">=</span> <span class="token punctuation">[</span>                <span class="token string">'three.min.js'</span><span class="token punctuation">,</span>                <span class="token string">'CopyShader.js'</span><span class="token punctuation">,</span>                <span class="token string">'EffectComposer.js'</span><span class="token punctuation">,</span>                <span class="token string">'FilmPass.js'</span><span class="token punctuation">,</span>                <span class="token string">'FilmShader.js'</span><span class="token punctuation">,</span>                <span class="token string">'ShaderPass.js'</span><span class="token punctuation">,</span>                <span class="token string">'RenderPass.js'</span><span class="token punctuation">,</span>                <span class="token string">'index.js'</span>            <span class="token punctuation">]</span><span class="token punctuation">;</span>            scripts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">script</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                <span class="token keyword">const</span> scriptTag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                scriptTag<span class="token punctuation">.</span>src <span class="token operator">=</span> path <span class="token operator">+</span> script<span class="token punctuation">;</span>                scriptTag<span class="token punctuation">.</span>defer <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>scriptTag<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol></li></ol><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>å½“æµè§ˆå™¨è§£æ HTML æ–‡æ¡£æ—¶ï¼Œé‡åˆ° <code>&lt;script&gt;</code> æ ‡ç­¾æ—¶ï¼Œå®ƒä¼šåœæ­¢è§£ææ–‡æ¡£å¹¶ç«‹å³ä¸‹è½½å¹¶æ‰§è¡Œè„šæœ¬ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨çš„æ¸²æŸ“ä¹Ÿä¼šè¢«é˜»å¡ï¼Œç›´åˆ°è„šæœ¬åŠ è½½å’Œæ‰§è¡Œå®Œæˆã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´é¡µé¢åŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œç‰¹åˆ«æ˜¯å½“é¡µé¢ä¸­æœ‰å¤šä¸ªè„šæœ¬éœ€è¦åŠ è½½æ—¶ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒHTML5 å¼•å…¥äº† <code>defer</code> å’Œ <code>async</code> å±æ€§ï¼Œè¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯ç”¨æ¥æ§åˆ¶è„šæœ¬çš„åŠ è½½å’Œæ‰§è¡Œæ–¹å¼çš„ã€‚</p><h3 id="defer-å±æ€§"><a href="#defer-å±æ€§" class="headerlink" title="defer å±æ€§"></a>defer å±æ€§</h3><p><code>defer</code> å±æ€§å‘Šè¯‰æµè§ˆå™¨ç«‹å³ä¸‹è½½è„šæœ¬æ–‡ä»¶ï¼Œä½†å»¶è¿Ÿæ‰§è¡Œè„šæœ¬ï¼Œç›´åˆ°æ–‡æ¡£è§£æå®Œæˆåå†æ‰§è¡Œã€‚å…·ä½“æ¥è¯´ï¼š</p><ul><li>å»¶è¿Ÿæ‰§è¡Œè„šæœ¬ï¼Œæ„å‘³ç€è„šæœ¬ä¼šåœ¨æ–‡æ¡£è§£æå®ŒæˆåæŒ‰ç…§å®ƒä»¬åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¡ºåºæ‰§è¡Œã€‚</li><li>å¤šä¸ªå¸¦æœ‰ defer å±æ€§çš„è„šæœ¬ä¼šæŒ‰ç…§å®ƒä»¬åœ¨æ–‡æ¡£ä¸­çš„é¡ºåºé¡ºåºæ‰§è¡Œã€‚</li><li>è„šæœ¬ä¼šåœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰æ‰§è¡Œï¼Œç¡®ä¿å®ƒä»¬åœ¨æ–‡æ¡£çš„å…¶ä»–å†…å®¹åŠ è½½ä¹‹å‰æ‰§è¡Œã€‚</li></ul><h3 id="async-å±æ€§"><a href="#async-å±æ€§" class="headerlink" title="async å±æ€§"></a>async å±æ€§</h3><p><code>async</code> å±æ€§å‘Šè¯‰æµè§ˆå™¨ç«‹å³ä¸‹è½½è„šæœ¬æ–‡ä»¶ï¼Œå¹¶ä¸”å¼‚æ­¥æ‰§è¡Œè„šæœ¬ï¼Œä¸ä¼šé˜»æ­¢æ–‡æ¡£çš„è§£æã€‚å…·ä½“æ¥è¯´ï¼š</p><ul><li>å¼‚æ­¥æ‰§è¡Œè„šæœ¬ï¼Œæ„å‘³ç€è„šæœ¬ä¼šåœ¨ä¸‹è½½å®Œæˆåå°½å¿«æ‰§è¡Œï¼Œä¸ä¼šç­‰å¾…å…¶ä»–è„šæœ¬æˆ–æ–‡æ¡£è§£æå®Œæˆã€‚</li><li>å¤šä¸ªå¸¦æœ‰ async å±æ€§çš„è„šæœ¬çš„æ‰§è¡Œé¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œè°å…ˆä¸‹è½½å®Œæˆå°±ä¼šå…ˆæ‰§è¡Œè°ã€‚</li><li>è„šæœ¬çš„æ‰§è¡Œå¯èƒ½åœ¨æ–‡æ¡£çš„å…¶ä»–å†…å®¹åŠ è½½ä¹‹å‰æˆ–ä¹‹åã€‚</li></ul><h3 id="é€‰æ‹©-defer-è¿˜æ˜¯-asyncï¼Ÿ"><a href="#é€‰æ‹©-defer-è¿˜æ˜¯-asyncï¼Ÿ" class="headerlink" title="é€‰æ‹© defer è¿˜æ˜¯ asyncï¼Ÿ"></a>é€‰æ‹© defer è¿˜æ˜¯ asyncï¼Ÿ</h3><ul><li>å¦‚æœè„šæœ¬ä¹‹é—´çš„æ‰§è¡Œé¡ºåºå¾ˆé‡è¦ï¼Œå¹¶ä¸”ä½ å¸Œæœ›å®ƒä»¬åœ¨æ–‡æ¡£è§£æå®ŒæˆåæŒ‰é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨ defer å±æ€§ã€‚</li><li>å¦‚æœè„šæœ¬ä¹‹é—´çš„æ‰§è¡Œé¡ºåºä¸é‡è¦ï¼Œå¹¶ä¸”ä½ å¸Œæœ›å°½å¿«æ‰§è¡Œè„šæœ¬ï¼Œä¸é˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ async å±æ€§ã€‚</li><li>å¦‚æœä½ æœ‰å¤šä¸ªè„šæœ¬éœ€è¦å¼‚æ­¥åŠ è½½ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ async å±æ€§ä»¥æé«˜é¡µé¢åŠ è½½æ€§èƒ½ã€‚</li></ul><p>æ€»ä¹‹ï¼Œdefer å±æ€§é€‚ç”¨äºéœ€è¦ä¿æŒè„šæœ¬æ‰§è¡Œé¡ºåºçš„æƒ…å†µï¼Œè€Œ async å±æ€§é€‚ç”¨äºæ— åºçš„å¼‚æ­¥åŠ è½½è„šæœ¬ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œæ˜Ÿç‰¹æ•ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå…¥é—¨</title>
      <link href="/posts/2bc5.html"/>
      <url>/posts/2bc5.html</url>
      
        <content type="html"><![CDATA[<h1 id="Dockerå…¥é—¨"><a href="#Dockerå…¥é—¨" class="headerlink" title="Dockerå…¥é—¨"></a>Dockerå…¥é—¨</h1><p><a href="https://www.runoob.com/docker/docker-tutorial.html">Docker æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WireSharkåŸºç¡€ä½¿ç”¨</title>
      <link href="/posts/35b9.html"/>
      <url>/posts/35b9.html</url>
      
        <content type="html"><![CDATA[<h1 id="WireSharkåŸºç¡€ä½¿ç”¨"><a href="#WireSharkåŸºç¡€ä½¿ç”¨" class="headerlink" title="WireSharkåŸºç¡€ä½¿ç”¨"></a>WireSharkåŸºç¡€ä½¿ç”¨</h1><p><a href="https://xie.infoq.cn/article/c065340cbae0680afc7b984ee">ã€ç²¾é€‰æ•™ç¨‹ã€‘å››å¤§ç½‘ç»œæŠ“åŒ…ç¥å™¨ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ _é›ªå¥ˆæ¤°å­_InfoQå†™ä½œç¤¾åŒº</a></p><p><a href="https://blog.csdn.net/zzwwhhpp/article/details/113077747">ç½‘ç»œåˆ†æå·¥å…·â€”â€”WireSharkçš„ä½¿ç”¨ï¼ˆè¶…è¯¦ç»†ï¼‰-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ“åŒ… </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WireShark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ±‡ç¼–è¯­è¨€</title>
      <link href="/posts/ec85.html"/>
      <url>/posts/ec85.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> æ±‡ç¼– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ±‡ç¼– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘æ›¾ä¸ƒæ¬¡é„™è§†è‡ªå·±çš„çµé­‚</title>
      <link href="/posts/essay-demo.html"/>
      <url>/posts/essay-demo.html</url>
      
        <content type="html"><![CDATA[<h3 id="éšç¬”æ¿å—ï¼Œåç»­ä¼šæ›´æ–°æ–‡ç« ï¼Œç›®å‰å¼„å¥½äº†æ¨¡æ¿æ ¼å¼"><a href="#éšç¬”æ¿å—ï¼Œåç»­ä¼šæ›´æ–°æ–‡ç« ï¼Œç›®å‰å¼„å¥½äº†æ¨¡æ¿æ ¼å¼" class="headerlink" title="éšç¬”æ¿å—ï¼Œåç»­ä¼šæ›´æ–°æ–‡ç« ï¼Œç›®å‰å¼„å¥½äº†æ¨¡æ¿æ ¼å¼~"></a>éšç¬”æ¿å—ï¼Œåç»­ä¼šæ›´æ–°æ–‡ç« ï¼Œç›®å‰å¼„å¥½äº†æ¨¡æ¿æ ¼å¼~</h3><div class="ipage">   <div class="ititle">èŠ‚é€‰è‡ªã€ŠSeven times have I despised my soulã€‹- Kahlil Gibran</div>   <div class="izhengwen">     <p>    æˆ‘æ›¾ä¸ƒæ¬¡é„™è§†è‡ªå·±çš„çµé­‚ - çºªä¼¯ä¼¦<br>    The first time when I saw her being meek that she might attain height.<br>    ç¬¬ä¸€æ¬¡, å½“å®ƒæœ¬å¯è¿›å–æ—¶, å´æ•…ä½œè°¦å‘<br>    The second time when I saw her limping before the crippled.<br>    ç¬¬äºŒæ¬¡, å½“å®ƒç©ºè™šæ—¶, ç”¨çˆ±æ¬²æ¥å¡«å……<br>    The third time when she was given to choose between the hard and the easy, and she chose the easy.<br>    ç¬¬ä¸‰æ¬¡, åœ¨å •è½å’ŒåŠªåŠ›ä¹‹é—´, å®ƒé€‰æ‹©äº†å •è½<br>    The fourth time when she committed a wrong, and comforted herself that others also commit wrong.<br>    ç¬¬å››æ¬¡, å®ƒçŠ¯äº†é”™, å´è—‰ç”±åˆ«äººçš„é”™æ¥å®½æ…°è‡ªå·±<br>     The fifth time when she forbore for weakness, and attributed her patience to strength.<br>    ç¬¬äº”æ¬¡, å®ƒè‡ªç”±è½¯å¼±ï¼Œå´æŠŠå®ƒè®¤ä¸ºæ˜¯ç”Ÿå‘½çš„åšéŸ§<br>    The sixth time when she despised the ugliness of a face and knew not that it was one of her own masks.<br>    ç¬¬å…­æ¬¡, å½“å®ƒå˜²ç¬‘ä»–äººæ„šè ¢æ—¶, å´ä¸çŸ¥è‡ªå·±æ›´æ˜¯è ¢æ<br>    The seventh time when she sang a song of praise and deemed it a virtue.<br>    ç¬¬ä¸ƒæ¬¡, å®ƒåœ¨æ³¥æ½­æ—¶æ—¢å½»åº•æ‘†ä¸äº†çƒ‚ä¹Ÿä¸å½»åº•ç”˜å¿ƒ<br>    </p>   </div> </div>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåŸºç¡€å‘½ä»¤</title>
      <link href="/posts/ec85.html"/>
      <url>/posts/ec85.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-åŸºç¡€å‘½ä»¤"><a href="#Hexo-åŸºç¡€å‘½ä»¤" class="headerlink" title="Hexo åŸºç¡€å‘½ä»¤"></a>Hexo åŸºç¡€å‘½ä»¤</h1><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><pre class="line-numbers language-none"><code class="language-none">hexo new&quot;postName&quot;      æ–°å»ºæ–‡ç«  hexo new page&quot;pageName&quot; æ–°å»ºé¡µé¢ hexo generate           ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• hexo clean              æ¸…é™¤ç”Ÿæˆå†…å®¹ hexo server             å¼€å¯é¢„è§ˆè®¿é—®ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ&#39;ctrl + c&#39;å…³é—­serverï¼‰ hexo deploy             å°†.deployç›®å½•éƒ¨ç½²åˆ°æŒ‡å®šç©ºé—´ hexo help               æŸ¥çœ‹å¸®åŠ© hexo version            æŸ¥çœ‹hexoçš„ç‰ˆæœ¬hexo server -p 5000 æ›´æ”¹ç«¯å£<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¼©å†™"><a href="#ç¼©å†™" class="headerlink" title="ç¼©å†™"></a>ç¼©å†™</h2><pre class="line-numbers language-text" data-language="text"><code class="language-text">hexo gï¼š hexo generatehexo clï¼šhexo cleanhexo sï¼š hexo serverhexo dï¼š hexo deployhexo n "æˆ‘çš„åšå®¢"      hexo new "æˆ‘çš„åšå®¢"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»„åˆ"><a href="#ç»„åˆ" class="headerlink" title="ç»„åˆ"></a>ç»„åˆ</h2><pre class="line-numbers language-text" data-language="text"><code class="language-text">hexo s -g    ç”Ÿæˆå¹¶æœ¬åœ°é¢„è§ˆhexo d -g    ç”Ÿæˆå¹¶ä¸Šä¼ hexo clean &amp;&amp; hexo g -s æ¸…é™¤ã€ç”Ÿæˆã€å¯åŠ¨hexo clean &amp;&amp; hexo g -d æ¸…é™¤ã€ç”Ÿæˆã€éƒ¨ç½²<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vi/vimå…¥é—¨ä½¿ç”¨</title>
      <link href="/posts/4836.html"/>
      <url>/posts/4836.html</url>
      
        <content type="html"><![CDATA[<h1 id="vimå…¥é—¨ä½¿ç”¨"><a href="#vimå…¥é—¨ä½¿ç”¨" class="headerlink" title="vimå…¥é—¨ä½¿ç”¨"></a>vimå…¥é—¨ä½¿ç”¨</h1><h2 id="vi-vim"><a href="#vi-vim" class="headerlink" title="vi&#x2F;vim"></a>vi&#x2F;vim</h2><p>æ‰€æœ‰çš„ Unix Like ç³»ç»Ÿéƒ½ä¼šå†…å»º vi æ–‡ä¹¦ç¼–è¾‘å™¨ï¼Œå…¶ä»–çš„æ–‡ä¹¦ç¼–è¾‘å™¨åˆ™ä¸ä¸€å®šä¼šå­˜åœ¨ã€‚</p><p>ä½†æ˜¯ç›®å‰æˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯ vim ç¼–è¾‘å™¨ã€‚</p><p>vim å…·æœ‰ç¨‹åºç¼–è¾‘çš„èƒ½åŠ›ï¼Œå¯ä»¥ä¸»åŠ¨çš„ä»¥å­—ä½“é¢œè‰²è¾¨åˆ«è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œæ–¹ä¾¿ç¨‹åºè®¾è®¡ã€‚</p><p>ç›¸å…³æ–‡ç« ï¼š<a href="https://www.runoob.com/w3cnote/all-vim-cheatsheat.html">å²ä¸Šæœ€å…¨Vimå¿«æ·é”®é”®ä½å›¾ â€” å…¥é—¨åˆ°è¿›é˜¶</a></p><p>Vim æ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å…¨ã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p><p>ç®€å•çš„æ¥è¯´ï¼Œ vi æ˜¯è€å¼çš„å­—å¤„ç†å™¨ï¼Œä¸è¿‡åŠŸèƒ½å·²ç»å¾ˆé½å…¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¯ä»¥è¿›æ­¥çš„åœ°æ–¹ã€‚ vim åˆ™å¯ä»¥è¯´æ˜¯ç¨‹åºå¼€å‘è€…çš„ä¸€é¡¹å¾ˆå¥½ç”¨çš„å·¥å…·ã€‚</p><p>è¿ vim çš„å®˜æ–¹ç½‘ç«™ (<a href="https://www.vim.org/">https://www.vim.org/</a>) è‡ªå·±ä¹Ÿè¯´ vim æ˜¯ä¸€ä¸ªç¨‹åºå¼€å‘å·¥å…·è€Œä¸æ˜¯æ–‡å­—å¤„ç†è½¯ä»¶ã€‚</p><h2 id="vi-vim-çš„ä½¿ç”¨"><a href="#vi-vim-çš„ä½¿ç”¨" class="headerlink" title="vi&#x2F;vim çš„ä½¿ç”¨"></a>vi&#x2F;vim çš„ä½¿ç”¨</h2><p>åŸºæœ¬ä¸Š vi&#x2F;vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œ<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Modeï¼‰ã€è¾“å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰å’Œå‘½ä»¤è¡Œæ¨¡å¼ï¼ˆCommand-Line Modeï¼‰</strong>ã€‚</p><h3 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h3><p><strong>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi&#x2F;vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚</strong></p><p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢« Vim è¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ï¼Œæ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹ <strong>i</strong>ï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œ<strong>i</strong> è¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯æ™®é€šæ¨¡å¼å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</p><ul><li><strong>i</strong> â€“ åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡å½“å‰ä½ç½®å¼€å§‹è¾“å…¥æ–‡æœ¬ã€‚</li><li><strong>x</strong> â€“ åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚</li><li><strong>:</strong> â€“ åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚</li><li><strong>a</strong> â€“ è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œåœ¨å…‰æ ‡ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹è¾“å…¥æ–‡æœ¬ã€‚</li><li><strong>o</strong>ï¼šåœ¨å½“å‰è¡Œçš„ä¸‹æ–¹æ’å…¥ä¸€ä¸ªæ–°è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</li><li><strong>O</strong> â€“ åœ¨å½“å‰è¡Œçš„ä¸Šæ–¹æ’å…¥ä¸€ä¸ªæ–°è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</li><li><strong>dd</strong> â€“ å‰ªåˆ‡å½“å‰è¡Œã€‚</li><li><strong>yy</strong> â€“ å¤åˆ¶å½“å‰è¡Œã€‚</li><li><strong>p</strong>ï¼ˆå°å†™ï¼‰ â€“ ç²˜è´´å‰ªè´´æ¿å†…å®¹åˆ°å…‰æ ‡ä¸‹æ–¹ã€‚</li><li><strong>P</strong>ï¼ˆå¤§å†™ï¼‰â€“ ç²˜è´´å‰ªè´´æ¿å†…å®¹åˆ°å…‰æ ‡ä¸Šæ–¹ã€‚</li><li><strong>u</strong> â€“ æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œã€‚</li><li><strong>Ctrl + r</strong> â€“ é‡åšä¸Šä¸€æ¬¡æ’¤é”€çš„æ“ä½œã€‚</li><li><strong>:w</strong> â€“ ä¿å­˜æ–‡ä»¶ã€‚</li><li><strong>:q</strong> â€“ é€€å‡º Vim ç¼–è¾‘å™¨ã€‚</li><li><strong>:q!</strong> â€“ å¼ºåˆ¶é€€å‡ºVim ç¼–è¾‘å™¨ï¼Œä¸ä¿å­˜ä¿®æ”¹ã€‚</li></ul><p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼Œåªéœ€è¦å¯åŠ¨ Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹ <strong>i</strong> åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼å³å¯ã€‚</p><p>å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é <strong>åº•çº¿å‘½ä»¤è¡Œæ¨¡å¼</strong>è¾“å…¥æ›´å¤šå‘½ä»¤ã€‚</p><h3 id="è¾“å…¥æ¨¡å¼"><a href="#è¾“å…¥æ¨¡å¼" class="headerlink" title="è¾“å…¥æ¨¡å¼"></a>è¾“å…¥æ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ <strong>i</strong> å°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ï¼Œä½¿ç”¨ <strong>Esc</strong> é”®å¯ä»¥è¿”å›åˆ°æ™®é€šæ¨¡å¼ã€‚</p><p>åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š</p><ul><li><strong>å­—ç¬¦æŒ‰é”®ä»¥åŠShiftç»„åˆ</strong>ï¼Œè¾“å…¥å­—ç¬¦</li><li><strong>ENTER</strong>ï¼Œå›è½¦é”®ï¼Œæ¢è¡Œ</li><li><strong>BACK SPACE</strong>ï¼Œé€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</li><li><strong>DEL</strong>ï¼Œåˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</li><li><strong>æ–¹å‘é”®</strong>ï¼Œåœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡</li><li><strong>HOME</strong>&#x2F;<strong>END</strong>ï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–&#x2F;è¡Œå°¾</li><li><strong>Page Up</strong>&#x2F;<strong>Page Down</strong>ï¼Œä¸Š&#x2F;ä¸‹ç¿»é¡µ</li><li><strong>Insert</strong>ï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥&#x2F;æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿&#x2F;ä¸‹åˆ’çº¿</li><li><strong>ESC</strong>ï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼</li></ul><h3 id="åº•çº¿å‘½ä»¤æ¨¡å¼"><a href="#åº•çº¿å‘½ä»¤æ¨¡å¼" class="headerlink" title="åº•çº¿å‘½ä»¤æ¨¡å¼"></a>åº•çº¿å‘½ä»¤æ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹ **:**ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p><p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p><p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š</p><ul><li><code>:w</code>ï¼šä¿å­˜æ–‡ä»¶ã€‚</li><li><code>:q</code>ï¼šé€€å‡º Vim ç¼–è¾‘å™¨ã€‚</li><li><code>:wq</code>ï¼šä¿å­˜æ–‡ä»¶å¹¶é€€å‡º Vim ç¼–è¾‘å™¨ã€‚</li><li><code>:q!</code>ï¼šå¼ºåˆ¶é€€å‡ºVimç¼–è¾‘å™¨ï¼Œä¸ä¿å­˜ä¿®æ”¹ã€‚</li></ul><p>æŒ‰ <strong>ESC</strong> é”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p><p>ç®€å•çš„è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸‰ä¸ªæ¨¡å¼æƒ³æˆåº•ä¸‹çš„å›¾æ ‡æ¥è¡¨ç¤ºï¼š</p><p>å­¦ä¹ è‡ª<a href="https://www.runoob.com/linux/linux-vim.html">Linux vi&#x2F;vim | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mdè¯­æ³•</title>
      <link href="/posts/ec85.html"/>
      <url>/posts/ec85.html</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><p>åœ¨å•è¯æˆ–çŸ­è¯­å‰é¢æ·»åŠ äº•å· (<code>#</code>) ï¼š<code>#</code> çš„æ•°é‡ä»£è¡¨äº†æ ‡é¢˜çš„çº§åˆ«ã€‚å¦‚ï¼Œä¸‰ä¸ª <code>#</code> è¡¨ç¤ºä¸‰çº§æ ‡é¢˜ (<code>&lt;h3&gt;</code>)</p><pre class="line-numbers language-none"><code class="language-none"># ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="æ¢è¡Œ"></a>æ¢è¡Œ</h2><p>åœ¨è¡Œæœ«æ·»åŠ ä¸¤ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ï¼Œç„¶åæŒ‰å›è½¦é”®ï¼Œå³å¯æ¢è¡Œ(<code>&lt;br&gt;</code>)<br>æœ‰äº‰è®®çš„ï¼Œå› ä¸ºå¾ˆéš¾åœ¨ç¼–è¾‘å™¨ä¸­ç›´æ¥çœ‹åˆ°ç©ºæ ¼ï¼Œå¹¶ä¸”å¾ˆå¤šäººåœ¨æ¯ä¸ªå¥å­åé¢éƒ½ä¼šæœ‰æ„æˆ–æ— æ„åœ°æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œä½ å¯èƒ½è¦ä½¿ç”¨é™¤ç»“å°¾ç©ºæ ¼ä»¥å¤–çš„å…¶å®ƒæ–¹å¼æ¥æ¢è¡Œã€‚å¹¸è¿çš„æ˜¯ï¼Œå‡ ä¹æ¯ä¸ª Markdown åº”ç”¨ç¨‹åºéƒ½æ”¯æŒå¦ä¸€ç§æ¢è¡Œæ–¹å¼ï¼šHTML çš„ <code>&lt;br&gt;</code> æ ‡ç­¾ã€‚<br>ä¸ºäº†å…¼å®¹æ€§ï¼Œè¯·åœ¨è¡Œå°¾æ·»åŠ â€œç»“å°¾ç©ºæ ¼â€æˆ– HTML çš„ <code>&lt;br&gt;</code> æ ‡ç­¾æ¥å®ç°æ¢è¡Œã€‚</p><pre class="line-numbers language-none"><code class="language-none">å¼ƒæˆ‘å»è€…æ˜¨æ—¥ä¹‹æ—¥ä¸å¯ç•™&lt;br&gt;ä¹±æˆ‘å¿ƒè€…ä»Šæ—¥ä¹‹æ—¥å¤šçƒ¦å¿§<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¼ƒæˆ‘å»è€…æ˜¨æ—¥ä¹‹æ—¥ä¸å¯ç•™<br>ä¹±æˆ‘å¿ƒè€…ä»Šæ—¥ä¹‹æ—¥å¤šçƒ¦å¿§</p><h2 id="å¼ºè°ƒ"><a href="#å¼ºè°ƒ" class="headerlink" title="å¼ºè°ƒ"></a>å¼ºè°ƒ</h2><h3 id="ç²—ä½“"><a href="#ç²—ä½“" class="headerlink" title="ç²—ä½“"></a>ç²—ä½“</h3><p>åœ¨éœ€è¦åŠ ç²—çš„éƒ¨åˆ†<code>å‰å</code>å„æ·»åŠ <code>ä¸¤ä¸ª</code>æ˜Ÿå·ï¼ˆasterisksï¼‰æˆ–ä¸‹åˆ’çº¿ï¼ˆunderscoresï¼‰</p><p>ä¸ºå…¼å®¹è€ƒè™‘ï¼Œè¯·ä½¿ç”¨æ˜Ÿå·ï¼ˆasterisksï¼‰</p><pre class="line-numbers language-none"><code class="language-none">**ç²—ä½“**<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ç²—ä½“</strong></p><h3 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h3><p>åœ¨éœ€è¦æ–œä½“çš„éƒ¨åˆ†<code>å‰å</code>å„æ·»åŠ <code>ä¸€ä¸ª</code>æ˜Ÿå·ï¼ˆasterisksï¼‰æˆ–ä¸‹åˆ’çº¿ï¼ˆunderscoresï¼‰</p><p>ä¸ºå…¼å®¹è€ƒè™‘ï¼Œè¯·ä½¿ç”¨æ˜Ÿå·ï¼ˆasterisksï¼‰</p><pre class="line-numbers language-none"><code class="language-none">*æ–œä½“*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>æ–œä½“</em></p><h3 id="æ–œä½“åŠ ç²—"><a href="#æ–œä½“åŠ ç²—" class="headerlink" title="æ–œä½“åŠ ç²—"></a>æ–œä½“åŠ ç²—</h3><p>åœ¨éœ€è¦åŠ ç²—çš„éƒ¨åˆ†<code>å‰å</code>å„æ·»åŠ <code>ä¸‰ä¸ª</code>æ˜Ÿå·ï¼ˆasterisksï¼‰æˆ–ä¸‹åˆ’çº¿ï¼ˆunderscoresï¼‰</p><p>ä¸ºå…¼å®¹è€ƒè™‘ï¼Œè¯·ä½¿ç”¨æ˜Ÿå·ï¼ˆasterisksï¼‰</p><pre class="line-numbers language-none"><code class="language-none">***æ–œä½“åŠ ç²—***<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong><em>æ–œä½“åŠ ç²—</em></strong></p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>è¦åˆ›å»ºå—å¼•ç”¨ï¼Œè¯·åœ¨æ®µè½å‰æ·»åŠ ä¸€ä¸ª <code>&gt;</code> ç¬¦å·</p><pre class="line-numbers language-none"><code class="language-none">&gt; å—å¼•ç”¨<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å—å¼•ç”¨</p></blockquote><h3 id="åµŒå¥—å—å¼•ç”¨"><a href="#åµŒå¥—å—å¼•ç”¨" class="headerlink" title="åµŒå¥—å—å¼•ç”¨"></a>åµŒå¥—å—å¼•ç”¨</h3><pre class="line-numbers language-none"><code class="language-none">&gt; å—å¼•ç”¨&gt; å—å¼•ç”¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>å—å¼•ç”¨</p><blockquote><p>å—å¼•ç”¨</p></blockquote></blockquote><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><p>åœ¨è¡Œå¤´æ·»åŠ ä¸€ä¸ªæ•°å­—å’Œä¸€ä¸ªè‹±æ–‡å¥ç‚¹ï¼Œç„¶åç©ºæ ¼ã€‚æ•°å­—ä¸å¿…æŒ‰æ•°å­¦é¡ºåºæ’åˆ—ï¼Œä½†æ˜¯åˆ—è¡¨åº”å½“ä»¥æ•°å­— 1 èµ·å§‹</p><ol><li>ç¬¬ä¸€</li><li>ç¬¬äºŒ</li><li>ç¬¬ä¸‰</li></ol><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3><p>æ·»åŠ ç ´æŠ˜å· (-)ã€æ˜Ÿå· (*) æˆ–åŠ å· (+) ï¼Œç„¶åç©ºæ ¼</p><ul><li>ä¸€èŠ±</li><li>äºŒä¹ƒ</li><li>ä¸‰ç–</li><li>å››å¶</li><li>äº”æœˆ</li></ul><h3 id="åµŒå¥—åˆ—è¡¨"><a href="#åµŒå¥—åˆ—è¡¨" class="headerlink" title="åµŒå¥—åˆ—è¡¨"></a>åµŒå¥—åˆ—è¡¨</h3><p>åœ¨åˆ—è¡¨é¡¹ä¹‹ä¸‹ï¼Œè¾“å…¥<code>æ•°å­— è‹±æ–‡å¥ç‚¹</code> æˆ– <code>-</code> ã€ <code>+</code> ã€ <code>-</code>ï¼Œç„¶åè¾“å…¥ Tab é”®ç¼©è¿›</p><pre class="line-numbers language-none"><code class="language-none">1. äº”ç­‰åˆ†çš„èŠ±å«- ä¸€èŠ±- äºŒä¹ƒ- äº”ç­‰åˆ†çš„èŠ±å«1. ä¸‰ç–2. å››å¶3. äº”æœˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>äº”ç­‰åˆ†çš„èŠ±å«<ul><li>ä¸€èŠ±</li><li>äºŒä¹ƒ</li></ul></li></ol><ul><li>äº”ç­‰åˆ†çš„èŠ±å« <ol start="3"><li>ä¸‰ç– </li><li>å››å¶</li><li>äº”æœˆ</li></ol></li></ul><h2 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h2><h3 id="å•è¡Œ"><a href="#å•è¡Œ" class="headerlink" title="å•è¡Œ"></a>å•è¡Œ</h3><p>å°†å•è¡Œä»£ç æ”¾å…¥ä¸¤ä¸ªåå¼•å·&#96;&#96;ä¸­</p><pre class="line-numbers language-none"><code class="language-none">&#96;print(&quot;Hello World!&quot;)&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>print(&quot;Hello World!&quot;)</code></p><h3 id="å¤šè¡Œ"><a href="#å¤šè¡Œ" class="headerlink" title="å¤šè¡Œ"></a>å¤šè¡Œ</h3><p>ä»£ç å—ä¹‹å‰å’Œä¹‹åçš„è¡Œä¸Šä½¿ç”¨ä¸‰ä¸ªåå¼•å·**&#96;&#96;&#96;**æˆ–ä¸‰ä¸ªæ³¢æµªå·~ ~ ~,ç„¶ååœ¨åé¢è·Ÿä¸Šä»£ç è¯­è¨€</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="mathå…¬å¼"><a href="#mathå…¬å¼" class="headerlink" title="mathå…¬å¼"></a>mathå…¬å¼</h2><h3 id="è¡Œå†…å…¬å¼"><a href="#è¡Œå†…å…¬å¼" class="headerlink" title="è¡Œå†…å…¬å¼"></a>è¡Œå†…å…¬å¼</h3><p>åœ¨<code>$ $</code>ä¹‹ä¸­å¡«å†™å…¬å¼</p><pre class="line-numbers language-wolfram" data-language="wolfram"><code class="language-wolfram">$<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>$<span class="token global-variable variable">$e</span><span class="token operator">^</span><span class="token punctuation">&#123;</span>x<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">&#125;</span>\neq<span class="token punctuation">&#123;</span>e<span class="token operator">^</span>x<span class="token punctuation">&#125;</span><span class="token operator">^</span><span class="token number">2</span>$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>$e^{x^2}\neq{e^x}^2$</p><h3 id="å—å…¬å¼"><a href="#å—å…¬å¼" class="headerlink" title="å—å…¬å¼"></a>å—å…¬å¼</h3><p>åœ¨<code>$$ $$</code>ä¸­å¡«å†™å…¬å¼</p><pre class="line-numbers language-wolfram" data-language="wolfram"><code class="language-wolfram">$$<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>$$$<span class="token global-variable variable">$e</span><span class="token operator">^</span><span class="token punctuation">&#123;</span>x<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">&#125;</span>\neq<span class="token punctuation">&#123;</span>e<span class="token operator">^</span>x<span class="token punctuation">&#125;</span><span class="token operator">^</span><span class="token number">2</span>$$$<span class="token global-variable variable">$H</span><span class="token punctuation">(</span>D_2<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>\frac<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">&#125;</span>\ log_2 \frac<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">&#125;</span> <span class="token operator">+</span> \frac<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">&#125;</span>\ log_2 \frac<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>$$e^{x^2}\neq{e^x}^2$$<br>$$H(D_2) &#x3D; -(\frac{2}{4}\ log_2 \frac{2}{4} + \frac{2}{4}\ log_2 \frac{2}{4}) &#x3D; 1$$</p><h3 id="çŸ©é˜µ"><a href="#çŸ©é˜µ" class="headerlink" title="çŸ©é˜µ"></a>çŸ©é˜µ</h3><pre class="line-numbers language-wolfram" data-language="wolfram"><code class="language-wolfram">$$\begin<span class="token punctuation">&#123;</span>pmatrix<span class="token punctuation">&#125;</span>        <span class="token number">1</span> <span class="token operator">&amp;</span> a_1 <span class="token operator">&amp;</span> a_1<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&amp;</span> \cdots <span class="token operator">&amp;</span> a_1<span class="token operator">^</span>n \\        <span class="token number">1</span> <span class="token operator">&amp;</span> a_2 <span class="token operator">&amp;</span> a_2<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&amp;</span> \cdots <span class="token operator">&amp;</span> a_2<span class="token operator">^</span>n \\        \vdots <span class="token operator">&amp;</span> \vdots <span class="token operator">&amp;</span> \vdots <span class="token operator">&amp;</span> \ddots <span class="token operator">&amp;</span> \vdots \\        <span class="token number">1</span> <span class="token operator">&amp;</span> a_m <span class="token operator">&amp;</span> a_m<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&amp;</span> \cdots <span class="token operator">&amp;</span> a_m<span class="token operator">^</span>n \\        \end<span class="token punctuation">&#123;</span>pmatrix<span class="token punctuation">&#125;</span>$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>$$<br>\begin{pmatrix}<br>    1 &amp; a_1 &amp; a_1^2 &amp; \cdots &amp; a_1^n \<br>    1 &amp; a_2 &amp; a_2^2 &amp; \cdots &amp; a_2^n \<br>    \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \<br>    1 &amp; a_m &amp; a_m^2 &amp; \cdots &amp; a_m^n \<br>    \end{pmatrix}<br>$$</p><h3 id="è¡Œåˆ—å¼"><a href="#è¡Œåˆ—å¼" class="headerlink" title="è¡Œåˆ—å¼"></a>è¡Œåˆ—å¼</h3><pre class="line-numbers language-wolfram" data-language="wolfram"><code class="language-wolfram">$$\mathbf<span class="token punctuation">&#123;</span>V<span class="token punctuation">&#125;</span>_1 \times \mathbf<span class="token punctuation">&#123;</span>V<span class="token punctuation">&#125;</span>_2 <span class="token operator">=</span>  \begin<span class="token punctuation">&#123;</span>vmatrix<span class="token punctuation">&#125;</span>\mathbf<span class="token punctuation">&#123;</span>i<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span> \mathbf<span class="token punctuation">&#123;</span>j<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span> \mathbf<span class="token punctuation">&#123;</span>k<span class="token punctuation">&#125;</span> \\\frac<span class="token punctuation">&#123;</span>\partial X<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>\partial u<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span>  \frac<span class="token punctuation">&#123;</span>\partial Y<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>\partial u<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span> <span class="token number">0</span> \\\frac<span class="token punctuation">&#123;</span>\partial X<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>\partial v<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span>  \frac<span class="token punctuation">&#123;</span>\partial Y<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>\partial v<span class="token punctuation">&#125;</span> <span class="token operator">&amp;</span> <span class="token number">0</span> \\\end<span class="token punctuation">&#123;</span>vmatrix<span class="token punctuation">&#125;</span>$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>$$<br>\mathbf{V}_1 \times \mathbf{V}_2 &#x3D; \begin{vmatrix}<br>\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \<br>\frac{\partial X}{\partial u} &amp; \frac{\partial Y}{\partial u} &amp; 0 \<br>\frac{\partial X}{\partial v} &amp; \frac{\partial Y}{\partial v} &amp; 0 \<br>\end{vmatrix}<br>$$</p><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><p>åœ¨å•ç‹¬ä¸€è¡Œä¸Šä½¿ç”¨ä¸‰ä¸ªæˆ–å¤šä¸ªæ˜Ÿå· (<code>***</code>)ã€ç ´æŠ˜å· (<code>---</code>) æˆ–ä¸‹åˆ’çº¿ (<code>___</code>) ï¼Œç„¶åå›è½¦</p><p>ä¸ºäº†å…¼å®¹æ€§ï¼Œè¯·åœ¨åˆ†éš”çº¿çš„å‰åå‡æ·»åŠ ç©ºç™½è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">***---___<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><hr><hr><h2 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h2><pre class="line-numbers language-text" data-language="text"><code class="language-text">~~æ˜å¤©å¼€å§‹åŠªåŠ›~~ ç°åœ¨å¼€å§‹ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><del>æ˜å¤©å¼€å§‹åŠªåŠ›</del> ç°åœ¨å¼€å§‹ï¼</p><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><p>é“¾æ¥åæ”¾åœ¨ä¸­æ‹¬å·å†…ï¼Œé“¾æ¥åœ°å€æ”¾åœ¨åé¢çš„æ‹¬å·ä¸­ï¼Œé“¾æ¥ title å¯é€‰</p><p>è¶…é“¾æ¥è¯­æ³•ï¼š<code>[è¶…é“¾æ¥æ˜¾ç¤ºå](è¶…é“¾æ¥åœ°å€ &quot;è¶…é“¾æ¥title&quot;)</code></p><pre class="line-numbers language-none"><code class="language-none">[loyehã®blog](https:&#x2F;&#x2F;lo-y-eh.github.io)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ˜¯ <a href="https://lo-y-eh.github.io/">loyeh ã® blog</a></p><h3 id="title"><a href="#title" class="headerlink" title="title"></a>title</h3><p>é“¾æ¥ title æ˜¯å½“é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶ä¼šå‡ºç°çš„æ–‡å­—ï¼Œæ˜¯å¯é€‰çš„ï¼Œå®ƒæ”¾åœ¨åœ†æ‹¬å·ä¸­é“¾æ¥åœ°å€åé¢ï¼Œè·Ÿé“¾æ¥åœ°å€ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">[Markdownè¯­æ³•](https://markdown.com.cn)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>[markdown å®˜æ–¹æ–‡æ¡£](<a href="https://markdown.com.cn/">Markdown å®˜æ–¹æ•™ç¨‹</a> â€œæœ€å¥½çš„ markdown æ•™ç¨‹â€)</p><h3 id="ç½‘å€å’Œ-Email-åœ°å€"><a href="#ç½‘å€å’Œ-Email-åœ°å€" class="headerlink" title="ç½‘å€å’Œ Email åœ°å€"></a>ç½‘å€å’Œ Email åœ°å€</h3><p>ä½¿ç”¨å°–æ‹¬å·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŠŠ URL æˆ–è€… email åœ°å€å˜æˆå¯ç‚¹å‡»çš„é“¾æ¥</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">&lt;https://markdown.com.cn>&lt;fake@example.com><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><a href="https://markdown.com.cn/">https://markdown.com.cn</a></p><p><a href="mailto:&#102;&#97;&#x6b;&#101;&#x40;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#x65;&#46;&#x63;&#x6f;&#x6d;">&#102;&#97;&#x6b;&#101;&#x40;&#101;&#x78;&#x61;&#x6d;&#112;&#108;&#x65;&#46;&#x63;&#x6f;&#x6d;</a></p><h3 id="å¸¦æ ¼å¼åŒ–çš„é“¾æ¥"><a href="#å¸¦æ ¼å¼åŒ–çš„é“¾æ¥" class="headerlink" title="å¸¦æ ¼å¼åŒ–çš„é“¾æ¥"></a>å¸¦æ ¼å¼åŒ–çš„é“¾æ¥</h3><blockquote><p>ä¸åŒçš„ Markdown åº”ç”¨ç¨‹åºå¤„ç† URL ä¸­é—´çš„ç©ºæ ¼æ–¹å¼ä¸ä¸€æ ·ã€‚ä¸ºäº†å…¼å®¹ï¼Œè¯·å°½é‡ä½¿ç”¨%20 ä»£æ›¿ç©ºæ ¼</p></blockquote><ul><li><p>å¼ºè°ƒé“¾æ¥, åœ¨é“¾æ¥è¯­æ³•å‰åå¢åŠ æ˜Ÿå·</p><pre class="line-numbers language-none"><code class="language-none">This is the *[Markdown Guide](https:&#x2F;&#x2F;www.markdownguide.org)*.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>This is the <em><a href="https://www.markdownguide.org/">Markdown Guide</a></em></p></li><li><p>è¦å°†é“¾æ¥è¡¨ç¤ºä¸ºä»£ç ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¸­æ·»åŠ åå¼•å·</p><pre class="line-numbers language-none"><code class="language-none">See the section on [&#96;code&#96;](#code)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>See the section on <a href="https://markdown.com.cn/basic-syntax/links.html#code"><code>code</code></a>.</p></li></ul><h3 id="å¼•ç”¨ç±»å‹é“¾æ¥"><a href="#å¼•ç”¨ç±»å‹é“¾æ¥" class="headerlink" title="å¼•ç”¨ç±»å‹é“¾æ¥"></a>å¼•ç”¨ç±»å‹é“¾æ¥</h3><p>å¼•ç”¨æ ·å¼é“¾æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„é“¾æ¥ï¼Œå®ƒä½¿ URL åœ¨ Markdown ä¸­æ›´æ˜“äºæ˜¾ç¤ºå’Œé˜…è¯»</p><p>å‚è€ƒæ ·å¼é“¾æ¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šä¸æ–‡æœ¬ä¿æŒå†…è”çš„éƒ¨åˆ†ä»¥åŠå­˜å‚¨åœ¨æ–‡ä»¶ä¸­å…¶ä»–ä½ç½®çš„éƒ¨åˆ†ï¼Œä»¥ä½¿æ–‡æœ¬æ˜“äºé˜…è¯»</p><h4 id="é“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†æ ¼å¼"><a href="#é“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†æ ¼å¼" class="headerlink" title="é“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†æ ¼å¼"></a>é“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†æ ¼å¼</h4><p>å¼•ç”¨ç±»å‹çš„é“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†ä½¿ç”¨ä¸¤ç»„æ‹¬å·è¿›è¡Œæ ¼å¼è®¾ç½®ã€‚ç¬¬ä¸€ç»„æ–¹æ‹¬å·åŒ…å›´åº”æ˜¾ç¤ºä¸ºé“¾æ¥çš„æ–‡æœ¬ã€‚ç¬¬äºŒç»„æ‹¬å·æ˜¾ç¤ºäº†ä¸€ä¸ªæ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾ç”¨äºæŒ‡å‘æ‚¨å­˜å‚¨åœ¨æ–‡æ¡£å…¶ä»–ä½ç½®çš„é“¾æ¥ã€‚</p><p>å°½ç®¡ä¸æ˜¯å¿…éœ€çš„ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ç»„å’Œç¬¬äºŒç»„æ‹¬å·ä¹‹é—´åŒ…å«ä¸€ä¸ªç©ºæ ¼ã€‚ç¬¬äºŒç»„æ‹¬å·ä¸­çš„æ ‡ç­¾ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¯ä»¥åŒ…å«å­—æ¯ï¼Œæ•°å­—ï¼Œç©ºæ ¼æˆ–æ ‡ç‚¹ç¬¦å·ã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹æ ¼å¼å¯¹äºé“¾æ¥çš„ç¬¬ä¸€éƒ¨åˆ†æ•ˆæœç›¸åŒï¼š</p><ul><li><code>[hobbit-hole][1]</code></li><li><code>[hobbit-hole] [1]</code></li></ul><h4 id="é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ ¼å¼"><a href="#é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ ¼å¼" class="headerlink" title="é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ ¼å¼"></a>é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ ¼å¼</h4><p>å¼•ç”¨ç±»å‹é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†ä½¿ç”¨ä»¥ä¸‹å±æ€§è®¾ç½®æ ¼å¼ï¼š</p><ol><li>æ”¾åœ¨æ‹¬å·ä¸­çš„æ ‡ç­¾ï¼Œå…¶åç´§è·Ÿä¸€ä¸ªå†’å·å’Œè‡³å°‘ä¸€ä¸ªç©ºæ ¼ï¼ˆä¾‹å¦‚<code>[label]:</code>ï¼‰ã€‚</li><li>é“¾æ¥çš„ URLï¼Œå¯ä»¥é€‰æ‹©å°†å…¶æ‹¬åœ¨å°–æ‹¬å·ä¸­ã€‚</li><li>é“¾æ¥çš„å¯é€‰æ ‡é¢˜ï¼Œå¯ä»¥å°†å…¶æ‹¬åœ¨åŒå¼•å·ï¼Œå•å¼•å·æˆ–æ‹¬å·ä¸­ã€‚</li></ol><p>ä»¥ä¸‹ç¤ºä¾‹æ ¼å¼å¯¹äºé“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ•ˆæœç›¸åŒï¼š</p><ul><li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle</code></li><li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle &quot;Hobbit lifestyles&quot;</code></li><li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle &#39;Hobbit lifestyles&#39;</code></li><li><code>[1]: https://en.wikipedia.org/wiki/Hobbit#Lifestyle (Hobbit lifestyles)</code></li><li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; &quot;Hobbit lifestyles&quot;</code></li><li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; &#39;Hobbit lifestyles&#39;</code></li><li><code>[1]: &lt;https://en.wikipedia.org/wiki/Hobbit#Lifestyle&gt; (Hobbit lifestyles)</code></li></ul><p>å¯ä»¥å°†é“¾æ¥çš„ç¬¬äºŒéƒ¨åˆ†æ”¾åœ¨ Markdown æ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®ã€‚æœ‰äº›äººå°†å®ƒä»¬æ”¾åœ¨å‡ºç°çš„æ®µè½ä¹‹åï¼Œæœ‰äº›äººåˆ™å°†å®ƒä»¬æ”¾åœ¨æ–‡æ¡£çš„æœ«å°¾ï¼ˆä¾‹å¦‚å°¾æ³¨æˆ–è„šæ³¨ï¼‰</p><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><p>è¦æ·»åŠ å›¾åƒï¼Œè¯·ä½¿ç”¨æ„Ÿå¹å· (<code>!</code>)ï¼Œç„¶ååœ¨æ–¹æ‹¬å·å¢åŠ æ›¿ä»£æ–‡æœ¬ï¼Œå›¾ç‰‡é“¾æ¥æ”¾åœ¨åœ†æ‹¬å·é‡Œï¼Œæ‹¬å·é‡Œçš„é“¾æ¥åå¯ä»¥å¢åŠ ä¸€ä¸ªå¯é€‰çš„å›¾ç‰‡æ ‡é¢˜æ–‡æœ¬ã€‚</p><p>æ’å…¥å›¾ç‰‡ Markdown è¯­æ³•ä»£ç ï¼š<code>![å›¾ç‰‡alt](å›¾ç‰‡é“¾æ¥ &quot;å›¾ç‰‡title&quot;)</code>ã€‚</p><p>å¯¹åº”çš„ HTML ä»£ç ï¼š<code>&lt;img src=&quot;å›¾ç‰‡é“¾æ¥&quot; alt=&quot;å›¾ç‰‡alt&quot; title=&quot;å›¾ç‰‡title&quot;&gt;</code></p><pre class="line-numbers language-text" data-language="text"><code class="language-text">![è¿™æ˜¯å›¾ç‰‡](https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402042011206.webp "Magic Gardens")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402042011206.jpg" alt="è¿™æ˜¯å›¾ç‰‡"></p><h3 id="é“¾æ¥å›¾ç‰‡"><a href="#é“¾æ¥å›¾ç‰‡" class="headerlink" title="é“¾æ¥å›¾ç‰‡"></a>é“¾æ¥å›¾ç‰‡</h3><p>ç»™å›¾ç‰‡å¢åŠ é“¾æ¥ï¼Œè¯·å°†å›¾åƒçš„ Markdown æ‹¬åœ¨æ–¹æ‹¬å·ä¸­ï¼Œç„¶åå°†é“¾æ¥æ·»åŠ åœ¨åœ†æ‹¬å·ä¸­ã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">[![ç«¹å­å›¾ç‰‡](/assets/img/bamboo.jpg "bamboo")](https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202310012338379.webp)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/Lo-Y-eH/image@main/image/202402042008019.webp" alt="è¿™æ˜¯å›¾ç‰‡" title="Bamboo"></p><h2 id="è½¬ä¹‰å­—ç¬¦"><a href="#è½¬ä¹‰å­—ç¬¦" class="headerlink" title="è½¬ä¹‰å­—ç¬¦"></a>è½¬ä¹‰å­—ç¬¦</h2><p>ä»¥ä¸‹å­—ç¬¦éƒ½å¯ä»¥é€šè¿‡åæ–œæ å­—ç¬¦è¾¾åˆ°è½¬ä¹‰ç›®çš„</p><table><thead><tr><th align="center">character</th></tr></thead><tbody><tr><td align="center">\</td></tr><tr><td align="center">&#96;</td></tr><tr><td align="center">**</td></tr><tr><td align="center">_</td></tr><tr><td align="center">{}</td></tr><tr><td align="center">[]</td></tr><tr><td align="center">()</td></tr><tr><td align="center">#</td></tr><tr><td align="center">+</td></tr><tr><td align="center">-</td></tr><tr><td align="center">.</td></tr><tr><td align="center">!</td></tr><tr><td align="center">|</td></tr></tbody></table><h2 id="å†…åµŒ-HTML-æ ‡ç­¾"><a href="#å†…åµŒ-HTML-æ ‡ç­¾" class="headerlink" title="å†…åµŒ HTML æ ‡ç­¾"></a>å†…åµŒ HTML æ ‡ç­¾</h2><p>å¯¹äº Markdown æ¶µç›–èŒƒå›´ä¹‹å¤–çš„æ ‡ç­¾ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨æ–‡ä»¶é‡Œé¢ç”¨ HTML æœ¬èº«ã€‚å¦‚éœ€ä½¿ç”¨ HTMLï¼Œä¸éœ€è¦é¢å¤–æ ‡æ³¨è¿™æ˜¯ HTML æˆ–æ˜¯ Markdownï¼Œåªéœ€ HTML æ ‡ç­¾æ·»åŠ åˆ° Markdown æ–‡æœ¬ä¸­å³å¯ã€‚</p><h3 id="è¡Œçº§å…§è”æ ‡ç­¾"><a href="#è¡Œçº§å…§è”æ ‡ç­¾" class="headerlink" title="è¡Œçº§å…§è”æ ‡ç­¾"></a>è¡Œçº§å…§è”æ ‡ç­¾</h3><p>HTML çš„è¡Œçº§å…§è”æ ‡ç­¾å¦‚ <code>&lt;span&gt;</code>ã€<code>&lt;cite&gt;</code>ã€<code>&lt;del&gt;</code> ä¸å—é™åˆ¶ï¼Œå¯ä»¥åœ¨ Markdown çš„æ®µè½ã€åˆ—è¡¨æˆ–æ˜¯æ ‡é¢˜é‡Œä»»æ„ä½¿ç”¨ã€‚ä¾ç…§ä¸ªäººä¹ æƒ¯ï¼Œç”šè‡³å¯ä»¥ä¸ç”¨ Markdown æ ¼å¼ï¼Œè€Œé‡‡ç”¨ HTML æ ‡ç­¾æ¥æ ¼å¼åŒ–ã€‚ä¾‹å¦‚ï¼šå¦‚æœæ¯”è¾ƒå–œæ¬¢ HTML çš„ <code>&lt;a&gt;</code> æˆ– <code>&lt;img&gt;</code> æ ‡ç­¾ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›æ ‡ç­¾ï¼Œè€Œä¸ç”¨ Markdown æä¾›çš„é“¾æ¥æˆ–æ˜¯å›¾ç‰‡è¯­æ³•ã€‚å½“ä½ éœ€è¦æ›´æ”¹å…ƒç´ çš„å±æ€§æ—¶ï¼ˆä¾‹å¦‚ä¸ºæ–‡æœ¬æŒ‡å®šé¢œè‰²æˆ–æ›´æ”¹å›¾åƒçš„å®½åº¦ï¼‰ï¼Œä½¿ç”¨ HTML æ ‡ç­¾æ›´æ–¹ä¾¿äº›ã€‚</p><p>HTML è¡Œçº§å…§è”æ ‡ç­¾å’ŒåŒºå—æ ‡ç­¾ä¸åŒï¼Œåœ¨å…§è”æ ‡ç­¾çš„èŒƒå›´å†…ï¼Œ Markdown çš„è¯­æ³•æ˜¯å¯ä»¥è§£æçš„ã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">This **word** is bold. This &lt;em>word&lt;/em> is italic.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¸²æŸ“æ•ˆæœå¦‚ä¸‹:</p><p>This <strong>word</strong> is bold. This <em>word</em> is italic.</p><h3 id="åŒºå—æ ‡ç­¾"><a href="#åŒºå—æ ‡ç­¾" class="headerlink" title="åŒºå—æ ‡ç­¾"></a>åŒºå—æ ‡ç­¾</h3><p>åŒºå—å…ƒç´  â”€â”€ æ¯”å¦‚ <code>&lt;div&gt;</code>ã€<code>&lt;table&gt;</code>ã€<code>&lt;pre&gt;</code>ã€<code>&lt;p&gt;</code> ç­‰æ ‡ç­¾ï¼Œå¿…é¡»åœ¨å‰ååŠ ä¸Šç©ºè¡Œï¼Œä»¥ä¾¿äºå†…å®¹åŒºåˆ†ã€‚è€Œä¸”è¿™äº›å…ƒç´ çš„å¼€å§‹ä¸ç»“å°¾æ ‡ç­¾ï¼Œä¸å¯ä»¥ç”¨ tab æˆ–æ˜¯ç©ºç™½æ¥ç¼©è¿›ã€‚Markdown ä¼šè‡ªåŠ¨è¯†åˆ«è¿™åŒºå—å…ƒç´ ï¼Œé¿å…åœ¨åŒºå—æ ‡ç­¾å‰ååŠ ä¸Šæ²¡æœ‰å¿…è¦çš„ <code>&lt;p&gt;</code> æ ‡ç­¾ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ Markdown æ–‡ä»¶é‡ŒåŠ ä¸Šä¸€æ®µ HTML è¡¨æ ¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">This is a regular paragraph.&lt;table&gt;    &lt;tr&gt;        &lt;td&gt;Foo&lt;&#x2F;td&gt;    &lt;&#x2F;tr&gt;&lt;&#x2F;table&gt;This is another regular paragraph.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>This is a regular paragraph.</p><table>    <tr>        <td>Foo</td>    </tr></table><p>This is another regular paragraph.</p><p>è¯·æ³¨æ„ï¼ŒMarkdown è¯­æ³•åœ¨ HTML åŒºå—æ ‡ç­¾ä¸­å°†ä¸ä¼šè¢«è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œä½ æ— æ³•åœ¨ HTML åŒºå—å†…ä½¿ç”¨ Markdown å½¢å¼çš„<code>*å¼ºè°ƒ*</code>ã€‚</p><h3 id="HTML-ç”¨æ³•æœ€ä½³å®è·µ"><a href="#HTML-ç”¨æ³•æœ€ä½³å®è·µ" class="headerlink" title="HTML ç”¨æ³•æœ€ä½³å®è·µ"></a>HTML ç”¨æ³•æœ€ä½³å®è·µ</h3><p>å‡ºäºå®‰å…¨åŸå› ï¼Œå¹¶éæ‰€æœ‰ Markdown åº”ç”¨ç¨‹åºéƒ½æ”¯æŒåœ¨ Markdown æ–‡æ¡£ä¸­æ·»åŠ  HTMLã€‚å¦‚æœ‰ç–‘é—®ï¼Œè¯·æŸ¥çœ‹ç›¸åº” Markdown åº”ç”¨ç¨‹åºçš„æ‰‹å†Œã€‚æŸäº›åº”ç”¨ç¨‹åºåªæ”¯æŒ HTML æ ‡ç­¾çš„å­é›†ã€‚</p><p>å¯¹äº HTML çš„å—çº§å…ƒç´  <code>&lt;div&gt;</code>ã€<code>&lt;table&gt;</code>ã€<code>&lt;pre&gt;</code> å’Œ <code>&lt;p&gt;</code>ï¼Œè¯·åœ¨å…¶å‰åä½¿ç”¨ç©ºè¡Œï¼ˆblank linesï¼‰ä¸å…¶å®ƒå†…å®¹è¿›è¡Œåˆ†éš”ã€‚å°½é‡ä¸è¦ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼ˆtabsï¼‰æˆ–ç©ºæ ¼ï¼ˆspacesï¼‰å¯¹ HTML æ ‡ç­¾åšç¼©è¿›ï¼Œå¦åˆ™å°†å½±å“æ ¼å¼ã€‚</p><p>åœ¨ HTML å—çº§æ ‡ç­¾å†…ä¸èƒ½ä½¿ç”¨ Markdown è¯­æ³•ã€‚ä¾‹å¦‚ <code>&lt;p&gt;italic and **bold**&lt;/p&gt;</code> å°†ä¸èµ·ä½œç”¨ã€‚</p><h1 id="æ‰©å±•è¯­æ³•"><a href="#æ‰©å±•è¯­æ³•" class="headerlink" title="æ‰©å±•è¯­æ³•"></a>æ‰©å±•è¯­æ³•</h1><p><a href="https://markdown.com.cn/basic_syntax">åŸºæœ¬è¯­æ³•</a>ä¸»è¦æ˜¯ä¸ºäº†åº”ä»˜å¤§å¤šæ•°æƒ…å†µä¸‹çš„æ—¥å¸¸æ‰€éœ€å…ƒç´ ï¼Œä½†å¯¹äºæŸäº›äººæ¥è¯´è¿˜ä¸å¤Ÿï¼Œè¿™å°±æ˜¯æ‰©å±•è¯­æ³•çš„ç”¨æ­¦ä¹‹åœ°</p><h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><h3 id="å¯ç”¨æ€§"><a href="#å¯ç”¨æ€§" class="headerlink" title="å¯ç”¨æ€§"></a>å¯ç”¨æ€§</h3><p>å¹¶éæ‰€æœ‰Markdownåº”ç”¨ç¨‹åºéƒ½æ”¯æŒæ‰©å±•è¯­æ³•å…ƒç´ ã€‚æ‚¨éœ€è¦æ£€æŸ¥æ‚¨çš„åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„è½»é‡çº§æ ‡è®°è¯­è¨€æ˜¯å¦æ”¯æŒæ‚¨è¦ä½¿ç”¨çš„æ‰©å±•è¯­æ³•å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä»ç„¶æœ‰å¯èƒ½åœ¨Markdownå¤„ç†å™¨ä¸­å¯ç”¨æ‰©å±•ã€‚</p><h3 id="è½»é‡æ ‡è®°è¯­è¨€"><a href="#è½»é‡æ ‡è®°è¯­è¨€" class="headerlink" title="è½»é‡æ ‡è®°è¯­è¨€"></a>è½»é‡æ ‡è®°è¯­è¨€</h3><p>æœ‰å‡ ç§è½»é‡çº§æ ‡è®°è¯­è¨€æ˜¯Markdownçš„è¶…é›†ã€‚å®ƒä»¬åŒ…å«Gruberçš„åŸºæœ¬è¯­æ³•ï¼Œå¹¶é€šè¿‡æ·»åŠ å…¶ä»–å…ƒç´ ï¼ˆä¾‹å¦‚è¡¨ï¼Œä»£ç å—ï¼Œè¯­æ³•çªå‡ºæ˜¾ç¤ºï¼ŒURLè‡ªåŠ¨é“¾æ¥å’Œè„šæ³¨ï¼‰åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºã€‚è®¸å¤šæœ€å—æ¬¢è¿çš„Markdownåº”ç”¨ç¨‹åºä½¿ç”¨ä»¥ä¸‹è½»é‡çº§æ ‡è®°è¯­è¨€ä¹‹ä¸€ï¼š</p><ul><li><a href="https://commonmark.org/">CommonMark</a></li><li><a href="https://github.github.com/gfm/">GitHub Flavored Markdown (GFM)</a></li><li><a href="https://michelf.ca/projects/php-markdown/extra/">Markdown Extra</a></li><li><a href="https://fletcherpenney.net/multimarkdown/">MultiMarkdown</a></li><li><a href="https://rmarkdown.rstudio.com/">R Markdown</a></li></ul><h3 id="Markdown-å¤„ç†å™¨"><a href="#Markdown-å¤„ç†å™¨" class="headerlink" title="Markdown å¤„ç†å™¨"></a>Markdown å¤„ç†å™¨</h3><p>æœ‰è®¸å¤š<a href="https://github.com/markdown/markdown.github.com/wiki/Implementations">Markdownå¤„ç†å™¨</a>å¯ç”¨ï¼Œå®ƒä»¬ä¸­çš„è®¸å¤šå…è®¸æ‚¨æ·»åŠ å¯ç”¨æ‰©å±•è¯­æ³•å…ƒç´ çš„æ‰©å±•ã€‚æŸ¥çœ‹æ‚¨æ‰€ä½¿ç”¨å¤„ç†å™¨çš„æ–‡æ¡£ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>æ·»åŠ è¡¨æ ¼ï¼Œä½¿ç”¨ä¸‰ä¸ªæˆ–å¤šä¸ªè¿å­—ç¬¦ï¼ˆ<code>---</code>ï¼‰åˆ›å»ºæ¯åˆ—çš„æ ‡é¢˜ï¼Œå¹¶ä½¿ç”¨ç®¡é“ï¼ˆ<code>|</code>ï¼‰åˆ†éš”æ¯åˆ—ã€‚</p><pre class="line-numbers language-none"><code class="language-none">| Syntax      | Description || ----------- | ----------- || Header      | Title       || Paragraph   | Text        |<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th align="left">Syntax</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">Header</td><td align="left">Title</td></tr><tr><td align="left">Paragraph</td><td align="left">Text</td></tr></tbody></table><p>å•å…ƒæ ¼å®½åº¦å¯ä»¥å˜åŒ–ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚å‘ˆç°çš„è¾“å‡ºå°†çœ‹èµ·æ¥ç›¸åŒã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">| Syntax | Description || --- | ----------- || Header | Title || Paragraph | Text |<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>Syntax</th><th>Description</th></tr></thead><tbody><tr><td>Header</td><td>Title</td></tr><tr><td>Paragraph</td><td>Text</td></tr></tbody></table><h3 id="å¯¹é½"><a href="#å¯¹é½" class="headerlink" title="å¯¹é½"></a>å¯¹é½</h3><p>æ‚¨å¯ä»¥é€šè¿‡åœ¨æ ‡é¢˜è¡Œä¸­çš„è¿å­—ç¬¦çš„å·¦ä¾§ï¼Œå³ä¾§æˆ–ä¸¤ä¾§æ·»åŠ å†’å·ï¼ˆ<code>:</code>ï¼‰ï¼Œå°†åˆ—ä¸­çš„æ–‡æœ¬å¯¹é½åˆ°å·¦ä¾§ï¼Œå³ä¾§æˆ–ä¸­å¿ƒã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">| Syntax      | Description | Test Text     || :---        |    :----:   |          ---: || Header      | Title       | Here's this   || Paragraph   | Text        | And more      |<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th align="left">Syntax</th><th align="center">Description</th><th align="right">Test Text</th></tr></thead><tbody><tr><td align="left">Header</td><td align="center">Title</td><td align="right">Hereâ€™s this</td></tr><tr><td align="left">Paragraph</td><td align="center">Text</td><td align="right">And more</td></tr></tbody></table><h3 id="è¡¨æ ¼ä¸­çš„æ–‡å­—"><a href="#è¡¨æ ¼ä¸­çš„æ–‡å­—" class="headerlink" title="è¡¨æ ¼ä¸­çš„æ–‡å­—"></a>è¡¨æ ¼ä¸­çš„æ–‡å­—</h3><p>å¯ä»¥åœ¨è¡¨æ ¼ä¸­è®¾ç½®æ–‡æœ¬æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥æ·»åŠ é“¾æ¥ï¼Œå•è¡Œä»£ç ï¼ˆä»…åå¼•å· &#96;&#96; ï¼‰å’Œå¼ºè°ƒã€‚</p><p>ä¸èƒ½æ·»åŠ æ ‡é¢˜ï¼Œå—å¼•ç”¨ï¼Œåˆ—è¡¨ï¼Œæ°´å¹³è§„åˆ™ï¼Œå›¾åƒæˆ–HTMLæ ‡ç­¾ã€‚</p><h3 id="è¡¨ä¸­è½¬ä¹‰-â€œ-â€"><a href="#è¡¨ä¸­è½¬ä¹‰-â€œ-â€" class="headerlink" title="è¡¨ä¸­è½¬ä¹‰ â€œ|â€"></a>è¡¨ä¸­è½¬ä¹‰ â€œ|â€</h3><p>å¯ä»¥ä½¿ç”¨è¡¨æ ¼çš„HTMLå­—ç¬¦ä»£ç ï¼ˆ<code>|</code>ï¼‰åœ¨è¡¨ä¸­æ˜¾ç¤ºç«–çº¿ï¼ˆ<code>|</code>ï¼‰å­—ç¬¦ã€‚</p><h2 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h2><p>è„šæ³¨ä½¿æ‚¨å¯ä»¥æ·»åŠ æ³¨é‡Šå’Œå‚è€ƒï¼Œè€Œä¸ä¼šä½¿æ–‡æ¡£æ­£æ–‡æ··ä¹±ã€‚å½“æ‚¨åˆ›å»ºè„šæ³¨æ—¶ï¼Œå¸¦æœ‰è„šæ³¨çš„ä¸Šæ ‡æ•°å­—ä¼šå‡ºç°åœ¨æ‚¨æ·»åŠ è„šæ³¨å‚è€ƒçš„ä½ç½®ã€‚è¯»è€…å¯ä»¥å•å‡»é“¾æ¥ä»¥è·³è‡³é¡µé¢åº•éƒ¨çš„è„šæ³¨å†…å®¹ã€‚</p><p>è¦åˆ›å»ºè„šæ³¨å‚è€ƒï¼Œè¯·åœ¨æ–¹æ‹¬å·ï¼ˆ<code>[^1]</code>ï¼‰å†…æ·»åŠ æ’å…¥ç¬¦å·å’Œæ ‡è¯†ç¬¦ã€‚æ ‡è¯†ç¬¦å¯ä»¥æ˜¯æ•°å­—æˆ–å•è¯ï¼Œä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚æ ‡è¯†ç¬¦ä»…å°†è„šæ³¨å‚è€ƒä¸è„šæ³¨æœ¬èº«ç›¸å…³è”-åœ¨è¾“å‡ºä¸­ï¼Œè„šæ³¨æŒ‰é¡ºåºç¼–å·ã€‚</p><p>åœ¨æ‹¬å·å†…ä½¿ç”¨å¦ä¸€ä¸ªæ’å…¥ç¬¦å·å’Œæ•°å­—æ·»åŠ è„šæ³¨ï¼Œå¹¶ç”¨å†’å·å’Œæ–‡æœ¬ï¼ˆ<code>[^1]: My footnote.</code>ï¼‰ã€‚æ‚¨ä¸å¿…åœ¨æ–‡æ¡£æœ«å°¾æ·»åŠ è„šæ³¨ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨é™¤åˆ—è¡¨ï¼Œå—å¼•å·å’Œè¡¨ä¹‹ç±»çš„å…¶ä»–å…ƒç´ ä¹‹å¤–çš„ä»»ä½•ä½ç½®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è„šæ³¨ï¼Œ[^1] [^1]: è¿™æ˜¯ç¬¬ä¸€ä¸ªè„šæ³¨è¿™æ˜¯ä¸€ä¸ªæ›´é•¿çš„è„šæ³¨ï¼Œ[^bignote][^bignote]: Here&#39;s one with multiple paragraphs and code.    Indent paragraphs to include them in the footnote.    &#96;&#123; my code &#125;&#96;    Add as many paragraphs as you like.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è„šæ³¨ï¼Œ<a href="%E8%BF%99%E6%98%AF%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%84%9A%E6%B3%A8">^1</a> </p><p>è¿™æ˜¯ä¸€ä¸ªæ›´é•¿çš„è„šæ³¨ï¼Œ[^bignote]</p><p>[^bignote]: Hereâ€™s one with multiple paragraphs and code.</p><pre><code>Indent paragraphs to include them in the footnote.`&#123; my code &#125;`Add as many paragraphs as you like.</code></pre><p>è„šæ³¨é—®é¢˜ä¿®å¤ï¼š[hexo<a href="https://seayj.cn/articles/33818/#shi-tian-jia-md-ding-yi-lie-biao">Matery] ç©è½¬ Markdown | SeaYJâ€™s Blog</a></p><h2 id="æ ‡é¢˜ID"><a href="#æ ‡é¢˜ID" class="headerlink" title="æ ‡é¢˜ID"></a>æ ‡é¢˜ID</h2><p>è®¸å¤šMarkdownå¤„ç†å™¨æ”¯æŒ<code>æ ‡é¢˜</code>è‡ªå®šä¹‰IDï¼Œä¸€äº›Markdownå¤„ç†å™¨ä¼šè‡ªåŠ¨æ·»åŠ å®ƒä»¬ã€‚æ·»åŠ è‡ªå®šä¹‰IDå…è®¸ä½ ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜å¹¶ä½¿ç”¨CSSå¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚è¦æ·»åŠ è‡ªå®šä¹‰æ ‡é¢˜IDï¼Œè¯·åœ¨ä¸æ ‡é¢˜ç›¸åŒçš„è¡Œä¸Šç”¨å¤§æ‹¬å·æ‹¬èµ·è¯¥è‡ªå®šä¹‰IDã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">### My Great Heading &#123;#custom-id&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>HTMLçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>custom-id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>My Great Heading<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="é“¾æ¥åˆ°æ ‡é¢˜ID"><a href="#é“¾æ¥åˆ°æ ‡é¢˜ID" class="headerlink" title="é“¾æ¥åˆ°æ ‡é¢˜ID"></a>é“¾æ¥åˆ°æ ‡é¢˜ID</h3><p>é€šè¿‡åˆ›å»ºå¸¦æœ‰æ•°å­—ç¬¦å·ï¼ˆ<code>#</code>ï¼‰å’Œè‡ªå®šä¹‰æ ‡é¢˜IDçš„<a href="(/basic-syntax/links.html">æ ‡å‡†é“¾æ¥</a>ï¼Œå¯ä»¥é“¾æ¥åˆ°æ–‡ä»¶ä¸­å…·æœ‰è‡ªå®šä¹‰IDçš„æ ‡é¢˜ã€‚</p><table><thead><tr><th>Markdown</th><th>HTML</th><th>é¢„è§ˆæ•ˆæœ</th></tr></thead><tbody><tr><td><code>[Heading IDs](#heading-ids)</code></td><td><code>&lt;a href=&quot;#heading-ids&quot;&gt;Heading IDs&lt;/a&gt;</code></td><td><a href="https://markdown.com.cn/extended-syntax/heading-ids.html#heading-ids">Heading IDs</a></td></tr></tbody></table><p>å…¶ä»–ç½‘ç«™å¯ä»¥é€šè¿‡å°†è‡ªå®šä¹‰æ ‡é¢˜IDæ·»åŠ åˆ°ç½‘é¡µçš„å®Œæ•´URL</p><h2 id="ä»»åŠ¡è¡¨"><a href="#ä»»åŠ¡è¡¨" class="headerlink" title="ä»»åŠ¡è¡¨"></a>ä»»åŠ¡è¡¨</h2><p>åˆ›å»ºä»»åŠ¡åˆ—è¡¨ï¼Œåœ¨ä»»åŠ¡åˆ—è¡¨é¡¹ä¹‹å‰æ·»åŠ ç ´æŠ˜å·<code>-</code>å’Œæ–¹æ‹¬å·<code>[ ]</code>ï¼Œå¹¶åœ¨<code>[ ]</code>å‰é¢åŠ ä¸Šç©ºæ ¼ã€‚è¦é€‰æ‹©ä¸€ä¸ªå¤é€‰æ¡†ï¼Œè¯·åœ¨æ–¹æ‹¬å·<code>[x]</code>ä¹‹é—´æ·»åŠ  x </p><pre class="line-numbers language-text" data-language="text"><code class="language-text">- [x] Write the press release- [ ] Update the website- [ ] Contact the media<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li><input checked="" disabled="" type="checkbox"> Write the press release</li><li><input disabled="" type="checkbox"> Update the website</li><li><input disabled="" type="checkbox"> Contact the media</li></ul><h2 id="Emoji"><a href="#Emoji" class="headerlink" title="Emoji"></a>Emoji</h2><p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å°†è¡¨æƒ…ç¬¦å·æ·»åŠ åˆ°Markdownæ–‡ä»¶ä¸­ï¼šå°†è¡¨æƒ…ç¬¦å·å¤åˆ¶å¹¶ç²˜è´´åˆ°Markdownæ ¼å¼çš„æ–‡æœ¬ä¸­ï¼Œæˆ–è€…é”®å…¥<em>emoji shortcodes</em>ã€‚</p><p>###å¤åˆ¶å’Œç²˜è´´è¡¨æƒ…ç¬¦å·</p><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°ä»<a href="https://emojipedia.org/">Emojipedia</a> ç­‰æ¥æºå¤åˆ¶è¡¨æƒ…ç¬¦å·å¹¶å°†å…¶ç²˜è´´åˆ°æ–‡æ¡£ä¸­ã€‚è®¸å¤šMarkdownåº”ç”¨ç¨‹åºä¼šè‡ªåŠ¨ä»¥Markdownæ ¼å¼çš„æ–‡æœ¬æ˜¾ç¤ºè¡¨æƒ…ç¬¦å·ã€‚ä»Markdownåº”ç”¨ç¨‹åºå¯¼å‡ºçš„HTMLå’ŒPDFæ–‡ä»¶åº”æ˜¾ç¤ºè¡¨æƒ…ç¬¦å·ã€‚</p><p><strong>Tip:</strong> å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œè¯·ç¡®ä¿å°†HTMLé¡µé¢ç¼–ç ä¸ºUTF-8ã€‚.</p><p>###ä½¿ç”¨è¡¨æƒ…ç¬¦å·ç®€ç </p><p>ä¸€äº›Markdownåº”ç”¨ç¨‹åºå…è®¸æ‚¨é€šè¿‡é”®å…¥è¡¨æƒ…ç¬¦å·çŸ­ä»£ç æ¥æ’å…¥è¡¨æƒ…ç¬¦å·ã€‚è¿™äº›ä»¥å†’å·å¼€å¤´å’Œç»“å°¾ï¼Œå¹¶åŒ…å«è¡¨æƒ…ç¬¦å·çš„åç§°ã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">å»éœ²è¥äº†ï¼ :tent: å¾ˆå¿«å›æ¥ã€‚çœŸå¥½ç¬‘ï¼ :joy:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>å»éœ²è¥äº†ï¼â›ºå¾ˆå¿«å›æ¥ã€‚</p><p>çœŸå¥½ç¬‘ï¼ğŸ˜‚</p><p><strong>Note:</strong> æ³¨æ„ï¼šæ‚¨å¯ä»¥ä½¿ç”¨æ­¤<a href="https://gist.github.com/rxaviers/7360908">è¡¨æƒ…ç¬¦å·ç®€ç åˆ—è¡¨</a>ï¼Œä½†è¯·è®°ä½ï¼Œè¡¨æƒ…ç¬¦å·ç®€ç å› åº”ç”¨ç¨‹åºè€Œå¼‚ã€‚</p><h1 id="è‡ªåŠ¨ç½‘å€é“¾æ¥"><a href="#è‡ªåŠ¨ç½‘å€é“¾æ¥" class="headerlink" title="è‡ªåŠ¨ç½‘å€é“¾æ¥"></a>è‡ªåŠ¨ç½‘å€é“¾æ¥</h1><p>è®¸å¤šMarkdownå¤„ç†å™¨ä¼šè‡ªåŠ¨å°†URLè½¬æ¢ä¸ºé“¾æ¥ã€‚è¿™æ„å‘³ç€å¦‚æœè¾“å…¥<a href="http://www.example.comï¼Œå³ä½¿æœª[ä½¿ç”¨æ–¹æ‹¬å·](https://markdown.com.cn/basic-syntax/links.html)ï¼Œä¹Ÿä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºé“¾æ¥ã€‚">http://www.example.comï¼Œå³ä½¿æœª[ä½¿ç”¨æ–¹æ‹¬å·](https://markdown.com.cn/basic-syntax/links.html)ï¼Œä¹Ÿä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºé“¾æ¥ã€‚</a></p><pre class="line-numbers language-text" data-language="text"><code class="language-text">http://www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘ˆç°çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><a href="http://www.example.com/">http://www.example.com</a></p><h3 id="ç¦ç”¨è‡ªåŠ¨URLé“¾æ¥"><a href="#ç¦ç”¨è‡ªåŠ¨URLé“¾æ¥" class="headerlink" title="ç¦ç”¨è‡ªåŠ¨URLé“¾æ¥"></a>ç¦ç”¨è‡ªåŠ¨URLé“¾æ¥</h3><p>å¦‚æœä¸å¸Œæœ›è‡ªåŠ¨é“¾æ¥URLï¼Œåˆ™å¯ä»¥ä½¿ç”¨åå¼•å·æ¥ç¦æ­¢</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">`http://www.example.com`<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘ˆç°çš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><code>http://www.example.com</code></p><h2 id="Diagrams"><a href="#Diagrams" class="headerlink" title="Diagrams"></a>Diagrams</h2>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/3eeb.html"/>
      <url>/posts/3eeb.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
